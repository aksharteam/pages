!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("layout",[],t):"object"==typeof exports?exports.layout=t():(e.CardFields=e.CardFields||{},e.CardFields.layout=t())}("undefined"!=typeof self?self:this,function(){return function(e){function __webpack_require__(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}var t={};return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,i){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=5144)}({10:function(e,t){function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(i===setTimeout)return setTimeout(e,0);if((i===defaultSetTimout||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}function runClearTimeout(e){if(r===clearTimeout)return clearTimeout(e);if((r===defaultClearTimeout||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}function cleanUpNextTick(){s&&o&&(s=!1,o.length?a=o.concat(a):l=-1,a.length&&drainQueue())}function drainQueue(){if(!s){var e=runTimeout(cleanUpNextTick);s=!0;for(var t=a.length;t;){for(o=a,a=[];++l<t;)o&&o[l].run();l=-1,t=a.length}o=null,s=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var i,r,n=e.exports={};!function(){try{i="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){i=defaultSetTimout}try{r="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){r=defaultClearTimeout}}();var o,a=[],s=!1,l=-1;n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];a.push(new Item(e,t)),1!==a.length||s||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=noop,n.addListener=noop,n.once=noop,n.off=noop,n.removeListener=noop,n.removeAllListeners=noop,n.emit=noop,n.prependListener=noop,n.prependOnceListener=noop,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},12:function(e,t,i){"use strict";(function(e){function createSubmissionToken(e){var t=Math.floor(98*Math.random())+1,i=(new Date).getTime();return"jf_"+e.toString().substr(0,5)+i+t}function createInput(t){for(var i=e.document.createElement("input"),r=Object.keys(t),n=0;n<r.length;n++){var o=r[n];i[o]=t[o]}return i}function parseJSON(e){try{return!!e&&((void 0===e?"undefined":n(e))===n("string")?JSON.parse(e):e)}catch(e){return!1}}function getInputValidations(e){return e.className.replace(/.*validate\[(.*)].*/,"$1").split(/\s*,\s*/)}function fuzzySearch(e,t){for(var i=t,r=e.split(""),n=e,o=[],a=1;a<=r.length;a++){var s=n.substr(0,a),l=n.substr(a+1,n.length-a);o.push(s+"|"+l)}var d=[];return o.forEach(function(e){i.forEach(function(t){var i=t.toLowerCase(),r=e.toLowerCase().split("|"),n=i.indexOf(r[0]),o=i.indexOf(r[1]);-1!==n&&-1!==o&&-1===d.indexOf(i)&&d.push(i)})}),d}function htmlToText(e){var t=e.childCount>0?e.childElements():[e];return u(t,function(e,t){return e+" "+t.textContent.trim()},"").trim()}function getSelectedRange(){if(e.getSelection){var t=e.getSelection();if(t.getRangeAt&&t.rangeCount){for(var i=[],r=0;r<t.rangeCount;r++)i.push(t.getRangeAt(r));return i}}else if(e.selection&&e.selection.createRange)return e.selection.createRange();return null}function setSelectionRange(t){if(t)if(e.getSelection){var i=e.getSelection();if(document.body.createTextRange){var r=document.body.createTextRange();r.collapse(),r.select()}else i.removeAllRanges();c(t,function(e){return i.addRange(e)})}else e.document.selection&&this.selectionState.select&&t.select()}function findOne(e,t){return t.some(function(t){return e.indexOf(t)>-1})}function findIndex(e,t){var i=-1;return t.some(function(t){return e.indexOf(t)>-1&&(i=e.indexOf(t),!0)}),i}function triggerEvent(e,t){if(document.createEvent){var i=document.createEvent("HTMLEvents");i.initEvent(t,!1,!0),e.dispatchEvent(i)}else e.fireEvent&&e.fireEvent("on"+t)}function enableDisableDOMElements(e,t){var i=(void 0===e?"undefined":n(e))===n([])?e:[e];c(i,function(e){e&&(t?e.removeAttribute("disabled"):e.setAttribute("disabled","disabled"))})}function calculateOrientationType(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0){case 90:return"landscape-primary";case-90:return"landscape-secondary";case 180:return"portrait-secondary";default:return"portrait-primary"}}function sendAnalyticsData(t,i,o){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=a||-1===e.location.href.indexOf("jotform.pro"),l=-1!==e.location.href.indexOf("?preview");i&&"object"===(void 0===o?"undefined":n(o))&&e.XMLHttpRequest&&s&&!l||console.warn("Invalid usage");var d=new e.XMLHttpRequest,c=JSON.stringify(r({},o,{formID:t}));try{d.open("POST","https://www.jotform.com/stylebuilder/"+t+"&action=sendAnalyticData&collection="+i+"&data="+encodeURIComponent(c)),d.setRequestHeader("Content-Type","application/json;charset=UTF-8"),d.send()}catch(e){console.error("Couldn't sent analytics data {"+i+": "+c+"} .",e)}}function translateItem(t){var i=t,r=e.FormTranslation;if(!r||!i)return!1;var n=i.innerHTML,o=[].concat(r.originalFormElements,r.originalDynamicFormElements).filter(function(e){return e.element===i}),a=o&&o[0]&&o[0].html;if(i&&n&&a){var s=r.translateCardTexts(a);i.innerHTML=s||a}}function translateDefaultCardFormTexts(){e.FormTranslation&&c([".payment-text",".cardProgress-goBack-text",".cardProgress-seeAll",".cardProgress-middleText",".jfWelcome-sectionInfo-text",".js-sacl-saved",".js-sacl-valid-email",".js-sacl-error",".js-sacl-textarea",".js-sacl-title",".js-emailSent-feedback",".js-saveContinueSendEmail",".js-sacl-link",".js-sacl-share",".js-sacl-state-text",".js-saveContinueTryAgain",".jfUpload-button",".jfUpload-heading .forDesktop",".jfUpload-heading .forMobile",".jfUpload-subheading .minFileSize",".jfUpload-subheading .maxFileSize"],function(e){var t=null;t=".payment-text"===e?document.querySelectorAll(e):document.querySelector(e),"object"===(void 0===t?"undefined":n(t))&&null!==t&&void 0!==t.length?c(t,function(e){translateItem(e)}):t&&translateItem(t)})}function getBrowserProperties(){var e="undefined"!=typeof window&&a.default.getParser(window.navigator.userAgent);return{osName:e?e.getOSName():"",browserName:e?e.getBrowserName():"",isAndroid:!!e&&e.isOS("android"),isWebkit:!!e&&(e.isEngine("webkit")||e.isEngine("blink")),isMobile:!!e&&e.isPlatform("mobile"),isTablet:!!e&&e.isPlatform("tablet"),browserVersion:e?e.getBrowserVersion():"",osVersion:e?e.getOSVersion():""}}function getDeviceType(){if(e.location&&e.location.href.indexOf("&forceMobileDevice=1")>-1)return"Mobile";var t=getBrowserProperties(),i=t.isMobile,r=t.isTablet,n=t.osName,o=t.browserVersion,a=t.browserName;return i||r?i?"Mobile":"Tablet":"macOS"===n&&o.split(".")[0]>=13&&"Safari"===a&&window.navigator&&window.navigator.maxTouchPoints>1?"Tablet":"Desktop"}t.__esModule=!0,t.makeHiddenSubmissionKey=t.debounce=t.isVisible=t.hasTouch=t.reduce=t.map=t.forEach=t.isDescendant=t.closest=t.toggleClass=t.hasClass=t.removeAttribute=t.setAttribute=t.removeClass=t.addClass=t.cardSize=t.deviceSize=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.createSubmissionToken=createSubmissionToken,t.createInput=createInput,t.parseJSON=parseJSON,t.getInputValidations=getInputValidations,t.fuzzySearch=fuzzySearch,t.htmlToText=htmlToText,t.getSelectedRange=getSelectedRange,t.setSelectionRange=setSelectionRange,t.findOne=findOne,t.findIndex=findIndex,t.triggerEvent=triggerEvent,t.enableDisableDOMElements=enableDisableDOMElements,t.calculateOrientationType=calculateOrientationType,t.sendAnalyticsData=sendAnalyticsData,t.translateDefaultCardFormTexts=translateDefaultCardFormTexts,t.getBrowserProperties=getBrowserProperties,t.getDeviceType=getDeviceType;var o=i(4336),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=(t.deviceSize={cardwidthp:480,cardwidthpt:736,cardwidtht:860,cardwidthsm:992,cardwidthm:1200,cardwidthxl:1366},t.cardSize={cardwidthp:"100%",cardwidthpt:"90%",cardwidtht:"95%",cardwidthsm:840,cardwidthm:940,cardwidthxl:940},t.addClass=function(e,t){var i=e,r=(i.className||"").split(" ").filter(function(e){return e});r.indexOf(t)>-1||(r.push(t),i.className=r.join(" "))}),l=t.removeClass=function(e,t){var i=e;if(i&&i.className&&"string"==typeof i.className){var r=i.className.split(" ").filter(function(e){return e&&e!==t});i.className=r.join(" ")}},d=(t.setAttribute=function(e,t,i){var r=e;r&&r.setAttribute&&"function"==typeof r.setAttribute&&r.setAttribute(t,i)},t.removeAttribute=function(e,t){var i=e;i&&i.setAttribute&&"function"==typeof i.removeAttribute&&i.removeAttribute(t)},t.hasClass=function(e,t){if(e.className&&"string"==typeof e.className){return e.className.split(" ").indexOf(t)>-1}}),c=(t.toggleClass=function(e,t){if(e)return d(e,t)?l(e,t):s(e,t)},t.closest=function(e,t,i){for(var r=e,n=null;r;){if(r.matches(t)){n=r;break}if(i&&r.matches(i))break;r=r.parentElement}return n},t.isDescendant=function isDescendant(e,t){var i=t.parentNode;return null!==i&&(i===e||isDescendant(e,i))},t.forEach=function(e,t){Array.prototype.forEach.call(e,t)}),u=(t.map=function(e,t){return Array.prototype.map.call(e,t)},t.reduce=function(e,t,i){return Array.prototype.reduce.call(e,t,i)});t.hasTouch=function(){var t="rc.jotform.com"===e.location.hostname,i=!!("ontouchstart"in window||window.navigator&&window.navigator.maxTouchPoints>0&&window.navigator.msMaxTouchPoints>0&&window.navigator.msPointerEnabled&&window.MSGesture||window.DocumentTouch&&document instanceof DocumentTouch)&&!t;if(i){var r=document.querySelector(".jfForm-wrapper");s(r,"hasTouch")}return i},t.isVisible=function(e){if(!(e instanceof window.Element))throw Error("DomUtil: elem is not an element.");var t=window.getComputedStyle(e);if("none"===t.display)return!1;if("visible"!==t.visibility)return!1;if(t.opacity<.1)return!1;if(e.offsetWidth+e.offsetHeight+e.getBoundingClientRect().height+e.getBoundingClientRect().width===0)return!1;var i={x:e.getBoundingClientRect().left+e.offsetWidth/2,y:e.getBoundingClientRect().top+e.offsetHeight/2};if(i.x<0)return!1;if(i.x>(document.documentElement.clientWidth||window.innerWidth))return!1;if(i.y<0)return!1;if(i.y>(document.documentElement.clientHeight||window.innerHeight))return!1;for(var r=document.elementFromPoint(i.x,i.y);null!==r;){if(r===e)return!0;r=r.parentNode}return!1},t.debounce=function(e,t,i){var r;return function(){for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var s=function(){r=null,i||e.apply(void 0,o)},l=i&&!r;clearTimeout(r),r=setTimeout(s,t),l&&e.apply(void 0,o)}},t.makeHiddenSubmissionKey=function(e){return"jfHiddenSubmission_"+e}}).call(t,i(6))},4336:function(e,t,i){!function(t,i){e.exports=i()}(0,function(){return function(e){function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}var t={};return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=90)}({17:function(t,i,r){"use strict";i.__esModule=!0,i.default=void 0;var n=r(18),o=function(){function e(){}return e.getFirstMatch=function(e,t){var i=t.match(e);return i&&i.length>0&&i[1]||""},e.getSecondMatch=function(e,t){var i=t.match(e);return i&&i.length>1&&i[2]||""},e.matchAndReturnConst=function(e,t,i){if(e.test(t))return i},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,i,r){void 0===r&&(r=!1);var n=e.getVersionPrecision(t),o=e.getVersionPrecision(i),a=Math.max(n,o),s=0,l=e.map([t,i],function(t){var i=a-e.getVersionPrecision(t),r=t+new Array(i+1).join(".0");return e.map(r.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});for(r&&(s=a-Math.min(n,o)),a-=1;a>=s;){if(l[0][a]>l[1][a])return 1;if(l[0][a]===l[1][a]){if(a===s)return 0;a-=1}else if(l[0][a]<l[1][a])return-1}},e.map=function(e,t){var i,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(i=0;i<e.length;i+=1)r.push(t(e[i]));return r},e.find=function(e,t){var i,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(i=0,r=e.length;i<r;i+=1){var n=e[i];if(t(n,i))return n}},e.assign=function(e){for(var t,i,r=e,n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));for(t=0,i=o.length;t<i;t+=1)!function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach(function(t){r[t]=e[t]})}();return e},e.getBrowserAlias=function(e){return n.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return n.BROWSER_MAP[e]||""},e}();i.default=o,t.exports=i.default},18:function(e,t,i){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(t,i,r){"use strict";function a(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}i.__esModule=!0,i.default=void 0;var n,o=(n=r(91))&&n.__esModule?n:{default:n},s=r(18),l=function(){function e(){}var t,i,r;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new o.default(e,t)},e.parse=function(e){return new o.default(e).getResult()},t=e,r=[{key:"BROWSER_MAP",get:function(){return s.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return s.ENGINE_MAP}},{key:"OS_MAP",get:function(){return s.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return s.PLATFORMS_MAP}}],(i=null)&&a(t.prototype,i),r&&a(t,r),e}();i.default=l,t.exports=i.default},91:function(t,i,r){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}i.__esModule=!0,i.default=void 0;var n=u(r(92)),o=u(r(93)),a=u(r(94)),s=u(r(95)),l=u(r(17)),d=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=l.default.find(n.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=l.default.find(o.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=l.default.find(a.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=l.default.find(s.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return l.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,i={},r=0,n={},o=0;if(Object.keys(e).forEach(function(t){var a=e[t];"string"==typeof a?(n[t]=a,o+=1):"object"==typeof a&&(i[t]=a,r+=1)}),r>0){var a=Object.keys(i),s=l.default.find(a,function(e){return t.isOS(e)});if(s){var d=this.satisfies(i[s]);if(void 0!==d)return d}var c=l.default.find(a,function(e){return t.isPlatform(e)});if(c){var u=this.satisfies(i[c]);if(void 0!==u)return u}}if(o>0){var h=Object.keys(n),p=l.default.find(h,function(e){return t.isBrowser(e,!0)});if(void 0!==p)return this.compareVersion(n[p])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var i=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),n=l.default.getBrowserTypeByAlias(r);return t&&n&&(r=n.toLowerCase()),r===i},t.compareVersion=function(e){var t=[0],i=e,r=!1,n=this.getBrowserVersion();if("string"==typeof n)return">"===e[0]||"<"===e[0]?(i=e.substr(1),"="===e[1]?(r=!0,i=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?i=e.substr(1):"~"===e[0]&&(r=!0,i=e.substr(1)),t.indexOf(l.default.compareVersions(n,i,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some(function(e){return t.is(e)})},e}();i.default=d,t.exports=i.default},92:function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var r,n=(r=i(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},i=n.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||n.default.getFirstMatch(o,e);return i&&(t.version=i),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},i=n.default.getFirstMatch(o,e)||n.default.getFirstMatch(/(?:opera)[\s\/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},i=n.default.getFirstMatch(/(?:opr|opios)[\s\/](\S+)/i,e)||n.default.getFirstMatch(o,e);return i&&(t.version=i),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},i=n.default.getFirstMatch(o,e)||n.default.getFirstMatch(/(?:SamsungBrowser)[\s\/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},i=n.default.getFirstMatch(o,e)||n.default.getFirstMatch(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},i=n.default.getFirstMatch(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i,e)||n.default.getFirstMatch(o,e);return i&&(t.version=i),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},i=n.default.getFirstMatch(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i,e)||n.default.getFirstMatch(o,e);return i&&(t.version=i),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},i=n.default.getFirstMatch(/(?:swing)[\s\/](\d+(?:\.\d+)+)/i,e)||n.default.getFirstMatch(o,e);return i&&(t.version=i),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},i=n.default.getFirstMatch(o,e)||n.default.getFirstMatch(/(?:coast)[\s\/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},i=n.default.getFirstMatch(/(?:opt)[\s\/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(o,e);return i&&(t.version=i),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},i=n.default.getFirstMatch(/(?:yabrowser)[\s\/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(o,e);return i&&(t.version=i),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},i=n.default.getFirstMatch(o,e)||n.default.getFirstMatch(/(?:ucbrowser)[\s\/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},i=n.default.getFirstMatch(o,e)||n.default.getFirstMatch(/(?:Maxthon|mxios)[\s\/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},i=n.default.getFirstMatch(o,e)||n.default.getFirstMatch(/(?:epiphany)[\s\/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},i=n.default.getFirstMatch(o,e)||n.default.getFirstMatch(/(?:puffin)[\s\/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},i=n.default.getFirstMatch(o,e)||n.default.getFirstMatch(/(?:sleipnir)[\s\/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},i=n.default.getFirstMatch(o,e)||n.default.getFirstMatch(/(?:k-meleon)[\s\/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},i=n.default.getFirstMatch(/(?:micromessenger)[\s\/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(o,e);return i&&(t.version=i),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},i=n.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[\/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(o,e);return i&&(t.version=i),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},i=n.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},i=n.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},i=n.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},i=n.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},i=n.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},i=n.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return i&&(t.version=i),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},i=n.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},i=n.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},i=n.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},i=n.default.getFirstMatch(o,e)||n.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},i=n.default.getFirstMatch(o,e)||n.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},i=n.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},i=n.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(o,e);return i&&(t.version=i),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},i=n.default.getFirstMatch(/(?:qupzilla)[\s\/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(o,e);return i&&(t.version=i),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},i=n.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s\/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},i=n.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},i=n.default.getFirstMatch(/(?:MiuiBrowser)[\s\/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},i=n.default.getFirstMatch(/(?:chromium)[\s\/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(o,e);return i&&(t.version=i),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},i=n.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},i=n.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:function(e){var t=!e.test(/like android/i),i=e.test(/android/i);return t&&i},describe:function(e){var t={name:"Android Browser"},i=n.default.getFirstMatch(o,e);return i&&(t.version=i),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},i=n.default.getFirstMatch(o,e);return i&&(t.version=i),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},i=n.default.getFirstMatch(o,e);return i&&(t.version=i),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:n.default.getFirstMatch(t,e),version:n.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var r,n=(r=i(17))&&r.__esModule?r:{default:r},o=i(18),a=[{test:[/Roku\/DVP/],describe:function(e){var t=n.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=n.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=n.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),i=n.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:i}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},i=n.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return i&&(t.version=i),t}},{test:[/macintosh/i],describe:function(e){var t=n.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),i=n.default.getMacOSVersionName(t),r={name:o.OS_MAP.MacOS,version:t};return i&&(r.versionName=i),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=n.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),i=e.test(/android/i);return t&&i},describe:function(e){var t=n.default.getFirstMatch(/android[\s\/-](\d+(\.\d+)*)/i,e),i=n.default.getAndroidVersionName(t),r={name:o.OS_MAP.Android,version:t};return i&&(r.versionName=i),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=n.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),i={name:o.OS_MAP.WebOS};return t&&t.length&&(i.version=t),i}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=n.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||n.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||n.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=n.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=n.default.getFirstMatch(/tizen[\/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=n.default.getFirstMatch(/PlayStation 4[\/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var r,n=(r=i(17))&&r.__esModule?r:{default:r},o=i(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=n.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",i={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(i.model=t),i}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),i=e.test(/like (ipod|iphone)/i);return t&&!i},describe:function(e){var t=n.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var r,n=(r=i(17))&&r.__esModule?r:{default:r},o=i(18),a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=n.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},i=n.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},i=n.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:function(e){var t=e.test(/gecko/i),i=e.test(/like gecko/i);return t&&!i},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},i=n.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},i=n.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}}];t.default=a,e.exports=t.default}})})},4365:function(e,t,i){(function(e){function Timeout(e,t){this._id=e,this._clearFn=t}var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;t.setTimeout=function(){return new Timeout(n.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new Timeout(n.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},i(4648),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(t,i(6))},4645:function(e,t,i){"use strict";(function(e){i(4646);var t=i(4647),r=function(e){return e&&e.__esModule?e:{default:e}}(t);e.Promise||(e.Promise=r.default),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],n=0;n<i;){var o=t[n];if(e.call(r,o,n,t))return o;n++}}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],n=0;n<i;){var o=t[n];if(e.call(r,o,n,t))return n;n++}return-1}}),Array.prototype.forEach||(Array.prototype.forEach=function(e){var t,i;if(null==this)throw new TypeError("this is null or not defined");var r=Object(this),n=r.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(t=arguments[1]),i=0;i<n;){var o;i in r&&(o=r[i],e.call(t,o,i,r)),i++}}),e.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(t,i){i=i||e;for(var r=0;r<this.length;r++)t.call(i,this[r],r,this)}),!Object.prototype.__defineGetter__&&Object.defineProperty({},"x",{get:function(){return!0}}).x&&(Object.defineProperty(Object.prototype,"__defineGetter__",{enumerable:!1,configurable:!0,value:function(e,t){Object.defineProperty(this,e,{get:t,enumerable:!0,configurable:!0})}}),Object.defineProperty(Object.prototype,"__defineSetter__",{enumerable:!1,configurable:!0,value:function(e,t){Object.defineProperty(this,e,{set:t,enumerable:!0,configurable:!0})}})),Array.from||(Array.from=function(){var e=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},i=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t},r=Math.pow(2,53)-1,n=function(e){var t=i(e);return Math.min(Math.max(t,0),r)};return function(e){var i=this,r=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var o,a=arguments.length>1?arguments[1]:void 0;if(void 0!==a){if(!t(a))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(o=arguments[2])}for(var s,l=n(r.length),d=t(i)?Object(new i(l)):new Array(l),c=0;c<l;)s=r[c],d[c]=a?void 0===o?a(s,c):a.call(o,s,c):s,c+=1;return d.length=l,d}}()),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),e.Element&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),i=t.length;--i>=0&&t.item(i)!==this;);return i>-1}),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this,i=this;if(!document.documentElement.contains(t))return null;do{if(i.matches(e))return i;i=i.parentElement}while(null!==i);return null})),String.fromCodePoint||function(){var e=function(){try{var e={},t=Object.defineProperty,i=t(e,e,e)&&t}catch(e){}return i}(),t=String.fromCharCode,i=Math.floor,r=function(){var e,r,n=[],o=-1,a=arguments.length;if(!a)return"";for(var s="";++o<a;){var l=Number(arguments[o]);if(!isFinite(l)||l<0||l>1114111||i(l)!=l)throw RangeError("Invalid code point: "+l);l<=65535?n.push(l):(l-=65536,e=55296+(l>>10),r=l%1024+56320,n.push(e,r)),(o+1==a||n.length>16384)&&(s+=t.apply(null,n),n.length=0)}return s};e?e(String,"fromCodePoint",{value:r,configurable:!0,writable:!0}):String.fromCodePoint=r}(),e.location&&!e.location.origin&&(e.location.origin=e.location.protocol+"//"+e.location.hostname+(e.location.port?":"+e.location.port:"")),function(){if("function"==typeof e.createNewEvent)return!1;e.createNewEvent=function(t){if("function"==typeof e.Event)var i=new e.Event(t);else{var i=document.createEvent("Event");i.initEvent(t,!0,!0)}return i}}()}).call(t,i(6))},4646:function(e,t){!function(e){"use strict";function normalizeName(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function normalizeValue(e){return"string"!=typeof e&&(e=String(e)),e}function iteratorFor(e){var i={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(i[Symbol.iterator]=function(){return i}),i}function Headers(e){this.map={},e instanceof Headers?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function consumed(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function fileReaderReady(e){return new Promise(function(t,i){e.onload=function(){t(e.result)},e.onerror=function(){i(e.error)}})}function readBlobAsArrayBuffer(e){var t=new FileReader,i=fileReaderReady(t);return t.readAsArrayBuffer(e),i}function readBlobAsText(e){var t=new FileReader,i=fileReaderReady(t);return t.readAsText(e),i}function readArrayBufferAsText(e){for(var t=new Uint8Array(e),i=new Array(t.length),r=0;r<t.length;r++)i[r]=String.fromCharCode(t[r]);return i.join("")}function bufferClone(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function Body(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&r(e))this._bodyArrayBuffer=bufferClone(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!n(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=bufferClone(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=consumed(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?consumed(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(readBlobAsArrayBuffer)}),this.text=function(){var e=consumed(this);if(e)return e;if(this._bodyBlob)return readBlobAsText(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(decode)}),this.json=function(){return this.text().then(JSON.parse)},this}function normalizeMethod(e){var t=e.toUpperCase();return o.indexOf(t)>-1?t:e}function Request(e,t){t=t||{};var i=t.body;if(e instanceof Request){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new Headers(e.headers)),this.method=e.method,this.mode=e.mode,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new Headers(t.headers)),this.method=normalizeMethod(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function decode(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var i=e.split("="),r=i.shift().replace(/\+/g," "),n=i.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(n))}}),t}function parseHeaders(e){var t=new Headers;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var i=e.split(":"),r=i.shift().trim();if(r){var n=i.join(":").trim();t.append(r,n)}}),t}function Response(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new Headers(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(e){return e&&DataView.prototype.isPrototypeOf(e)},n=ArrayBuffer.isView||function(e){return e&&i.indexOf(Object.prototype.toString.call(e))>-1};Headers.prototype.append=function(e,t){e=normalizeName(e),t=normalizeValue(t);var i=this.map[e];this.map[e]=i?i+","+t:t},Headers.prototype.delete=function(e){delete this.map[normalizeName(e)]},Headers.prototype.get=function(e){return e=normalizeName(e),this.has(e)?this.map[e]:null},Headers.prototype.has=function(e){return this.map.hasOwnProperty(normalizeName(e))},Headers.prototype.set=function(e,t){this.map[normalizeName(e)]=normalizeValue(t)},Headers.prototype.forEach=function(e,t){for(var i in this.map)this.map.hasOwnProperty(i)&&e.call(t,this.map[i],i,this)},Headers.prototype.keys=function(){var e=[];return this.forEach(function(t,i){e.push(i)}),iteratorFor(e)},Headers.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),iteratorFor(e)},Headers.prototype.entries=function(){var e=[];return this.forEach(function(t,i){e.push([i,t])}),iteratorFor(e)},t.iterable&&(Headers.prototype[Symbol.iterator]=Headers.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})},Body.call(Request.prototype),Body.call(Response.prototype),Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})},Response.error=function(){var e=new Response(null,{status:0,statusText:""});return e.type="error",e};var a=[301,302,303,307,308];Response.redirect=function(e,t){if(-1===a.indexOf(t))throw new RangeError("Invalid status code");return new Response(null,{status:t,headers:{location:e}})},e.Headers=Headers,e.Request=Request,e.Response=Response,e.fetch=function(e,i){return new Promise(function(r,n){var o=new Request(e,i),a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:parseHeaders(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;r(new Response(t,e))},a.onerror=function(){n(new TypeError("Network request failed"))},a.ontimeout=function(){n(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&t.blob&&(a.responseType="blob"),o.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},4647:function(e,t,i){(function(t){!function(i){function noop(){}function bind(e,t){return function(){e.apply(t,arguments)}}function Promise(e){if(!(this instanceof Promise))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],doResolve(e,this)}function handle(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0,Promise._immediateFn(function(){var i=1===e._state?t.onFulfilled:t.onRejected;if(null===i)return void(1===e._state?resolve:reject)(t.promise,e._value);var r;try{r=i(e._value)}catch(e){return void reject(t.promise,e)}resolve(t.promise,r)})}function resolve(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var i=t.then;if(t instanceof Promise)return e._state=3,e._value=t,void finale(e);if("function"==typeof i)return void doResolve(bind(i,t),e)}e._state=1,e._value=t,finale(e)}catch(t){reject(e,t)}}function reject(e,t){e._state=2,e._value=t,finale(e)}function finale(e){2===e._state&&0===e._deferreds.length&&Promise._immediateFn(function(){e._handled||Promise._unhandledRejectionFn(e._value)});for(var t=0,i=e._deferreds.length;t<i;t++)handle(e,e._deferreds[t]);e._deferreds=null}function Handler(e,t,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=i}function doResolve(e,t){var i=!1;try{e(function(e){i||(i=!0,resolve(t,e))},function(e){i||(i=!0,reject(t,e))})}catch(e){if(i)return;i=!0,reject(t,e)}}var r=setTimeout;Promise.prototype.catch=function(e){return this.then(null,e)},Promise.prototype.then=function(e,t){var i=new this.constructor(noop);return handle(this,new Handler(e,t,i)),i},Promise.all=function(e){return new Promise(function(t,i){function res(e,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var a=o.then;if("function"==typeof a)return void a.call(o,function(t){res(e,t)},i)}r[e]=o,0==--n&&t(r)}catch(e){i(e)}}if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);for(var n=r.length,o=0;o<r.length;o++)res(o,r[o])})},Promise.resolve=function(e){return e&&"object"==typeof e&&e.constructor===Promise?e:new Promise(function(t){t(e)})},Promise.reject=function(e){return new Promise(function(t,i){i(e)})},Promise.race=function(e){return new Promise(function(t,i){for(var r=0,n=e.length;r<n;r++)e[r].then(t,i)})},Promise._immediateFn="function"==typeof t&&function(e){t(e)}||function(e){r(e,0)},Promise._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},Promise._setImmediateFn=function(e){Promise._immediateFn=e},Promise._setUnhandledRejectionFn=function(e){Promise._unhandledRejectionFn=e},void 0!==e&&e.exports?e.exports=Promise:i.Promise||(i.Promise=Promise)}(this)}).call(t,i(4365).setImmediate)},4648:function(e,t,i){(function(e,t){!function(e,i){"use strict";function setImmediate(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var a={callback:e,args:t};return o[n]=a,r(n),n++}function clearImmediate(e){delete o[e]}function run(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(i,r)}}function runIfPresent(e){if(a)setTimeout(runIfPresent,0,e);else{var t=o[e];if(t){a=!0;try{run(t)}finally{clearImmediate(e),a=!1}}}}if(!e.setImmediate){var r,n=1,o={},a=!1,s=e.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,"[object process]"==={}.toString.call(e.process)?function(){r=function(e){t.nextTick(function(){runIfPresent(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,i=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=i,t}}()?function(){var t="setImmediate$"+Math.random()+"$",i=function(i){i.source===e&&"string"==typeof i.data&&0===i.data.indexOf(t)&&runIfPresent(+i.data.slice(t.length))};e.addEventListener?e.addEventListener("message",i,!1):e.attachEvent("onmessage",i),r=function(i){e.postMessage(t+i,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){runIfPresent(e.data)},r=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;r=function(t){var i=s.createElement("script");i.onreadystatechange=function(){runIfPresent(t),i.onreadystatechange=null,e.removeChild(i),i=null},e.appendChild(i)}}():function(){r=function(e){setTimeout(runIfPresent,0,e)}}(),l.setImmediate=setImmediate,l.clearImmediate=clearImmediate}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,i(6),i(10))},4663:function(e,t,i){"use strict";t.__esModule=!0;var r=t.HiddenQuestionTypes=["control_helper","control_hidden","control_autoincrement"];t.default=r},4734:function(e,t,i){"use strict";(function(e){function isFilled(e){return!(!e||!e.replace(/^\s+|\s+$/g,""))}function isEmpty(e){return!isFilled(e)}function isEmail(e){var t=/^\S[a-z0-9\/.!#$%&'*+\/=?^_`{|}~-]*(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])$/i;return isFilled(e)&&t.test(e)}function isEqual(e,t){return JSON.stringify(e)===JSON.stringify(t)}function isValidUrl(t){var i=e.JotForm.validationRegexes.url;return isFilled(t)&&i.test(t)}t.__esModule=!0,t.isFilled=isFilled,t.isEmpty=isEmpty,t.isEmail=isEmail,t.isEqual=isEqual,t.isValidUrl=isValidUrl}).call(t,i(6))},4737:function(e,t,i){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},n=i(12),o=function(){function Overlay(e){var t=this;_classCallCheck(this,Overlay),this.questions=e.questions,this.hasSaveAndContinueLater=e.hasSaveAndContinueLater,this.overlayWrapper=document.querySelector(".js-overlayWrapper"),this.saclModal=document.getElementById("sacl-modal"),this.overlayImage=this.overlayWrapper.querySelector(".js-overlayImage"),this.overlayClose=this.overlayWrapper.querySelector(".jfOverlay-close"),this.init=this.init.bind(this),this.bindOverlayEvents=this.bindOverlayEvents.bind(this),this.openSaveAndContinueModal=this.openSaveAndContinueModal.bind(this),this.closeSaveAndContinueModal=this.closeSaveAndContinueModal.bind(this),this.clearImageSrc=this.clearImageSrc.bind(this),this.openOverlay=this.openOverlay.bind(this),this.overlayWrapper.addEventListener("click",function(e){var i=(0,n.closest)(e.target,"div");"image"===t.state&&(0,n.hasClass)(e.target,"js-overlayImage")?t.closeOverlay():"sacl"===t.state&&(0,n.hasClass)(i,"js-overlay-modalWrapper")&&t.closeOverlay()}),this.overlayClose.addEventListener("click",function(){t.closeOverlay()}),this.state=!1,this.init()}return Overlay.prototype.init=function(){var e=this;this.questions&&(this.overlayedQuestions=this.questions.filter(function(e){return"control_image"===e.type}),(0,n.forEach)(this.overlayedQuestions,function(t){e.bindOverlayEvents(t)}))},Overlay.prototype.openSaveAndContinueModal=function(){this.clearImageSrc(),this.openOverlay(),(0,n.addClass)(this.saclModal,"isVisible"),this.state="sacl"},Overlay.prototype.closeSaveAndContinueModal=function(){(0,n.removeClass)(this.saclModal,"isVisible")},Overlay.prototype.bindOverlayEvents=function(e){var t=this,i="id_"+e.id,n=document.getElementById(i),o=n.querySelector("img"),a=o.getAttribute("src"),s=r({},e,{src:a}),l=n.querySelector(".js-openNewTab");l&&l.addEventListener("click",function(){t.openOverlay(),t.openImageOverlay(s),t.state="image"})},Overlay.prototype.clearImageSrc=function(){this.overlayImage.src="#"},Overlay.prototype.openOverlay=function(){(0,n.addClass)(this.overlayWrapper,"isVisible")},Overlay.prototype.openImageOverlay=function(e){this.closeSaveAndContinueModal(),this.overlayImage.src=e.src},Overlay.prototype.closeOverlay=function(){this.clearImageSrc(),this.closeSaveAndContinueModal(),this.state=!1,(0,n.removeClass)(this.overlayWrapper,"isVisible")},Overlay}();t.default=o},4738:function(e,t,i){"use strict";t.__esModule=!0;t.defaultIcon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 38 38"><g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><path d="M37.8,7.81,29.59.18a.69.69,0,0,0-.5-.18H2.36A2.31,2.31,0,0,0,0,2.23V35.67A2.39,2.39,0,0,0,2.36,38H35.8A2.26,2.26,0,0,0,38,35.67V8.36A.72.72,0,0,0,37.8,7.81ZM8.36,1.52H26.6V16H8.36ZM36.48,35.67a.74.74,0,0,1-.68.81H2.36a.88.88,0,0,1-.84-.81V2.23a.79.79,0,0,1,.84-.71H6.84V16.67a.88.88,0,0,0,.84.81H27.44a.74.74,0,0,0,.68-.81V1.52h.67l7.69,7.17Z" style="fill:#fff"/><rect x="22.04" y="3.8" width="1.52" height="9.88" style="fill:#fff"/><path d="M27.45,24.32H7.68a.76.76,0,0,0,0,1.52H27.45a.76.76,0,0,0,0-1.52Z" style="fill:#fff"/><path d="M27.45,28.12H7.68a.76.76,0,1,0,0,1.52H27.45a.76.76,0,0,0,0-1.52Z" style="fill:#fff"/><path d="M27.45,31.92H7.68a.76.76,0,0,0,0,1.52H27.45a.76.76,0,0,0,0-1.52Z" style="fill:#fff"/></g></g></svg>',t.savedIcon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 45 45"><g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><path d="M37.8,7.81,29.59.18a.69.69,0,0,0-.5-.18H2.36A2.31,2.31,0,0,0,0,2.23V35.67A2.39,2.39,0,0,0,2.36,38H35.8A2.26,2.26,0,0,0,38,35.67V8.36A.72.72,0,0,0,37.8,7.81ZM8.36,1.52H26.6V16H8.36ZM36.48,35.67a.74.74,0,0,1-.68.81H2.36a.88.88,0,0,1-.84-.81V2.23a.79.79,0,0,1,.84-.71H6.84V16.67a.88.88,0,0,0,.84.81H27.44a.74.74,0,0,0,.68-.81V1.52h.67l7.69,7.17Z" style="fill:#fff"/><rect x="22.04" y="3.8" width="1.52" height="9.88" style="fill:#fff"/><path d="M27.45,24.32H7.68a.76.76,0,0,0,0,1.52H27.45a.76.76,0,0,0,0-1.52Z" style="fill:#fff"/><path d="M27.45,28.12H7.68a.76.76,0,1,0,0,1.52H27.45a.76.76,0,0,0,0-1.52Z" style="fill:#fff"/><path d="M27.45,31.92H7.68a.76.76,0,0,0,0,1.52H27.45a.76.76,0,0,0,0-1.52Z" style="fill:#fff"/><rect width="45" height="45" style="fill:none"/><path d="M32.72,45A12.45,12.45,0,1,1,45,32.55,12.38,12.38,0,0,1,32.72,45Zm0-22.73A10.28,10.28,0,1,0,42.86,32.55,10.22,10.22,0,0,0,32.72,22.27Z" style="fill:#fff"/><path d="M32.72,21.6a11,11,0,1,0,10.8,10.95A10.88,10.88,0,0,0,32.72,21.6Z" style="fill:#399e39"/><path d="M40,28.52l-9.14,9.62a.54.54,0,0,1-.4.17.46.46,0,0,1-.4-.17l-4.57-5a.59.59,0,0,1-.17-.4.61.61,0,0,1,.17-.41l.8-.81a.55.55,0,0,1,.8,0L30.27,35a.28.28,0,0,0,.4,0l7.71-8a.55.55,0,0,1,.8,0l.8.81a.49.49,0,0,1,0,.75Z" style="fill:#fff"/></g></g></svg>',t.errorIcon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 45 45"><g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><path d="M37.8,7.81,29.59.18a.69.69,0,0,0-.5-.18H2.36A2.31,2.31,0,0,0,0,2.23V35.67A2.39,2.39,0,0,0,2.36,38H35.8A2.26,2.26,0,0,0,38,35.67V8.36A.72.72,0,0,0,37.8,7.81ZM8.36,1.52H26.6V16H8.36ZM36.48,35.67a.74.74,0,0,1-.68.81H2.36a.88.88,0,0,1-.84-.81V2.23a.79.79,0,0,1,.84-.71H6.84V16.67a.88.88,0,0,0,.84.81H27.44a.74.74,0,0,0,.68-.81V1.52h.67l7.69,7.17Z" style="fill:#fff"/><rect x="22.04" y="3.8" width="1.52" height="9.88" style="fill:#fff"/><path d="M27.45,24.32H7.68a.76.76,0,0,0,0,1.52H27.45a.76.76,0,0,0,0-1.52Z" style="fill:#fff"/><path d="M27.45,28.12H7.68a.76.76,0,1,0,0,1.52H27.45a.76.76,0,0,0,0-1.52Z" style="fill:#fff"/><path d="M27.45,31.92H7.68a.76.76,0,0,0,0,1.52H27.45a.76.76,0,0,0,0-1.52Z" style="fill:#fff"/><rect width="45" height="45" style="fill:none"/><path d="M32.72,45A12.45,12.45,0,1,1,45,32.55,12.38,12.38,0,0,1,32.72,45Zm0-22.73A10.28,10.28,0,1,0,42.86,32.55,10.22,10.22,0,0,0,32.72,22.27Z" style="fill:#fff"/><path d="M32.72,21.6a11,11,0,1,0,10.8,10.95A10.88,10.88,0,0,0,32.72,21.6Z" style="fill:#c1272d"/><path d="M28,28.13a1.06,1.06,0,0,1,1.12-1,1.33,1.33,0,0,1,.94.46L33,30.72l3.45-3.24a1.55,1.55,0,0,1,.92-.25,1,1,0,0,1,.69.33,1.13,1.13,0,0,1,.28.68,1.38,1.38,0,0,1-.26.89l-3.51,3.31,3.32,3.61A1.44,1.44,0,0,1,38,37a1.07,1.07,0,0,1-.33.66,1,1,0,0,1-.71.28,1.59,1.59,0,0,1-.9-.32L32.84,34l-3.5,3.31a1.33,1.33,0,0,1-1,.38,1.07,1.07,0,0,1-1.05-1.1,1.45,1.45,0,0,1,.38-.94l3.57-3.36L28.32,29.1A1.46,1.46,0,0,1,28,28.13Z" style="fill:#fff"/></g></g></svg>'},4974:function(e,t,i){"use strict";(function(e){function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},n=i(4975),o=_interopRequireDefault(n),a=i(4734),s=i(12),l=i(4737),d=_interopRequireDefault(l),c=i(4738),u=function(){function SaveAndContinueLater(e,t,i,n,o){_classCallCheck(this,SaveAndContinueLater),r(this,{continueLater:e,hiddenSubmitter:t,emailAnswerFinder:i,formID:n,apiURL:o}),this.inited=!1,this.states=Object.freeze({default:0,saving:1,saved:2,error:3}),this.isAutoCopyAvailable=!!document.queryCommandSupported("copy"),this.formId=document.forms[0].getAttribute("id"),this.overlay=new d.default({hasSaveAndContinueLater:!0}),this.initiate=this.initiate.bind(this),this.attachEvents=this.attachEvents.bind(this),this.removeEvents=this.removeEvents.bind(this),this.prepareModal=this.prepareModal.bind(this),this.openSaveAndContinueLaterModal=this.openSaveAndContinueLaterModal.bind(this),this.copyContinueLaterLink=this.copyContinueLaterLink.bind(this),this.sendEmail=this.sendEmail.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleInputBlur=this.handleInputBlur.bind(this),this.showInputError=this.showInputError.bind(this),this.hideInputError=this.hideInputError.bind(this),this.generateLink=this.generateLink.bind(this),this.switchToManualCopyMode=this.switchToManualCopyMode.bind(this),this.continue=this.continue.bind(this),this.trySaveAgain=this.trySaveAgain.bind(this),this.handleSaveFailure=this.handleSaveFailure.bind(this),this.handleSaveSuccess=this.handleSaveSuccess.bind(this),this.handleSendEmail=this.handleSendEmail.bind(this),this.saveAndContinueLaterButton=document.querySelectorAll(".jfProgress-sacl"),this.saclModal=document.getElementById("sacl-modal"),this.sendEmailButton=this.saclModal.querySelector(".js-saveContinueSendEmail"),this.continueLaterLinkWrapper=this.saclModal.querySelector(".sacl-linkWrapper"),this.continueLaterLinkElement=this.saclModal.querySelector(".js-continueLaterLink"),this.emailFeedbackText=this.saclModal.querySelector(".js-emailSent-feedback"),this.emailInput=this.saclModal.querySelector(".js-saveForLaterEmail"),this.emailInputError=this.saclModal.querySelector(".js-sacl-input-error"),this.copyContinueLinkButton=this.saclModal.querySelector(".js-shareableLinkButton"),this.tooltipTrigger=this.saclModal.querySelector(".js-shareableLinkButton.u-tooltipTrigger"),this.emailTooltipTrigger=this.saclModal.querySelector(".js-saveContinueSendEmail.u-tooltipTrigger"),this.tryAgainButton=this.saclModal.querySelector(".js-saveContinueTryAgain"),this.successContent=this.saclModal.querySelectorAll(".js-saveSuccessful"),this.failureContent=this.saclModal.querySelectorAll(".js-saveError"),this.saveAndContinueLaterButton&&this.copyContinueLinkButton&&this.emailInput&&this.sendEmailButton&&this.tryAgainButton&&this.attachEvents(),this.changeState(this.states.default)}return SaveAndContinueLater.prototype.initiate=function(){this.inited?(this.sessionID=e.JotForm.sessionID,this.token=e.JotForm.submissionToken||this.generateToken()):(this.inited=!0,this.sessionID=this.generateSessionID(),this.token=this.generateToken(),e.JotForm.sessionID=this.sessionID,e.JotForm.submissionToken=this.token),this.generateLink()},SaveAndContinueLater.prototype.attachEvents=function(){this.copyContinueLinkButton.addEventListener("click",this.copyContinueLaterLink),this.emailInput.addEventListener("input",this.handleInputChange),this.emailInput.addEventListener("blur",this.handleInputBlur),this.sendEmailButton.addEventListener("click",this.handleSendEmail),this.tryAgainButton.addEventListener("click",this.trySaveAgain)},SaveAndContinueLater.prototype.removeEvents=function(){var e=this;this.saveAndContinueLaterButton.forEach(function(t){return t.removeEventListener("click",e.openSaveAndContinueLaterModal)}),this.copyContinueLinkButton.removeEventListener("click",this.copyContinueLaterLink),this.emailInput.removeEventListener("input",this.handleInputChange),this.emailInput.removeEventListener("blur",this.handleInputBlur),this.sendEmailButton.removeEventListener("click",this.handleSendEmail),this.tryAgainButton.removeEventListener("click",this.trySaveAgain)},SaveAndContinueLater.prototype.trySaveAgain=function(){this.hiddenSubmitter(!0)},SaveAndContinueLater.prototype.handleSaveFailure=function(){this.failureContent.forEach(function(e){e.setStyle({display:"block"}),(0,s.removeClass)(e,"isHidden")}),this.successContent.forEach(function(e){e.setStyle({display:"none"}),(0,s.addClass)(e,"isHidden")})},SaveAndContinueLater.prototype.handleSaveSuccess=function(){this.successContent.forEach(function(e){e.setStyle({display:"block"}),(0,s.removeClass)(e,"isHidden")}),this.failureContent.forEach(function(e){e.setStyle({display:"none"}),(0,s.addClass)(e,"isHidden")})},SaveAndContinueLater.prototype.copyContinueLaterLink=function(){var t=this;this.continueLaterLinkElement.select();var i=document.execCommand("copy");if(!i){var r=document.createRange();r.selectNodeContents(this.continueLaterLinkElement);var n=e.getSelection();n.removeAllRanges(),n.addRange(r),this.continueLaterLinkElement.setSelectionRange(0,9999),i=document.execCommand("copy")}this.tooltipTrigger&&((0,s.addClass)(this.tooltipTrigger,"isActive"),setTimeout(function(){t.tooltipTrigger&&(0,s.removeClass)(t.tooltipTrigger,"isActive")},3e3))},SaveAndContinueLater.prototype.closeModal=function(){(0,s.removeClass)(this.saclModal2,"isVisible")},SaveAndContinueLater.prototype.openSaveAndContinueLaterModal2=function(){this.saclModal2=document.querySelector("#sacl-modal2"),(0,s.addClass)(this.saclModal2,"isVisible"),this.handleModalNavigation("signupOptions")},SaveAndContinueLater.prototype.handleModalNavigation=function(e){this.saclModal2.querySelectorAll(".js-sacl-page").forEach(function(e){(0,s.removeClass)(e,"visible")});var t=this.saclModal2.querySelector("#page-"+e);if(t)switch((0,s.addClass)(t,"visible"),e){case"withoutSignup":this.hiddenSubmitter()}},SaveAndContinueLater.prototype.openSaveAndContinueLaterModal=function(){this.initiate(),this.continueLater.active=!0,this.hiddenSubmitter(),this.prepareModal(this.emailAnswerFinder()),this.overlay.openSaveAndContinueModal()},SaveAndContinueLater.prototype.continue=function(){this.inited=!0,this.continueLaterLinkWrapper.active=!0,this.sessionID=e.JotForm.sessionID,this.submissionToken=e.JotForm.submissionToken,this.changeState(this.states.saved)},SaveAndContinueLater.prototype.changeState=function(e){var t=document.querySelector(".jf-saclState");if(t){var i=void 0,r=void 0;switch(e){case this.states.default:i=c.defaultIcon,r="Save & Continue Later";break;case this.states.saved:i=c.savedIcon,r="Answers saved",this.handleSaveSuccess();break;case this.states.error:i=c.errorIcon,r="Answers not saved",this.handleSaveFailure();break;default:i=c.defaultIcon,r="Save & Continue Later",console.info("No such state implemented:",e)}t.innerHTML='<span class="sacl-state-icon">'+i+'</span><span class="sacl-state-text js-sacl-state-text">'+r+"</span>"}},SaveAndContinueLater.prototype.generateLink=function(){var e=window.location.pathname.replace(/^\/?|\/?$/g,"");this.continueLink=window.location.origin+"/"+e+"?session="+this.sessionID+"&stoken="+this.token},SaveAndContinueLater.prototype.prepareModal=function(e){if(!this.inited)return void this.initiate();this.continueLaterLinkElement.innerHTML=this.continueLink,e&&(this.emailInput.value=e,this.handleInputChange()),this.isAutoCopyAvailable||this.switchToManualCopyMode()},SaveAndContinueLater.prototype.switchToManualCopyMode=function(){(0,s.removeClass)(this.continueLaterLinkElement,"isHidden"),this.continueLaterLinkElement.readOnly=!0,(0,s.addClass)(this.continueLaterLinkWrapper,"isHidden")},SaveAndContinueLater.prototype.generateSessionID=function(){return"JF-S4L-"+(0,o.default)(8)},SaveAndContinueLater.prototype.generateToken=function(){return"JF-"+(0,o.default)(8)+"-"+(this.formId.toString().slice(-1)/1*4+7)},SaveAndContinueLater.prototype.showInputError=function(){(0,s.addClass)(this.emailInputError,"isActive"),(0,s.addClass)(this.emailInput,"form-validation-error")},SaveAndContinueLater.prototype.hideInputError=function(){(0,s.removeClass)(this.emailInputError,"isActive"),(0,s.removeClass)(this.emailInput,"form-validation-error")},SaveAndContinueLater.prototype.handleInputBlur=function(){var e=this.emailInput.value;(0,a.isEmail)(e)?this.hideInputError():this.showInputError()},SaveAndContinueLater.prototype.handleInputChange=function(){var e=this.emailInput.value;(0,a.isEmail)(e)&&this.hideInputError()},SaveAndContinueLater.prototype.handleSendEmail=function(){this.handleInputBlur(),this.sendEmail(this.emailInput.value,!0)},SaveAndContinueLater.prototype.sendEmail=function(e){var t=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if((0,a.isEmail)(e)){var r=JSON.stringify({formID:this.formID,shareLink:this.continueLink,email:e,sessionID:this.sessionID,token:this.token});fetch(this.apiURL+"/sendSaveAndContinueEmail",{method:"POST",body:r}).then(function(e){e.json().then(function(e){200===e.responseCode&&i&&(t.emailTooltipTrigger?((0,s.addClass)(t.emailTooltipTrigger,"isActive"),setTimeout(function(){t.emailTooltipTrigger&&(0,s.removeClass)(t.emailTooltipTrigger,"isActive")},3e3)):(t.emailFeedbackText.style.display="inline",t.sendEmailButton.disabled="disabled"))})}).catch(function(e){e.json().then(function(e){console.error("err",e)})})}else console.error("Please enter a valid email address.")},SaveAndContinueLater}();t.default=u}).call(t,i(6))},4975:function(e,t,i){(function(t){if("production"!==t.env.NODE_ENV){if("undefined"!=typeof navigator&&"ReactNative"===navigator.product)throw new Error("React Native does not have a built-in secure random generator. If you don’t need unpredictable IDs, you can use `nanoid/non-secure`. For secure ID install `expo-random` locally and use `nanoid/async`.");if("undefined"==typeof self||!self.crypto&&!self.msCrypto)throw new Error("Your browser does not have secure random generator. If you don’t need unpredictable IDs, you can use nanoid/non-secure.")}for(var i=self.crypto||self.msCrypto,r="-_",n=36;n--;)r+=n.toString(36);for(n=36;n---10;)r+=n.toString(36).toUpperCase();e.exports=function(e){var t="",o=i.getRandomValues(new Uint8Array(e||21));for(n=e||21;n--;)t+=r[63&o[n]];return t}}).call(t,i(10))},4977:function(e,t,i){"use strict";t.__esModule=!0;t.ERROR_TYPES=Object.freeze({TOOLTIP:"tooltip"}),t.TOOLTIP_TYPES=Object.freeze({INFO:"info",ERROR:"error"})},4978:function(e,t,i){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=i(12),a=function(){function Slider(e){if(_classCallCheck(this,Slider),!e.container)throw new Error("Container not found");this.setRange=this.setRange.bind(this),this.setPointerValues=this.setPointerValues.bind(this),this.handleMoveStart=this.handleMoveStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleMoveEnd=this.handleMoveEnd.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.setFilled=this.setFilled.bind(this),this.moveNextStep=this.moveNextStep.bind(this),this.movePreviousStep=this.movePreviousStep.bind(this),this.makeInitialSelection=this.makeInitialSelection.bind(this),this.options=this.getDefaultOptions(),e.options&&n(e.options)===n({})&&(this.options=r(this.options,e.options)),this.props=e,this.container=e.container,this.init()}return Slider.prototype.getDefaultOptions=function(){return{rowSelector:".jfMatrixScale",labelSelector:".jfMatrixScale-label",rangeSelector:".jfMatrixScale-item",scaleSeperatorSelector:".scaleSep",visibleClass:"isVisible",transitionClass:"hasTransition",filledClass:"isFilled",scaleListItemSelector:".jfMatrixInputList-item"}},Slider.prototype.getPixelByPercent=function(){return this.sliderRow.getBoundingClientRect().width/100},Slider.prototype.setRange=function(e,t){var i=this.container,r=this.selectedRangeArea,n=this.allScales,a=this.options,s=a.visibleClass,l=a.scaleSeperatorSelector,d=a.labelSelector;r.style.width=e+"%";var c=this.getNearestScale(n,e),u=i.querySelector(d+'[data-scale="'+c+'"]'),h=u.getAttribute("data-scale"),p=i.querySelector(l+'[data-scale="'+h+'"]'),m=p.querySelector("input");if(m&&(!t||"No"===i.dataset.required)){m.checked=!0;var f=m.getAttribute("id"),y=i.querySelectorAll("input");(0,o.forEach)(y,function(e){e.getAttribute("id")!==f&&(e.checked=!1)});var v=(0,o.closest)(m,".form-line");v&&(0,o.triggerEvent)(v,"change")}var g=this.getVisibleLabel();g!==u&&((0,o.removeClass)(g,s),(0,o.addClass)(u,s)),this.currentPercentage=e,this.sliderButton.setAttribute("aria-valuenow",e)},Slider.prototype.getVisibleLabel=function(){var e=this.container,t=this.options,i=t.labelSelector,r=t.visibleClass;return e.querySelector(i+"."+r)},Slider.prototype.setPointerValues=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.selectedRangeArea,i=this.getPixelByPercent();this.startX=e,this.positionX=e,this.currentPercentage=this.currentPercentage||t.offsetWidth/i},Slider.prototype.isTouchEvent=function(e){return!(!e.touches||!e.touches[0])},Slider.prototype.getNearestScale=function(e,t){return e.reduce(function(e,i){return Math.abs(i-t)<Math.abs(e-t)?i:e})},Slider.prototype.makeInitialSelection=function(){try{var e=this.selectedRangeArea.style.width;if(e){var t=parseInt(e,10);this.lastSelection=t,this.setRange(t,!0),"No"===this.container.dataset.required&&this.setFilled()}}catch(e){}},Slider.prototype.handleMove=function(e){var t=this.isTouchEvent(e)?e.touches[0]:e,i=t.clientX,r=this.positionX,n=this.currentPercentage,o=this.getPixelByPercent(),a=i-r;this.positionX=i;var s=a/o,l=n+s;l<=0?l=0:l>=100&&(l=100),this.setRange(l)},Slider.prototype.handleMoveEnd=function(){var t=this.currentPercentage,i=this.allScales,r=this.selectedRangeArea,n=this.options.transitionClass,a=parseFloat(this.getNearestScale(i,t));a!==this.lastSelection&&(this.props.onChange&&"function"==typeof this.props.onChange&&this.props.onChange({value:a}),(0,o.addClass)(r,n),this.setRange(a),this.lastSelection=a),e.document.body.removeEventListener("mousemove",this.handleMove),e.document.body.removeEventListener("touchmove",this.handleMove),e.document.body.removeEventListener("mouseup",this.handleMoveEnd),e.document.body.removeEventListener("touchend",this.handleMoveEnd),this.sliderRow.click()},Slider.prototype.setFilled=function(){var e=this.selectedRangeArea,t=this.options,i=t.scaleListItemSelector,r=t.filledClass,n=(0,o.closest)(e,i);(0,o.addClass)(n,r)},Slider.prototype.handleMoveStart=function(t){var i=this.selectedRangeArea,r=this.sliderRow,n=this.options.transitionClass,a=r.getBoundingClientRect(),s=a.left,l=this.isTouchEvent(t)?t.touches[0]:t,d=l.clientX,c=(d-s)/this.getPixelByPercent();this.setRange(c),this.setFilled(),(0,o.removeClass)(i,n),this.setPointerValues(d),e.document.body.addEventListener("mousemove",this.handleMove),e.document.body.addEventListener("touchmove",this.handleMove),e.document.body.addEventListener("mouseup",this.handleMoveEnd),e.document.body.addEventListener("touchend",this.handleMoveEnd)},Slider.prototype.moveNextStep=function(){var e=this.allScales[1]-this.allScales[0];this.currentPercentage+e<=100?this.setRange(this.currentPercentage+e):this.setRange(100)},Slider.prototype.movePreviousStep=function(){var e=this.allScales[1]-this.allScales[0];this.currentPercentage-e>=0?this.setRange(this.currentPercentage-e):this.setRange(0)},Slider.prototype.handleKeyDown=function(e){39===e.keyCode?(e.stopPropagation(),this.moveNextStep()):37===e.keyCode&&(e.stopPropagation(),this.movePreviousStep())},Slider.prototype.init=function(){var e=this.options,t=e.rowSelector,i=e.labelSelector,r=e.rangeSelector,n=this.container;this.sliderRow=n.querySelector(t),this.allScales=(0,o.map)(n.querySelectorAll(i),function(e){return e.getAttribute("data-scale")}),this.selectedRangeArea=n.querySelector(r),this.sliderButton=this.selectedRangeArea.querySelector("button"),this.makeInitialSelection(),this.sliderButton.setAttribute("role","slider"),this.sliderButton.setAttribute("aria-valuemax",this.allScales[this.allScales.length-1]),this.sliderButton.setAttribute("aria-valuemin",this.allScales[0]),this.sliderRow.addEventListener("mousedown",this.handleMoveStart),this.sliderRow.addEventListener("touchstart",this.handleMoveStart),this.sliderButton.addEventListener("keydown",this.handleKeyDown)},Slider}();t.default=a}).call(t,i(6))},4979:function(e,t,i){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var i=function(){function Storage(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{adapter:"cookie"};_classCallCheck(this,Storage),this.adapter=e.adapter}return Storage.prototype.isAvailable=function(){try{return"localstorage"===this.adapter?(e.localStorage.setItem("jottest","jottest"),e.localStorage.removeItem("jottest"),!0):"cookie"===this.adapter}catch(e){return!1}},Storage.prototype.get=function(t){var i=void 0;switch(this.adapter){case"cookie":i=e.document.readCookie(t);break;case"localstorage":i=e.localStorage.getItem(t)}return i},Storage.prototype.set=function(t,i){var r=void 0;switch(this.adapter){case"cookie":r=e.document.createCookie(t,i,7);break;case"localstorage":r=e.localStorage.setItem(t,i)}return r},Storage.prototype.delete=function(t){var i=void 0;switch(this.adapter){case"cookie":i=e.document.eraseCookie(t);break;case"localstorage":i=e.localStorage.removeItem(t)}return i},Storage.prototype.deleteAll=function(t){var i=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(t){if("cookie"===this.adapter)return console.error("This feature is implemented only for LocalStorage"),!1;var n=new RegExp(t,r);Object.keys(e.localStorage).forEach(function(e){n.test(e)&&i.delete(e)})}},Storage}();t.default=i}).call(t,i(6))},5144:function(e,t,i){"use strict";(function(e){function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},o=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}();i(5145),i(4645);var a=i(12),s=i(4977),l=i(4663),d=i(5146),c=_interopRequireDefault(d),u=i(4737),h=_interopRequireDefault(u),p=i(5147),m=_interopRequireDefault(p),f=i(5153),y=_interopRequireDefault(f),v=i(5154),g=_interopRequireDefault(v),b=i(5155),C=_interopRequireDefault(b),S=i(5158),E=_interopRequireDefault(S),w=i(5159),P=_interopRequireDefault(w),F=i(5160),k=_interopRequireDefault(F),I=i(5161),A=_interopRequireDefault(I),x=i(5162),M=_interopRequireDefault(x),_=i(5163),T=_interopRequireDefault(_),q=i(5166),L=_interopRequireDefault(q),B=i(5167),j=_interopRequireDefault(B),O=i(4979),D=_interopRequireDefault(O),H=i(5168),N=_interopRequireDefault(H),V=i(4738),R=i(4974),W=_interopRequireDefault(R),J=i(5169);_interopRequireDefault(J);void 0===String.prototype.locale&&(String.prototype.locale=function(){return this.toString()});var z={INPUT:[37,39],TEXTAREA:[13,37,39]},Q=["control_image","control_text"],U=function(){function Cards(t){var i=this;if(_classCallCheck(this,Cards),this.bindFullScreenMode=this.bindFullScreenMode.bind(this),this.bindCardClickEvents=this.bindCardClickEvents.bind(this),this.setFormMode=this.setFormMode.bind(this),this.setCardIndex=this.setCardIndex.bind(this),this.setCardMode=this.setCardMode.bind(this),this.selectQuestion=this.selectQuestion.bind(this),this.selectNextQuestion=this.selectNextQuestion.bind(this),this.selectPreviousQuestion=this.selectPreviousQuestion.bind(this),this.bindResizeEvent=this.bindResizeEvent.bind(this),this.recalculateLayout=this.recalculateLayout.bind(this),this.recalculateSmartEmbedLayout=this.recalculateSmartEmbedLayout.bind(this),this.getVisibleIndex=this.getVisibleIndex.bind(this),this.updateCardIndexes=this.updateCardIndexes.bind(this),this.updateCardLabels=this.updateCardLabels.bind(this),this.getCardLabels=this.getCardLabels.bind(this),this.bindPrevNextButtonsClick=this.bindPrevNextButtonsClick.bind(this),this.bindInputChange=this.bindInputChange.bind(this),this.bindSelectChange=this.bindSelectChange.bind(this),this.bindKeyUpEvent=this.bindKeyUpEvent.bind(this),this.bindDragPage=this.bindDragPage.bind(this),this.bindFormSubmit=this.bindFormSubmit.bind(this),this.bindStartButton=this.bindStartButton.bind(this),this.mouseDown=this.mouseDown.bind(this),this.mouseUp=this.mouseUp.bind(this),this.mouseMove=this.mouseMove.bind(this),this.onWheel=this.onWheel.bind(this),this.bindInputFocus=this.bindInputFocus.bind(this),this.addScrollLeftDelta=this.addScrollLeftDelta.bind(this),this.getScrollLeft=this.getScrollLeft.bind(this),this.getTotalWidth=this.getTotalWidth.bind(this),this.onSubmit=this.onSubmit.bind(this),this.validateCard=this.validateCard.bind(this),this.onFieldCorrected=this.onFieldCorrected.bind(this),this.onFieldErrored=this.onFieldErrored.bind(this),this.onFormOverviewClicked=this.onFormOverviewClicked.bind(this),this.onProgressItemSelected=this.onProgressItemSelected.bind(this),this.shakeCard=this.shakeCard.bind(this),this.setCardVisibility=this.setCardVisibility.bind(this),this.onFieldVisibilityChanged=this.onFieldVisibilityChanged.bind(this),this.onRequireField=this.onRequireField.bind(this),this.onEnableDisableField=this.onEnableDisableField.bind(this),this.updateCardProgressItem=this.updateCardStatus.bind(this),this.focusToFirstInput=this.focusToFirstInput.bind(this),this.focusToFirstError=this.focusToFirstError.bind(this),this.getNearestCardIndexInScrollMode=this.getNearestCardIndexInScrollMode.bind(this),this.renderReCaptcha=this.renderReCaptcha.bind(this),this.recaptchaCallback=this.recaptchaCallback.bind(this),this.hcaptchaCallback=this.hcaptchaCallback.bind(this),this.onCreditCardAddressVisibilityChanged=this.onCreditCardAddressVisibilityChanged.bind(this),this.repositionActionButtons=this.repositionActionButtons.bind(this),this.setCardActionMode=this.setCardActionMode.bind(this),this.shortenHeaders=this.shortenHeaders.bind(this),this.hideHeader=this.hideHeader.bind(this),this.showHeader=this.showHeader.bind(this),this.onCalendarSelected=this.onCalendarSelected.bind(this),this.initBackgroundImageLoader=this.initBackgroundImageLoader.bind(this),this.onCalendarInit=this.onCalendarInit.bind(this),this.bindChangeEventForPressEnter=this.bindChangeEventForPressEnter.bind(this),this.getFormData=this.getFormData.bind(this),this.prepareReviewMarkup=this.prepareReviewMarkup.bind(this),this.showFormPreview=this.showFormPreview.bind(this),this.replaceSubmitWithReviewAndSubmit=this.replaceSubmitWithReviewAndSubmit.bind(this),this.setFieldIsFilledIfHasValue=this.setFieldIsFilledIfHasValue.bind(this),this.calculateAvailableHeightForFields=this.calculateAvailableHeightForFields.bind(this),this.calculateCardsHeight=this.calculateCardsHeight.bind(this),this.calculateCardHeight=this.calculateCardHeight.bind(this),this.onFileUploadChanged=this.onFileUploadChanged.bind(this),this.fillInitialValuesForEditMode=this.fillInitialValuesForEditMode.bind(this),this.checkCardsIfFilled=this.checkCardsIfFilled.bind(this),this.getSectionHeaderForIndex=this.getSectionHeaderForIndex.bind(this),this.arrangeSectionHeaders=this.arrangeSectionHeaders.bind(this),this.updateFormHeader=this.updateFormHeader.bind(this),this.recalculateBackgroundStyle=this.recalculateBackgroundStyle.bind(this),this.checkAndSetDeviceType=this.checkAndSetDeviceType.bind(this),this.checkHeaderSubHeaderCharLimits=this.checkHeaderSubHeaderCharLimits.bind(this),this.onLocationHashChange=this.onLocationHashChange.bind(this),this.isVisibleIndex=this.isVisibleIndex.bind(this),this.getFirstVisibleIndex=this.getFirstVisibleIndex.bind(this),this.getLastVisibleIndex=this.getLastVisibleIndex.bind(this),this.setMobilePrevNextQuestionButtons=this.setMobilePrevNextQuestionButtons.bind(this),this.setDropdownInitialValues=this.setDropdownInitialValues.bind(this),this.disableTransitions=this.disableTransitions.bind(this),this.translateSectionHeader=this.translateSectionHeader.bind(this),this.onFormTranslated=this.onFormTranslated.bind(this),this.updateMatrixLayout=this.updateMatrixLayout.bind(this),this.handleKeyboardTabs=this.handleKeyboardTabs.bind(this),this.handleFullScreenToggle=this.handleFullScreenToggle.bind(this),this.bindMobileValidations=this.bindMobileValidations.bind(this),this.initMobileVersion=this.initMobileVersion.bind(this),this.doObjectsCollide=this.doObjectsCollide.bind(this),this.attachComponentClassToCard=this.attachComponentClassToCard.bind(this),this.showInputTooltip=this.showInputTooltip.bind(this),this.clearAddressFields=this.clearAddressFields.bind(this),this.toggleFullScreenMode=this.toggleFullScreenMode.bind(this),this.toggleFullScreenDisplayMode=this.toggleFullScreenDisplayMode.bind(this),this.getCurrentCard=this.getCurrentCard.bind(this),this.autoSelectNextQuestion=this.autoSelectNextQuestion.bind(this),this.handleFeedbackButtonProgress=this.handleFeedbackButtonProgress.bind(this),this.updateFeedbackEmbedHeight=this.updateFeedbackEmbedHeight.bind(this),this.bindChangeEventForNextButtons=this.bindChangeEventForNextButtons.bind(this),this.findEmailAnswer=this.findEmailAnswer.bind(this),this.calculateWelcomeSize=this.calculateWelcomeSize.bind(this),this.createDatetimeReviewString=this.createDatetimeReviewString.bind(this),this.showProgress=this.showProgress.bind(this),this.hiddenSubmit=this.hiddenSubmit.bind(this),this.handleFormSubmitError=this.handleFormSubmitError.bind(this),this.setInitialSelectionForMatrixSliders=this.setInitialSelectionForMatrixSliders.bind(this),this.asyncInitSaveAndContinueLaterFlow=this.asyncInitSaveAndContinueLaterFlow.bind(this),this.checkConditionOnCurrentCard=this.checkConditionOnCurrentCard.bind(this),this.onSCLStateChange=this.onSCLStateChange.bind(this),this.closeTimezonePicker=this.closeTimezonePicker.bind(this),this.isSaveAndContinueLaterActivated=t.isSaveAndContinueLaterActivated||t.isSSOProtected,this.formID=t.formID,this.erroredCards=[],this.isProduction=t.isProduction||!0,this.apiURL=t.apiURL||"https://api.jotform.com",this.continueLater={active:this.isContinueLaterActivated,useStorage:!1,lastAnswers:!1},this.storageEngine=new D.default,this.patch=new m.default({onSubmit:this.onSubmit,onFieldCorrected:this.onFieldCorrected,onFieldErrored:this.onFieldErrored,onFieldVisibilityChanged:this.onFieldVisibilityChanged,onRequireField:this.onRequireField,onEnableDisableField:this.onEnableDisableField,onCreditCardAddressVisibilityChanged:this.onCreditCardAddressVisibilityChanged,onCalendarSelected:this.onCalendarSelected,onCalendarInit:this.onCalendarInit,captchaMode:t.captchaMode,onFileUploadChanged:this.onFileUploadChanged,formID:t.formID,storageEngine:this.storageEngine,continueLater:this.continueLater,showTooltip:this.showInputTooltip}),this.addressTypeSuffixMap={country:"country",administrative_area_level_1:"state",postal_code:"postal",locality:"city",street:"addr_line1",street2:"addr_line2",searchField:"addr_search"},this.isSaveAndContinueLaterActivated&&this.initSaveAndContinueLater(),this.browserProperties=(0,a.getBrowserProperties)(),this.jsForm=!1,this.hasWelcome="welcome"===t.formMode,e.location.href.indexOf("autoNextCards=1")>-1){var r=function(){"welcome"===i.layoutParams.formMode?i.setFormMode("form"):i.selectNextQuestion(!0)};setInterval(r,3e3)}this.isOpenedOnJotFormMobileApp=e.location.href.indexOf("jotformNext=1")>-1,this.init(t)}return Cards.prototype.init=function(t){var i=this,r=(0,a.hasTouch)();this.arrangeSectionHeaders(t.welcomePageProps,t.sectionHeaders),this.layoutElements={cardAnimationWrapper:document.getElementById("cardAnimationWrapper"),startButton:document.getElementById("jfCard-welcome-start"),previousButton:document.getElementById("jfCard-welcome-previous"),welcomeWrapper:document.querySelector(".jfWelcome-wrapper"),welcomeContainer:document.querySelector(".jfWelcome"),welcomeHeaderContainer:document.getElementById("header_welcomePage"),welcomeSubHeaderContainer:document.querySelector(".jfWelcome-description"),welcomeSectionInfoText:document.querySelector(".jfWelcome-sectionInfo-text"),welcomeSectionInfoQuestionCount:document.querySelector(".jfWelcome-sectionInfo-questionCount"),logoContainer:document.querySelector(".jfForm-logo"),progressWrapper:document.querySelector(".jfProgress#cardProgress"),progressContainer:document.querySelector(".jfProgress-infoContent"),mobileNavigationWrapper:document.querySelector(".jsMobileNavigation"),mobileNextButton:document.querySelector(".jsMobileNext"),mobilePrevButton:document.querySelector(".jsMobilePrev"),mobileSubmitButton:document.querySelector(".jsMobileSubmit"),mobileProgressInfo:document.querySelector(".jfProgress-info"),fullScreenProxy:document.getElementById("jfQuestion-proxy"),formWrapper:document.querySelector(".jfForm-all"),overlayWrapper:document.querySelector(".js-overlayWrapper"),staticItems:document.querySelector(".jStaticItems")};var o=(0,a.map)(document.querySelectorAll(".jfCard-wrapper"),function(e){return e}),s=(0,a.map)(document.querySelectorAll(".jfCard"),function(e){return e}),d=(0,a.map)(document.querySelectorAll(".jfCard-index"),function(e){return e}),u=(0,a.map)(document.querySelectorAll(".form-line"),function(e){return e}),p=(0,a.map)(document.querySelectorAll(".jfPressEnter"),function(e){return e}),m=(0,a.map)(document.querySelectorAll(".jfQuestion-fields:not([class*='js-']):not([class*='jfQuestion-fields--donation']), .jfQuestion-fields.js-productModuleWrapper"),function(e){return e}),f=this.isEditMode(),v=!!t.ownerView,g=function(e){var t=!!e.isHidden;return f&&v&&"direct_embed"!==e.widgetType&&(t=!1),-1===l.HiddenQuestionTypes.indexOf(e.type)||t||(t=!0),e.type&&"control_checkbox"===e.type&&e.isHidden&&e.sheetField&&e.submissionWidget&&(t=!0),t};this.cards=t.questions.map(function(e,t){return{question:e,cardContainer:s[t],cardToolbar:o[t].querySelector(".jfToolbar"),wrapperContainer:o[t],indexContainer:d[t],pressEnterContainer:p[t],fieldContainer:m[t],questionContainer:s[t].querySelector(".jfCard-question"),formLine:u.find(function(t){return t.id==="id_"+e.id}),isHidden:g(e),isReadOnly:!!e.isReadOnly,hideSingleProduct:!!e.hideSingleProduct,actionButtonsWrapper:s[t].querySelector(".jfCard-actions"),actionsButtons:{prev:s[t].querySelector(".jfCard-actions .forPrev"),next:s[t].querySelector(".jfCard-actions .forNext"),submit:s[t].querySelector(".jfCard-actions .forSubmit"),mode:"middle"},prevCard:null}}),this.cards.forEach(function(e){var t=e;t.validate=i.validateCard.bind(i,t)}),s.length>0&&(this.cards[this.cards.length-1].hasSubmit=!0);var b=this.getCardLabels();this.cards=L.default.populateCards(this.cards,b),this.updateCardLabels(),this.layoutParams={questions:t.questions,currentCardSize:a.cardSize.cardwidthxl,leftMargin:0,currentCardIndex:this.cards.findIndex(function(e){return!e.isHidden}),cardMode:"single",formMode:null,cardScrollScale:.6,scaleFactor:1,scrollLeftExtra:0,resolutionType:"",deviceType:(0,a.getDeviceType)().toLowerCase(),browserName:this.browserProperties.browserName,osName:this.browserProperties.osName,forTemplate:t.forTemplate,hasTouch:r||this.isPreviewMode,reviewBeforeSubmit:t.reviewBeforeSubmit,globalCardScaleFactor:1,isFeedbackEmbed:!1,allQuestions:t.allQuestions,smartEmbedMaxHeight:264,isEditMode:f,isFullScreenMode:!1,isFeedbackEmbedButton:this.isFeedbackEmbedButton,fullscreenForm:t.fullscreenMode,isEmbed:e.parent!==e},this.minLabelFontSize=18,this.minDescFontSize=12,this.ownerPercentage=!!t.ownerPercentage&&parseInt(t.ownerPercentage,10),this.initMobileVersion(),(0,a.addClass)(document.body,"is"+(0,a.getDeviceType)()),t.isSSOProtected&&(0,a.addClass)(document.body,"isSSOProtected"),this.layoutParams.isFeedbackEmbed&&this.initializeFeedbackEmbedMode(),this.layoutParams.isFeedbackEmbedButton&&(this.hwFeedbackEmbed=new P.default({formID:this.formID}),this.initializeHWFeedbackEmbedButton()),Cards.layoutParams=this.layoutParams,this.options=new A.default({cards:this.cards,layoutParams:this.layoutParams,validateCard:this.validateCard,isPreviewMode:this.isPreviewMode}),this.dropdown=new M.default({cards:this.cards,layoutParams:this.layoutParams,validateCard:this.validateCard,isPreviewMode:this.isPreviewMode}),this.address=new y.default({cards:this.cards,layoutParams:this.layoutParams,setFieldIsFilledIfHasValue:this.setFieldIsFilledIfHasValue,updateFeedbackEmbedHeight:this.updateFeedbackEmbedHeight}),this.datetimeHandler=new j.default({cards:this.cards,hasTouch:this.layoutParams.hasTouch,isMobile:"mobile"===this.layoutParams.deviceType}),this.overlay=new h.default({questions:this.layoutParams.questions}),this.cards=this.cards.map(function(e){return e.question&&"control_textarea"===e.question.type&&e.fieldContainer&&"mde"===e.fieldContainer.getAttribute("data-render-type")?n({},e,{markdownEditor:new T.default(e,i.layoutParams.browserName,i.layoutParams.osName)}):e}),this.progress=new c.default({items:this.cards.map(function(e){return{label:e.label}}),cards:this.cards,onFormOverviewClicked:this.onFormOverviewClicked,onItemSelected:this.onProgressItemSelected,hiddenIndexes:this.cards.map(function(e){return e.isHidden}),deviceType:this.layoutParams.deviceType,isFeedbackEmbedButton:this.isFeedbackEmbedButton,isSaveAndContinueLaterActivated:this.isSaveAndContinueLaterActivated,isFormProgressVisible:t.isFormProgressVisible}),this.bindCardClickEvents(),this.checkAndSetDeviceType();var C=this.getQuestionIdFromUrlHash(e.location.href),S=this.layoutParams.currentCardIndex;if(C){var E=parseInt(C,10)-1;S=this.isVisibleIndex(E)?E:S}var w=(C&&1!==parseInt(C,10)?"form":t.formMode)||"welcome";this.setCardIndex(S,!1,!0),this.setFormMode(w,!0),this.updateFormHeader(this.getSectionHeaderForIndex(S)),this.bindResizeEvent(),setTimeout(function(){return i.recalculateLayout()}),this.recalculateBackgroundStyle(),this.bindPrevNextButtonsClick(),""!==window.location.search&&setTimeout(function(){var e=i.cards.findIndex(function(e){return!e.isHidden});-1!==e&&e!==i.layoutParams.currentCardIndex&&(i.setCardIndex(e,!1,!0),i.updateFormHeader(i.getSectionHeaderForIndex(e)))},100),setTimeout(function(){return i.bindInputChange()}),this.bindSelectChange(),this.bindKeyUpEvent(),this.bindDragPage();var F=function(){if(i.isFullscreenFormEnabled){i.FS=new k.default;var t=document.documentElement,r=function fn(){(0,a.addClass)(document.body,"fsOpenedOnce"),i.FS.request(),t.removeEventListener("click",fn),i.bindStartButton(),t.click()};t.addEventListener("click",r);var n=document.getElementById("fullscreen-toggle");n&&n.addEventListener("click",i.FS.toggle)}else i.bindStartButton();if(window.Sentry&&(!e.JotForm||!e.JotForm.isNewForms)){var o={dsn:"https://abc78a66d1bf4f77bfb7e3469cef2658@sentry.io/291077",enviroment:"production",release:"1fb0c9a5",whitelistUrls:[/https?:\/\/.*jotform\.com/,/https?:\/\/cdn\.jotfor\.ms/],integrations:[new Sentry.Integrations.GlobalHandlers({onunhandledrejection:!1})],blacklistUrls:[/graph\.facebook\.com/i,/connect\.facebook\.net\/en_US\/all\.js/i,/eatdifferent\.com\.woopra-ns\.com/i,/static\.woopra\.com\/js\/woopra\.js/i,/extensions\//i,/^chrome:\/\//i,/127\.0\.0\.1:4001\/isrunning/i,/webappstoolbarba\.texthelp\.com\//i,/metrics\.itunes\.apple\.com\.edgesuite\.net\//i,/tinymce/i],ignoreErrors:["top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage","tinymce","GetScreenshotBoundingBox","for=",/Blocked a frame with origin/,/ResizeObserver loop limit exceeded/,"ResizeObserver loop completed with undelivered notifications."],beforeSend:function(e){if(window.parent!==window||e.request.url.match(/(https?:\/\/.*jotform\.com)|(https?:\/\/cdn\.jotfor\.ms)/))return window.location.href&&!window.location.href.match(/(https?:\/\/.*jotform\.com)|(https?:\/\/cdn\.jotfor\.ms)/)?null:-1!==window.navigator.userAgent.indexOf("FB_IAB")?null:e}};window.Sentry.init(o)}};"complete"===document.readyState?F():window.addEventListener("load",F),this.bindTouchSwipeEvents(),this.bindInputFocus(),this.bindFocusOnMobileWithKeyboard(),this.repositionActionButtons(),this.setMobilePrevNextQuestionButtons(this.layoutParams.currentCardIndex),this.renderReCaptcha(t.captchaMode),this.updateCardIndexes(),this.bindChangeEventForPressEnter(),this.bindHashChangeEvent(),(0,a.forEach)(this.cards,function(e){i.attachComponentClassToCard(e),i.checkCardIfMoveAutomatically(e)}),this.handleFullScreenToggle(),"mobile"===this.layoutParams.deviceType&&this.bindMobileValidations(),"form"===this.layoutParams.formMode&&setTimeout(function(){i.enableTransitions()},100),this.initBackgroundImageLoader(),t.reviewBeforeSubmit?this.replaceSubmitWithReviewAndSubmit():this.bindFormSubmit(),this.checkCardsIfFilled(this.cards),e.onEditModeCompleted=function(e){i.cards.forEach(i.fillInitialValuesForEditMode),i.clearAddressFields(),i.setDropdownInitialValues(),i.checkCardsIfFilled(i.cards),e&&e.continueCardIndex&&(i.setCardIndex(e.continueCardIndex,!1,!0),i.showProgress())},setTimeout(function(){i.isAdmin=e.JotForm&&e.JotForm.isAdmin,i.bindFullScreenMode(),i.setDropdownInitialValues(),i.checkCardsIfFilled(i.cards)},100),this.embedOptions=new N.default(this),e.JotForm.sessionID&&this.isSaveAndContinueLaterActivated&&this.saveAndContinueLater&&this.saveAndContinueLater.continue(),this.layoutParams.isEmbed&&1===this.layoutParams.questions.length&&(0,a.addClass)(document.querySelector("body"),"singleQuestion")},Cards.prototype.initMobileVersion=function(){var t="mobile"===this.layoutParams.deviceType;if(t){e.document.body.classList.remove("isSmartEmbed");var i="0",n=document.querySelector(".formFooter-content");if(t){this.layoutElements.mobileNavigationWrapper&&(this.layoutElements.mobileNavigationWrapper.style.display="block"),"object"===r(e.FS)&&"function"==typeof e.FS.setUserVars&&e.FS.setUserVars({isCardFormNewMobile_bool:!0});var o=document.querySelector(".jsNewFormFooter");n&&o&&n.parentElement.removeChild(n),i="1"}else if(n&&n.childNodes&&n.childNodes[0]){var s=document.querySelector(".formFooter-button"),l=document.querySelector(".formFooter-logoLink");s&&l&&(s.href=s.getAttribute("href")+"_mobile",l.href=l.getAttribute("href")+"_mobile")}var d=(0,a.createInput)({type:"hidden",name:"newCardFormMobile",value:i}),c=document.querySelector(".jotform-form");c&&d&&c.appendChild(d)}},Cards.prototype.createUniqueSubmitterID=function(e){return e+"_"+Date.now()+"_"+Math.floor(1e3*Math.random())},Cards.prototype.initializeHWFeedbackEmbedButton=function(){(0,a.addClass)(document.body,"forMiniCard");var e=(0,a.createInput)({type:"hidden",name:"feedbackEmbedButton",value:""}),t=document.querySelector(".jotform-form");t&&e&&t.appendChild(e),this.hwFeedbackEmbed.setDeviceType((0,a.getDeviceType)()),this.hwFeedbackEmbed.setOS(this.layoutParams.osName)},Cards.prototype.getCurrentCard=function(){var e=this.layoutParams.currentCardIndex;return this.cards[e]},Cards.prototype.attachComponentClassToCard=function(e){var t=void 0,i=e.question;switch(i.type){case"control_matrix":t=new g.default({question:i,isFeedbackEmbedButton:this.isFeedbackEmbedButton,selectNextQuestion:this.selectNextQuestion});break;case"control_email":t=new C.default({question:i,cardContainer:e.cardContainer,showTooltip:this.showInputTooltip,removeTooltip:this.removeInputTooltip,formID:this.formID});break;case"control_emojislider":t=new E.default({question:i,cardContainer:e.cardContainer})}t&&(i.componentClass=t)},Cards.prototype.checkFeedbackEmbedMode=function(){return e.location.href.indexOf("?feedbackEmbed=1")>-1||window.parent&&!!window.parent.JotformFeedbackManager},Cards.prototype.initializeFeedbackEmbedMode=function(){(0,a.addClass)(document.body,"feedbackEmbedMode")},Cards.prototype.checkCardsIfFilled=function(e){var t=this;e.forEach(function(e){-1===Q.indexOf(e.question.type)&&-1===["paymentType","products"].indexOf(e.type)&&t.updateCardStatus(e,!1,!0);var i=(0,a.map)(e.cardContainer.querySelectorAll("input.jfInput-input, jfInput-textarea, select.form-dropdown"),function(e){return e});"control_datetime"!==e.question.type&&i.forEach(t.setFieldIsFilledIfHasValue)})},Cards.prototype.bindMobileValidations=function(){var t=this,i=function(){var e=t.cards[t.layoutParams.currentCardIndex];-1!==t.erroredCards.indexOf(e)&&t.validateCard(e,!1)};e.document.body.addEventListener("input",i)},Cards.prototype.handleKeyboardTabs=function(e){var t=this.layoutParams,i=t.deviceType,r=t.currentCardIndex;if("mobile"!==i)return void(r>-1&&"control_mixed"===this.cards[r].question.type&&"blur"===e.type&&e.target.validateInput&&e.target.validateInput());var n="blur"===e.type?e.relatedTarget:e.target,o=(0,a.closest)(n,".jfCard"),s=this.cards.findIndex(function(e){return e.cardContainer===o});r+1===s&&this.selectNextQuestion(!0,!0),r-1===s&&this.selectPreviousQuestion(!0)},Cards.prototype.handleFullScreenToggle=function(){"mobile"===this.layoutParams.deviceType||this.cards.forEach(function(e){var t=["control_textarea"],i=e.question.type,r=e.cardContainer.querySelector(".jfQuestion-fullscreen");if(r&&-1===t.indexOf(i)){var n=e.questionContainer.clientHeight;isNaN(n)||(n+6<e.questionContainer.scrollHeight?((0,a.removeClass)(r,"isHidden"),r.removeAttribute("aria-hidden"),r.setAttribute("tabindex","0")):((0,a.addClass)(r,"isHidden"),r.setAttribute("aria-hidden","true"),r.setAttribute("tabindex","-1")))}})},Cards.prototype.toggleFullScreenMode=function(){var e=this.layoutParams.currentCardIndex,t=this.cards[e],i=e>-1?t.cardContainer:null;if(i){var r=this.layoutElements.fullScreenProxy,n=e>-1?t.cardToolbar:null,o=i.querySelector(".jfCard-actions"),s=i.querySelector(".jfCard-actionsNotification");if((0,a.hasClass)(document.body,"isFullScreen")?((0,a.removeClass)(document.body,"isFullScreen"),this.layoutParams.isFullScreenMode=!1):((0,a.addClass)(document.body,"isFullScreen"),this.layoutParams.isFullScreenMode=!0),this.layoutParams.isFullScreenMode){var l=i.querySelector(".jfCard-question"),d=i.querySelector(".form-error-message");if(l){var c=l.cloneNode(!0),u=t.question&&t.question.type?t.question.type:"";if((0,a.addClass)(c,"isShadow"),r.appendChild(l),r.setAttribute("data-type",u),i.insertBefore(c,o),n){var h=n.cloneNode(!0);(0,a.addClass)(h,"isShadow"),(0,a.addClass)(r,"hasToolbar"),i.insertBefore(h,o),r.appendChild(n)}d&&((0,a.addClass)(r,"hasError"),r.appendChild(d)),this.applyFullScreenModeUI()}}else{var p=r.querySelector(".jfCard-question"),m=r.querySelector(".form-error-message");p&&(this.layoutParams.isFullScreenMode=!1,(0,a.removeClass)(r,"hasToolbar"),r.removeAttribute("data-type"),i.querySelector(".jfCard-question.isShadow").remove(),i.insertBefore(p,o),m&&s.appendChild(m),n&&((0,a.removeClass)(r,"hasError"),i.insertBefore(n,o),i.querySelector(".jfToolbar.isShadow").remove()),this.applyFullScreenModeUI())}}},Cards.prototype.toggleFullScreenDisplayMode=function(){var e=this.layoutElements.fullScreenProxy;(0,a.hasClass)(e,"isNightMode")?(0,a.removeClass)(e,"isNightMode"):(0,a.addClass)(e,"isNightMode")},Cards.prototype.applyFullScreenModeUI=function(){var e=this.layoutParams,t=e.currentCardIndex,i=e.isFullScreenMode,r=this.cards[t],n=r.question.type,o=this.layoutElements.fullScreenProxy,s=t>-1?r.cardContainer:null,l=t>-1?r.cardToolbar:null;if(s)switch(n){case"control_textarea":var d=o.querySelector(".jfTextarea-infoSpan"),c=o.querySelector(".jfTextarea-modeSpan");i?(d&&o.appendChild(d),c&&c.addEventListener("click",this.toggleFullScreenDisplayMode)):d&&l&&(l.appendChild(d),(0,a.removeClass)(o,"isNightMode"))}},Cards.prototype.bindFullScreenMode=function(){var e=this;this.cards.forEach(function(t){var i=t.cardContainer,r=i.querySelector(".jfQuestion-fullscreen");r&&r.addEventListener("click",function(){e.toggleFullScreenMode()})})},Cards.prototype.bindInputFocus=function(){var t=this,i=e.document.querySelectorAll("input, textarea, select"),r=null,n=function(){t.layoutParams.hasTouch&&(r?(0,a.addClass)(document.body,"isTouchKeyboardOpen"):(0,a.removeClass)(document.body,"isTouchKeyboardOpen"))};(0,a.forEach)(i,function(e){"radio"!==e.type&&"checkbox"!==e.type&&(e.addEventListener("focus",function(e){t.handleKeyboardTabs(e),r=e.target,n()}),e.addEventListener("blur",function(e){e.preventDefault(),t.handleKeyboardTabs(e),r===e.target&&(r=null,n())}))})},Cards.prototype.bindStartButton=function(){var t=this;if(this.layoutElements.startButton){var i="welcome"===this.layoutParams.formMode;this.layoutElements.startButton.addEventListener("click",function(){t.setFormMode("form"),i&&t.shortenHeaders(),e.JotForm.nextPage&&t.selectNextQuestion()}),this.layoutElements.previousButton&&this.layoutElements.previousButton.addEventListener("click",function(){t.setFormMode("form"),t.selectPreviousQuestion()})}},Cards.prototype.onSubmit=function(){var t=this;setTimeout(function(){if(t.cards.find(function(e){return e.hasError&&!e.isHidden})&&e.JotForm.showButtonMessage(),"mobile"===t.layoutParams.deviceType){var i=document.querySelector("#jsSubmitError"),r=t.cards.reduce(function(e,t){return t.hasError?e+1:e},0);r&&((0,a.addClass)(i,"isVisible"),i.innerHTML=r+" incomplete field"+(1===r?"":"s")+".",(0,a.addClass)(t.layoutElements.progressWrapper,"hasSubmitError"),t.onFormOverviewClicked(null,!0),"review"===t.layoutParams.formMode&&t.setFormMode("form"))}},50)},Cards.prototype.validateCard=function(t){var i=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=t;"creditCard"===o.type&&"control_square"===o.question.type&&e.JotForm.squarePayment.validateFields(),r&&(0,a.forEach)(o.cardContainer.querySelectorAll("input, textarea, select"),function(e){return e.blur()});var s=o.cardContainer.querySelectorAll('*[class*="validate"]'),l=o.cardContainer.querySelectorAll('*[class*="widget-required"]'),d=!0;if((0,a.forEach)(s,function(e){e.validateInput&&(d=e.validateInput(!1,n)&&d)}),"creditCard"===o.type&&"control_braintree"===o.question.type){(!e.JotForm.shoppingBag||e.JotForm.shoppingBag.getTotalSelectedItems()>0)&&e.JotForm.paymentTotal>0&&(d=e.JotForm.braintree.validateFields())}if("creditCard"===o.type&&"control_stripe"===o.question.type&&e.JotForm.stripe&&void 0!==e.JotForm.stripe.validateStripe){(!e.JotForm.shoppingBag||e.JotForm.shoppingBag.getTotalSelectedItems()>0)&&e.JotForm.paymentTotal>0&&(d=e.JotForm.stripe.validateStripe())}if("products"===o.type&&void 0!==e.PaymentStock&&(d=e.PaymentStock.validations.validateStock()),l.length)d=0!==l[0].value.length;else if("control_fileupload"===o.question.type)d=!s.length||o.cardContainer.querySelector(".jfUpload-files-container").validateInput();else if("control_address"===o.question.type){var c=o.cardContainer.querySelector(".jfAddress-clean"),u=document.getElementById("input_"+o.question.id+"_addr_search");c&&u&&u.value&&(c.classList.remove("jfAddress-clean"),this.setAddressFieldValue(o,"street",u.value))}else d=!o.hasError&&d;o.hasError=!d,setTimeout(function(){i.cards.find(function(e){return e.hasError})||e.JotForm.hideButtonMessage()},50);var h=this.erroredCards.indexOf(o);return d||-1===h||this.erroredCards.splice(h,1),d},Cards.prototype.isCardFilled=function(e){var t=e;if("control_fileupload"===t.question.type)return this.onFileUploadChanged(t.question.id);var i=Array.prototype.slice.call(t.cardContainer.querySelectorAll("input, textarea, select")),r=t.question.type;i=i.filter(function(e){return("control_time"!==r||!e.match('[name*="ampm"]'))&&(("control_address"!==r||!e.match('[name*="dropdown_search"]')&&!e.match('[name*="country"]'))&&(("control_captcha"!==r||!e.match('[name="recaptcha_visible"]'))&&(("control_datetime"!==r||!(e.match('[name*="ampm"]')||e.match('[name*="hour"]')||e.match('[name*="min"]')))&&!("control_appointment"===r&&!e.match('[name*="date"]')))))});for(var n=0;n<i.length;n++){var o=i[n];if(!(o.className.indexOf("form-widget-settings")>-1))if("radio"===o.type||"checkbox"===o.type){if(o.checked)return t.isFilled=!0,!0}else{if(o.value)return t.isFilled=!0,!0;if("control_widget"===r){var a=t.wrapperContainer&&t.wrapperContainer.querySelector("#customFieldFrame_"+t.question.id),s=!(!a||!a.getAttribute("data-value"));return t.isFilled=s,s}}}return t.isFilled=!1,!1},Cards.prototype.onFieldCorrected=function(t){if("mobile"===this.layoutParams.deviceType){var i=this.cards.reduce(function(e,t){return t.hasError?e+1:e},0),r=document.querySelector("#jsSubmitError");i&&""!==r.innerHTML&&(0,a.hasClass)(r,"isVisible")?(r.innerHTML=i+" incomplete field"+(1===i?"":"s")+".",(0,a.addClass)(this.layoutElements.progressWrapper,"hasSubmitError")):((0,a.removeClass)(this.layoutElements.progressWrapper,"hasSubmitError"),(0,a.removeClass)(r,"isVisible"))}var n=e.JotForm.getContainer(t),o=this.layoutParams.isFullScreenMode?this.cards[this.layoutParams.currentCardIndex]:this.cards.find(function(e){return e.cardContainer===n});o.hasError=!1,this.updateCardStatus(o,!1,!1),(0,a.hasClass)(t,"form-dropdown")&&this.updateDropdown(t,!1),"control_mixed"===n.getAttribute("data-type")&&((0,a.addClass)(t.parentNode,"isValid"),(0,a.removeClass)(t.parentNode,"hasError"))},Cards.prototype.onFieldErrored=function(t){var i=e.JotForm.getContainer(t),r=this.layoutParams.isFullScreenMode?this.cards[this.layoutParams.currentCardIndex]:this.cards.find(function(e){return e.cardContainer===i});this.layoutParams.isFullScreenMode&&(0,a.addClass)(r,"hasError"),r.hasError=!0,-1===this.erroredCards.indexOf(r)&&this.erroredCards.push(r),this.updateCardStatus(r,!1,!1),(0,a.hasClass)(t,"form-dropdown")&&this.updateDropdown(t,!0),"control_mixed"===i.getAttribute("data-type")&&((0,a.removeClass)(t.parentNode,"isValid"),(0,a.addClass)(t.parentNode,"hasError"))},Cards.prototype.updateDropdown=function(e,t){var i=(0,a.closest)(e,".jfField"),r=i.querySelector(".jfInput-dropdown");t?(0,a.addClass)(r,"form-validation-error"):(0,a.removeClass)(r,"form-validation-error")},Cards.prototype.recalculateTransform=function(){var e=this.layoutElements.cardAnimationWrapper,t=this.layoutParams,i=t.leftMargin,r=t.currentCardSize,n=t.scaleFactor,o=t.cardScrollScale,a=t.scrollLeftExtra,s=t.formMode,l=t.cardMode,d=t.resolutionType,c=t.globalCardScaleFactor,u=("scroll"===l&&"mobile"!==d?o:1)*n*c,h=this.getScrollLeft()+a,p=i+h+r/2,m="welcome"===s?" 62%":" 50%",f=p+"px "+m+" 0",y="translate3d(-"+h+"px, 0,0) scale3d("+u*n+", "+u*n+",1)";e.style.transform=y,e.style.webkitTransform=y,e.style.MozTransform=y,e.style.msTransform=y,e.style.transformOrigin=f,e.style.webkitTransformOrigin=f,e.style.MozTransformOrigin=f,e.style.msTransformOrigin=f},Cards.prototype.onFormOverviewClicked=function(e,t){var i="mobile"===this.layoutParams.deviceType;if("scroll"===this.layoutParams.cardMode)!this.progress.isFormProgressVisible&&!i&&this.progress.layoutElements.progressItemsLine&&this.progress.layoutElements.progressItemWrapper&&((0,a.addClass)(this.progress.layoutElements.progressItemsLine," jfProgress-hiddenWrapper"),(0,a.addClass)(this.progress.layoutElements.progressItemWrapper," jfProgress-hiddenWrapper")),this.setCardIndex(this.getNearestCardIndexInScrollMode()),this.setCardMode("single");else if(this.setCardMode("scroll",!0),i){if(t){var r=document.querySelector(".jfProgress-item.hasError");if(r){var n=r.getBoundingClientRect(),o=n.x,s=document.querySelector(".jfProgress#cardProgress");s.scrollTop=o}}}else!this.progress.isFormProgressVisible&&this.progress.layoutElements.progressItemsLine&&this.progress.layoutElements.progressItemWrapper&&((0,a.removeClass)(this.progress.layoutElements.progressItemsLine,"jfProgress-hiddenWrapper"),(0,a.removeClass)(this.progress.layoutElements.progressItemWrapper,"jfProgress-hiddenWrapper")),this.recalculateSmartEmbedLayout()},Cards.prototype.handleFeedbackButtonProgress=function(){if(this.isFeedbackEmbedButton){var e=this.cards.filter(function(e){return!e.isHidden});if(e.length){var t=this.layoutParams.currentCardIndex||1,i=this.cards[t],r=e.indexOf(i)+1,n=document.querySelector(".jsFeedbackProgressLine"),o=Math.ceil(r/e.length*100);n.style.width=o+"%"}}},Cards.prototype.onProgressItemSelected=function(e){if("mobile"===this.layoutParams.resolutionType)return this.removeLayoutAnimation(),this.setCardIndex(e,!0),this.setCardMode("single",!0),void this.addLayoutAnimation(10);"scroll"===this.layoutParams.cardMode?(this.setCardIndex(e),this.removeLayoutAnimation(400)):this.selectQuestion(e)},Cards.prototype.arrangeSectionHeaders=function(e,t){this.sectionHeaders=t,this.sectionHeaders.forEach(function(e){var t=e;t.props.hidden&&"Yes"===t.props.hidden.value&&(t.isHidden=!0)}),this.welcomePageProps={index:0,props:e||{}},this.welcomePageProps.props.text||(this.welcomePageProps.props.text={}),this.welcomePageProps.props.subHeader||(this.welcomePageProps.props.subHeader={})},Cards.prototype.getSectionHeaderForIndex=function(e){if(!this.layoutParams.formMode||"welcome"===this.layoutParams.formMode)return this.welcomePageProps;var t=void 0;if(this.sectionHeaders&&this.sectionHeaders.length)for(var i=this.sectionHeaders.length-1;i>=0;i--){var r=this.sectionHeaders[i];if(r.index<=e){t=r;break}}return t||(t=this.welcomePageProps),t},Cards.prototype.updateFormHeader=function(e){var t=this;if(this.sectionHeaders&&e&&this.sectionHeaders.length&&this.currentHeader!==e){var i=e.props.text?e.props.text.value:void 0,r=e.props.subHeader?e.props.subHeader.value:void 0,n=!(!e.props.showQuestionCount||"Yes"!==e.props.showQuestionCount.value),o="",s="",l=void 0,d=void 0;if(e===this.welcomePageProps)l=this.welcomePageProps.props.buttonText?this.welcomePageProps.props.buttonText.value:"Start",(0,a.removeClass)(document.querySelector(".jfWelcome-wrapper"),"isHeader"),this.layoutElements.previousButton&&((0,a.removeClass)(this.layoutElements.previousButton," jfInput-button"),(0,a.removeClass)(this.layoutElements.previousButton," forPrev-heading")),(0,a.removeClass)(this.layoutElements.startButton," jfInput-button"),(0,a.removeClass)(this.layoutElements.startButton," forNext-heading");else{var c=this.cards[0]?this.cards[0].actionsButtons.next.innerHTML:"Next",u=this.cards[0]?this.cards[0].actionsButtons.prev.innerHTML:"Previous";l=e.props.nextButtonText&&e.props.nextButtonText.value?e.props.nextButtonText.value:c,d=e.props.previousButtonText&&e.props.previousButtonText.value?e.props.previousButtonText.value:u,(0,a.addClass)(document.querySelector(".jfWelcome-wrapper"),"isHeader"),this.layoutElements.previousButton&&((0,a.addClass)(this.layoutElements.previousButton," jfInput-button"),(0,a.addClass)(this.layoutElements.previousButton," forPrev-heading")),(0,a.addClass)(this.layoutElements.startButton," jfInput-button"),(0,a.addClass)(this.layoutElements.startButton," forNext-heading")}this.layoutElements.welcomeHeaderContainer.innerHTML=void 0!==i?i:this.welcomePageProps.props.text.value,this.layoutElements.welcomeSubHeaderContainer.innerHTML=void 0!==r?r:this.welcomePageProps.props.subHeader.value||"";var h=this.layoutParams.allQuestions,p=this.layoutElements,m=p.welcomeSectionInfoText,f=p.welcomeSectionInfoQuestionCount;if(n&&"welcomePage"!==e.props.id.value){var y=this.sectionHeaders.map(function(e){return e.props.id.value}).indexOf(e.props.id.value),v=e.props.id.value.toString(),g=!!this.sectionHeaders[y+1]&&this.sectionHeaders[y+1].props.id.value.toString(),b=h.map(function(e){return e.id}),C=b.indexOf(v);if(-1!==C){var S=!!g&&b.indexOf(g);s=(S?h.slice(C+1,S):h.slice(C+1)).map(function(e){return t.cards.find(function(t){return t.question.id===e.id})}).filter(function(e){return!e.isHidden}).length,o=s>1?"Questions":"Question"}}else n&&"welcomePage"===e.props.id.value&&(s=this.cards.filter(function(e){return!e.isHidden&&"control_head"!==e.question.type}).length,o=s>1?"Questions":"Question");f.innerHTML=s,m.innerHTML=o,this.layoutElements.startButton.innerHTML=l,this.layoutElements.previousButton&&(this.layoutElements.previousButton.innerHTML=d,0===e.index?(this.layoutElements.previousButton.style.display="none",(0,a.addClass)(document.querySelector(".jfWelcome-wrapper"),"noPrevButton")):(this.layoutElements.previousButton.style.display="inline",this.layoutElements.welcomeHeaderContainer.style.opacity="1",(0,a.removeClass)(document.querySelector(".jfWelcome-wrapper"),"noPrevButton")))}this.currentHeader=e,this.checkHeaderSubHeaderCharLimits(e),this.translateSectionHeader(),"form"===this.layoutParams.formMode&&this.shortenHeaders(),"sectionHeader"===this.layoutParams.formMode&&this.calculateWelcomeSize()},Cards.prototype.checkHeaderSubHeaderCharLimits=function(e){if(e){var t=e.props.text?e.props.text.value:void 0,i=e.props.subHeader?e.props.subHeader.value:void 0;"mobile"===this.layoutParams.resolutionType&&(t&&t.length>("welcome"===this.layoutParams.formMode?100:75)?(0,a.addClass)(this.layoutElements.welcomeHeaderContainer,"isLong"):(0,a.removeClass)(this.layoutElements.welcomeHeaderContainer,"isLong"),i&&i.length>("welcome"===this.layoutParams.formMode?100:75)?(0,a.addClass)(this.layoutElements.welcomeSubHeaderContainer,"isLong"):(0,a.removeClass)(this.layoutElements.welcomeSubHeaderContainer,"isLong"))}},Cards.prototype.setPrevNextQuestion=function(e){var t=e+1,i=e-1;for(this.cards.forEach(function(e){(0,a.removeClass)(e.wrapperContainer,"prevQuestion"),(0,a.removeClass)(e.wrapperContainer,"nextQuestion"),e.wrapperContainer.removeAttribute("aria-hidden")});t<this.cards.length&&this.cards[t].isHidden;)t++;for(t<this.cards.length&&((0,a.addClass)(this.cards[t].wrapperContainer,"nextQuestion"),this.cards[t].wrapperContainer.setAttribute("aria-hidden","true"));i>-1&&this.cards[i].isHidden;)i--;i>-1&&((0,a.addClass)(this.cards[i].wrapperContainer,"prevQuestion"),this.cards[i].wrapperContainer.setAttribute("aria-hidden","true"))},Cards.prototype.setMobilePrevNextQuestionButtons=function(e){if("mobile"===this.layoutParams.deviceType||this.isFeedbackEmbedButton){var t=this.layoutElements,i=t.mobileNextButton,r=t.mobilePrevButton,n=t.mobileSubmitButton,o=t.mobileProgressInfo,s=t.progressWrapper,l=this.getFirstVisibleIndex(),d=this.getLastVisibleIndex(),c=l!==e?"block":"none",u=d!==e?"block":"none",h=d===e?"inline-block":"none";i&&(i.style.display=u),r&&(r.style.display=c),n&&(n.style.display=h),o&&(d!==e?(o.style.display="block",(0,a.addClass)(s,"isProgressButtonVisible")):(o.style.display="none",(0,a.removeClass)(s,"isProgressButtonVisible")))}},Cards.prototype.doObjectsCollide=function(t,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=function(t){var i=t.getBoundingClientRect();return{top:i.top+e.document.body.scrollTop,left:i.left+e.document.body.scrollLeft,offsetWidth:t.offsetWidth,offsetHeight:t.offsetHeight}},o=function(e,t,i,r,n,o,a,s,l){var d=void 0===l?0:l;return!(e+o-d<i||e+d>i+s||t+n-d<r||t+d>r+a)};return function(t,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=t instanceof e.HTMLElement?n(t):t,s=i instanceof e.HTMLElement?n(i):i;return o(a.top,a.left,s.top,s.left,a.offsetWidth,a.offsetHeight,s.offsetWidth,s.offsetHeight,r)}(t,i,r)},Cards.prototype.updateFeedbackEmbedHeight=function(){if(this.layoutParams.isFeedbackEmbedButton){var e=this.cards[this.layoutParams.currentCardIndex],t=e.cardContainer.querySelector(".jfCard-question"),i=t.getBoundingClientRect().height,r=Math.abs(t.scrollHeight-i);this.hwFeedbackEmbed.updateWindowHeight({messageType:"updateHeight",questionHeight:i,scrollHeight:r,bottomBarHeight:48})}},Cards.prototype.recalculateSmartEmbedLayout=function(){var e=this,t=this.layoutElements,i=t.welcomeWrapper,r=t.progressWrapper,n=t.welcomeContainer,o=t.progressContainer,s=t.logoContainer,l=this.layoutParams,d=l.smartEmbedMaxHeight,c=l.currentCardIndex,u=l.cardMode,h=l.formMode,p=l.resolutionType,m=c>-1?this.cards[c].cardContainer:null,f=m?m.getBoundingClientRect():{y:100,height:100},y=d+200,v=(0,a.hasClass)(document.body,"isSmartEmbed"),g="mobile"===p;if(m&&s&&setTimeout(function(){e.doObjectsCollide(m,s,15)?(0,a.addClass)(s,"isHidden"):(0,a.removeClass)(s,"isHidden")},300),v&&this.layoutParams.isEmbed&&this.jsForm){var b=n.getBoundingClientRect(),C=o.getBoundingClientRect(),S=f.height+120;"single"===u&&"form"===h&&(n.style.width=f.width+"px"),"scroll"===u||"welcome"===h?((0,a.removeClass)(document.body,"isSmartEmbedCleanState"),b.height&&(i.style.height=b.height+"px"),r.style.height="scroll"===u&&g?null:C.height+20+"px"):S>y?((0,a.addClass)(document.body,"isSmartEmbedCleanState"),i.style.height=b.height+"px",r.style.height=C.height+20+"px"):((0,a.removeClass)(document.body,"isSmartEmbedCleanState"),i.style.height=f.y+"px",r.style.height=f.y+"px")}else i.style.height=null,r.style.height=null},Cards.prototype.handleFormSubmitError=function(e){var t=e.cardContainer.querySelector(".jfCard-actions .forSubmit"),i=e.cardContainer.querySelector(".jfCard-actionsNotification"),r=i.querySelector(".form-error-message"),n=this.cards.filter(function(e){return!e.isHidden}).reduce(function(e,t,i){return t.hasError&&e.push({card:t,index:i+1}),e},[]),o=n.length;if(!o)return t.removeAttribute("disabled"),void i.removeChild(r);var a="";if(1===o)a=""+n[0].index;else{var s=n[o-1].index,l=n.map(function(e){return e.index});if(o<=4){l.pop();a=l.join(", ")+" and "+s}else{a=l.splice(0,3).join(", ")+" and "+(o-3)+" other questions"}}var d="Please answer the question "+a+" before continuing.";if(r)r.innerHTML=d;else{var c=document.createElement("div");c.className="form-error-message",c.role="alert",c.innerHTML=d,i.appendChild(c)}t.setAttribute("disabled","disabled")},Cards.prototype.setCardIndex=function(t,i,r){var n=this;if(-1!==t){this.cards[t].isHidden&&console.warn("trying to select a hidden question!!!");var o=this.layoutParams,s=o.currentCardIndex,l=o.formMode;s>-1&&this.updateCardStatus(this.cards[s],!1,!0);var d=this.layoutParams.isLayoutAnimated;i?this.removeLayoutAnimation():this.addLayoutAnimation(),this.setPrevNextQuestion(t),s>-1&&(0,a.removeClass)(this.cards[s].wrapperContainer,"isVisible"),this.layoutParams.currentCardIndex=t;var c=this.cards[this.layoutParams.currentCardIndex];(0,a.addClass)(c.wrapperContainer,"isVisible"),"control_matrix"===c.question.type&&setTimeout(function(){e.JotForm.setMatrixLayout(c.question.id)},10);var u=this.hasWelcome?0:1;if("form"===l&&t>=u||"form"===l&&!this.welcomePageProps.props.isFormTitleVisible?this.hideHeader():this.showHeader(),i?this.updateFeedbackEmbedHeight():setTimeout(function(){n.updateFeedbackEmbedHeight()},300),this.handleFeedbackButtonProgress(),this.setMobilePrevNextQuestionButtons(t),this.layoutParams.scrollLeftExtra=0,this.progress.selectIndex(t),this.recalculateTransform(),"form"!==this.layoutParams.formMode||this.layoutParams.hasTouch||this.focusToFirstInput(this.cards[t]),this.datetimeHandler.closeAllCalendars(),this.dropdown.closeAllDropdowns(),d&&i&&this.addLayoutAnimation(1),this.updateFormHeader(this.getSectionHeaderForIndex(t)),r||this.hiddenSubmit(),this.recalculateSmartEmbedLayout(),this.layoutParams.formMode,this.pressEnterHint&&"form"===this.layoutParams.formMode&&!this.canQuestionMoveAutomatically(this.getCurrentCard().question.question_type)&&this.pressEnterHint.show(),this.calculateAvailableHeightForFields(t),"form"===l&&e.FormTranslation&&e.FormTranslation.properties&&"1"===e.FormTranslation.properties.firstPageOnly){var h=this.cards.findIndex(function(e){return!1===e.isHidden});this.setLanguageDropdownVisibility(h,t)}this.handleWidgetsVisibility(c)}},Cards.prototype.hiddenSubmit=function(t){var i=this,r=!1,n=!1;if(this.isSaveAndContinueLaterActivated&&this.saveAndContinueLater.inited&&this.continueLater.active?r=!0:e.JotForm.sessionID&&(n=!0),!r&&!n)return!1;if(this.saveAndContinueLater&&this.saveAndContinueLater.hiddenSubmit)return console.log("by passing cardforms hidden submit temporarily"),this.saveAndContinueLater.hiddenSubmit();var o=document.forms[0],s=this.getInputNamesAndValues(),l=this.getFormDataDiff(s,this.continueLater.lastAnswers,o);if((l.length>0||t)&&!e.JotForm.loadingPendingSubmission){this.continueLater.lastAnswers=s;var d=this.mergeDiffWithStaticData(l);if(!d)return;var c=o.cloneNode(!1);document.body.appendChild(c);for(var u=0;u<d.length;u++){var h=d[u],p=(0,a.createInput)({type:"hidden",name:h.name,value:h.value});c.appendChild(p)}e.JotForm.hiddenSubmit(c,{async:!0,onSuccessCb:function(t){if(!e.JotForm.submissionID&&t.responseText){var r=JSON.parse(t.responseText);e.JotForm.setSubmissionID(r.submissionId)}var n=/temp_upload\[.*?]\[.*?]$/g;l.some(function(e){return n.test(e.name)})&&e.JotForm.makeUploadChecks(),i.saveAndContinueLater&&i.saveAndContinueLater.changeState(i.saveAndContinueLater.states.saved)},onFailureCb:function(){i.saveAndContinueLater.changeState(i.saveAndContinueLater.states.error)},onCompleteCb:function(){document.body.removeChild(c)}})}},Cards.prototype.mergeDiffWithStaticData=function(t){var i=[],r=document.getElementById("simple_spc");i.push({name:"session_id",value:e.JotForm.sessionID}),e.JotForm.submissionID&&i.push({name:"submission_id",value:e.JotForm.submissionID}),r&&i.push({name:"simple_spc",value:r.value}),i.push({name:"submission_token",value:e.JotForm.submissionToken}),i.push({name:"formID",value:this.formID}),i.push({name:"continue_card_index",value:this.layoutParams.currentCardIndex});for(var n=[].concat(t),o=0;o<i.length;o++)!function(e){!!n.find(function(t){return t.name===i[e].name})||n.push(i[e])}(o);return n},Cards.prototype.getFormDataDiff=function(e,t,i){return e.filter(function(e){if(e.name.include("uploadedBefore"))return!0;var r=/\[.*?]$/g,n=/temp_upload\[.*?]\[.*?]$/g;if(r.test(e.name)&&!n.test(e.name)){var o=/\[.*?]\[.*?]$/g;if(e.name.match(o))return!0;var a=i.querySelector('input[type="checkbox"][name="'+e.name+'"]');return!(e.name.include("[other]")&&a&&!a.checked)&&!!e.value}return!t||!t.find(function(t){return t.name===e.name&&t.value===e.value})})},Cards.prototype.showInputTooltip=function(e,t){var i=this,r=t.message,n=t.callback,o=t.onClose,s=(0,a.closest)(e,".jfQuestion-fields"),l=(0,a.closest)(e,".jfCard-wrapper"),d=r.split("|"),c=d[0],u=d[1],h=d[2],p=!!s&&s.querySelector(".js-tooltipContainer");if(p){l&&l.addEventListener("click",function(t){(0,a.closest)(t.target,".js-tooltipContainer")||i.removeInputTooltip(e)});var m=p.querySelector(".js-tooltipMessageContainer-info");p.querySelector(".js-tooltipCloseButton").addEventListener("click",function(t){t.preventDefault(),i.removeInputTooltip(e),o&&o()}),m.innerHTML="";var f=document.createTextNode(c);if(m.appendChild(f),u){var y=document.createElement("span");if(y.innerHTML=u,y.className="jfCardTooltip-link",m.appendChild(y),y.addEventListener("click",function(t){n&&n(t),i.removeInputTooltip(e)}),h){var v=document.createTextNode(h);m.appendChild(v)}}(0,a.addClass)(s,"isTooltipOpen")}},Cards.prototype.removeInputTooltip=function(e){var t=(0,a.closest)(e,".jfQuestion-fields"),i=!!t&&t.querySelector(".js-tooltipContainer");if(i){i.querySelector(".js-tooltipMessageContainer-info").innerHTML="";var r=Object.keys(s.TOOLTIP_TYPES).map(function(e){return s.TOOLTIP_TYPES[e]}),n=!0;r.forEach(function(e){(0,a.hasClass)(i,e)&&(n=!1)}),n&&(0,a.removeClass)(t,"isTooltipOpen")}},Cards.prototype.bindFormSubmit=function(){var e=this;("mobile"===this.layoutParams.deviceType||this.isFeedbackEmbedButton)&&this.layoutElements.mobileSubmitButton.addEventListener("click",function(t){t.preventDefault(),e.submitFormWithJS(document.querySelector(".jotform-form"))})},Cards.prototype.bindTouchSwipeEvents=function(){var t=this,i={},r=["image","text"];document.addEventListener("touchstart",function(e){var n=t.layoutElements.overlayWrapper;if(!(n&&(0,a.hasClass)(n,"isVisible")||t.layoutParams.isFullScreenMode)){var o=e.target.getAttribute("data-component");o||(o=(0,a.closest)(e.target,"div").getAttribute("data-component"));!(-1!==r.indexOf(o))&&(0,a.closest)(e.target,".jfQuestion-fields")||(i.startX=e.touches[0].screenX,i.startY=e.touches[0].screenY)}}),document.addEventListener("touchmove",function(e){i.moveX=e.touches[0].screenX,i.moveY=e.touches[0].screenY}),document.addEventListener("touchend",function(){if(void 0!==i.startX&&void 0!==i.startY&&!t.layoutParams.isFullScreenMode){var r=Math.abs(i.startY-i.moveY)>70;if("scroll"!==t.layoutParams.cardMode)if(!r&&i.startX>i.moveX+70){var n=t.layoutParams.formMode;"welcome"===n?t.setFormMode("form"):(void 0!==e.JotForm.conditions.length&&t.checkConditionOnCurrentCard(),t.selectNextQuestion())}else!r&&i.startX+70<i.moveX&&t.selectPreviousQuestion()}i={}})},Cards.prototype.bindResizeEvent=function(){var t=this;e.addEventListener("resize",function(){var e=t.browserProperties.isAndroid,i="INPUT"===document.activeElement.tagName||"TEXTAREA"===document.activeElement.tagName||"true"===document.activeElement.getAttribute("contenteditable");e&&"mobile"===t.layoutParams.deviceType&&i&&document.activeElement.scrollIntoView(),t.disableTransitions(),t.recalculateLayout(),t.recalculateSmartEmbedLayout(),t.handleFullScreenToggle(),t.recalculateBackgroundStyle(),setTimeout(function(){t.enableTransitions(),t.updateMatrixLayout(),t.recalculateSmartEmbedLayout(),t.calculateWelcomeSize()},100),t.isOpenedOnJotFormMobileApp&&setTimeout(function(){t.recalculateLayout()},251)},!0),e.addEventListener("orientationchange",function(){setTimeout(function(){t.recalculateLayout(),t.updateMatrixLayout(),t.recalculateSmartEmbedLayout(),t.calculateWelcomeSize()},1e3)},!0)},Cards.prototype.bindHashChangeEvent=function(){e.addEventListener("hashchange",this.onLocationHashChange,!0)},Cards.prototype.addScrollLeftDelta=function(e){if("mobile"!==this.layoutParams.resolutionType){var t=this.layoutParams,i=t.currentCardIndex,r=t.currentCardSize,n=this.cards.filter(function(e){return!e.isHidden}).length;this.layoutParams.scrollLeftExtra+=e;var o=this.getVisibleIndex(i),a=o*r+(n-1-o)*r,s=this.layoutParams.scrollLeftExtra+this.getScrollLeft();s<=0&&(this.layoutParams.scrollLeftExtra=0-this.getScrollLeft()),s>=a&&(this.layoutParams.scrollLeftExtra=a-this.getScrollLeft()),this.recalculateTransform()}},Cards.prototype.bindCardClickEvents=function(){var e=this,t="mobile"===this.layoutParams.deviceType;this.cards.forEach(function(i,r){!function(r){i.cardContainer.addEventListener("click",function(){"scroll"===e.layoutParams.cardMode&&(e.setCardIndex(r),e.setCardMode("single"),!e.progress.isFormProgressVisible&&!t&&e.progress.layoutElements.progressItemsLine&&e.progress.layoutElements.progressItemWrapper&&((0,a.addClass)(e.progress.layoutElements.progressItemsLine," jfProgress-hiddenWrapper"),(0,a.addClass)(e.progress.layoutElements.progressItemWrapper," jfProgress-hiddenWrapper")))})}(r)})},Cards.prototype.setAddressFieldValue=function(e,t,i){var r=e.question.id,n=e.cardContainer,o=this.addressTypeSuffixMap[t],a=n.querySelector("#input_"+r+"_"+o);if(a&&(a.value=i,this.setFieldIsFilledIfHasValue(a),"SELECT"===a.tagName)){var s=n.querySelector('[data-type="'+o+'"] #jfDropdown_'+r);s&&(s.value=i)}},Cards.prototype.autoSelectNextQuestion=function(e){var t=this,i=this.layoutElements,r=i.mobileNextButton,n=i.mobilePrevButton,o=e.actionsButtons,s=o.prev,l=o.next,d=[n,r,s,l];if((0,a.enableDisableDOMElements)(d,!1),this.isCardFilled(e)){this.autoSelectionTimeoutQueue||(this.autoSelectionTimeoutQueue=[]);var c=setTimeout(function(){t.autoSelectionTimeoutQueue.length>0&&(t.autoSelectionTimeoutQueue=t.autoSelectionTimeoutQueue.filter(function(e){return e===c&&clearTimeout(e),e!==c})),t.autoSelectionTimeoutQueue.length<=0&&t.selectNextQuestion(),(0,a.enableDisableDOMElements)(d,!0)},500);this.autoSelectionTimeoutQueue.push(c)}},Cards.prototype.bindInputChange=function(){var t=this;this.cards.forEach(function(i){"control_datetime"!==i.question.type&&function(){for(var r=i.cardContainer.querySelectorAll(".jfInput-input, .jfRadio-input, .jfInput-textarea, .jfRating-input, .jsToggle"),n=t.canQuestionMoveAutomatically(i.question.type),o=0;o<r.length;o++)r[o].addEventListener("change",function(r){!n||(0,a.hasClass)(r.target,"jfRadio-otherInputField")||(0,a.hasClass)(r.target,"jfRadio-otherInput")||(void 0!==e.JotForm.conditions.length&&t.checkConditionOnCurrentCard(),t.autoSelectNextQuestion(i));var o=r.target||r.srcElement;t.setFieldIsFilledIfHasValue(o)})}()})},Cards.prototype.bindSelectChange=function(){var e=this;this.cards.forEach(function(t){if("control_datetime"!==t.question.type){var i=t.cardContainer.querySelectorAll("select.form-dropdown");(0,a.forEach)(i,function(t){t.addEventListener("change",function(t){var i=t.target||t.srcElement;e.setFieldIsFilledIfHasValue(i)})})}})},Cards.prototype.setFieldIsFilledIfHasValue=function(e){var t=(0,a.closest)(e,".jfField","body");t&&(e.value.length>0||["select-one","select-multiple"].indexOf(e.type)>=0?(0,a.addClass)(t,"isFilled"):(0,a.removeClass)(t,"isFilled"))},Cards.prototype.isEditMode=function(){return-1!==window.location.href.indexOf("/edit/")||-1!==window.location.href.indexOf("mode=inlineEdit")},Cards.prototype.setFormMode=function(e,t,i){var r=this,n=this.layoutParams.formMode;if(n!==e){if(this.layoutParams.formMode=e,!t&&this.layoutElements.staticItems?(this.layoutElements.staticItems.style.display="none",this.layoutElements.formWrapper.classList.remove("isBadgesVisible")):this.layoutElements.formWrapper.classList.add("isBadgesVisible"),"form"===e){if(this.layoutElements.formWrapper&&this.layoutElements.formWrapper.removeAttribute("aria-hidden"),0===this.layoutParams.currentCardIndex&&"mobile"!==this.layoutParams.resolutionType||this.progress.layoutElements.progress.removeAttribute("aria-hidden"),"welcome"===n){if(this.sectionHeaders&&this.sectionHeaders.length&&0===this.sectionHeaders[0].index){if(!this.sectionHeaders[0].isHidden)return void this.setFormMode("sectionHeader",!0,!1)}this.hideHeader()}this.layoutParams.scaleFactor=1,t||this.layoutParams.isLayoutAnimated||i||this.enableTransitions(),this.layoutElements.startButton&&(this.layoutElements.startButton.style.display="none"),this.layoutElements.previousButton&&(this.layoutElements.previousButton.style.display="none"),this.layoutParams.hasTouch||this.focusToFirstInput(this.cards[this.layoutParams.currentCardIndex])}else if("sectionHeader"===e){this.layoutElements.formWrapper&&this.layoutElements.formWrapper.setAttribute("aria-hidden","true"),"mobile"!==this.layoutParams.resolutionType&&this.progress.layoutElements.progress.setAttribute("aria-hidden","true"),this.updateFormHeader(this.sectionHeaders[0]),this.layoutElements.startButton.style.display="inline";var o=document.querySelector(".jfWelcome-image");o&&(0,a.addClass)(o,"collapse"),this.layoutParams.scaleFactor=.2,this.showHeader(),setTimeout(function(){var e=r.layoutElements.welcomeWrapper.querySelector(".forNext-heading");e&&e.focus()},300)}else this.layoutElements.formWrapper&&this.layoutElements.formWrapper.setAttribute("aria-hidden","true"),this.layoutParams.scaleFactor=.2,this.layoutElements.startButton&&(this.layoutElements.startButton.style.display="inline"),this.layoutElements.previousButton&&(this.layoutElements.previousButton.style.display="none");(0,a.removeClass)(document.body,"formMode"),(0,a.removeClass)(document.body,"welcomeMode"),(0,a.removeClass)(document.body,"thankyouMode"),(0,a.removeClass)(document.body,"reviewMode"),(0,a.removeClass)(document.body,"sectionHeaderMode"),(0,a.addClass)(document.body,this.layoutParams.formMode+"Mode"),this.calculateWelcomeSize(),this.checkHeaderSubHeaderCharLimits(this.currentHeader),t||this.recalculateTransform(),this.recalculateSmartEmbedLayout(),"form"!==this.layoutParams.formMode||this.welcomePageProps.props.isFormTitleVisible||this.hideHeader(),setTimeout(function(){r.calculateAvailableHeightForFields(),r.calculatePaymentHeights(),r.recalculateSmartEmbedLayout(),r.updateFeedbackEmbedHeight()},300)}},Cards.prototype.calculatePaymentHeights=function(){e.JotForm.productPages&&e.JotForm.productPages.initProductPages()},Cards.prototype.addLayoutAnimation=function(e){var t=this;if("form"===this.layoutParams.formMode&&this.isTransitionsEnabled){var i=this.layoutElements.cardAnimationWrapper;return e?setTimeout(function(){(0,a.addClass)(i,"transition-all-03s"),t.layoutParams.isLayoutAnimated=!0},e):((0,a.addClass)(i,"transition-all-03s"),this.layoutParams.isLayoutAnimated=!0,!1)}},Cards.prototype.setScale=function(e){this.layoutParams.scaleFactor=e,this.recalculateTransform()},Cards.prototype.enableTransitions=function(){this.isTransitionsEnabled=!0,this.addLayoutAnimation(),this.cards.forEach(function(e){(0,a.addClass)(e.wrapperContainer,"transition-all-015s")})},Cards.prototype.disableTransitions=function(){this.isTransitionsEnabled=!0,this.removeLayoutAnimation(),this.cards.forEach(function(e){(0,a.removeClass)(e.wrapperContainer,"transition-all-015s")})},Cards.prototype.removeLayoutAnimation=function(e){var t=this,i=this.layoutElements.cardAnimationWrapper;e?(this.removeLayoutAnimation.timeout&&clearTimeout(this.removeLayoutAnimation.timeout),this.removeLayoutAnimation.timeout=setTimeout(function(){t.removeLayoutAnimation.timeout=null,(0,a.removeClass)(i,"transition-all-03s"),t.layoutParams.isLayoutAnimated=!1},e)):((0,a.removeClass)(i,"transition-all-03s"),this.layoutParams.isLayoutAnimated=!1)},Cards.prototype.showProgress=function(){var e=this;(0,a.removeClass)(this.progress.layoutElements.progress,"progress-animate"),setTimeout(function(){(0,a.addClass)(e.progress.layoutElements.progress,"no-animate"),e.progress.layoutElements.progress.removeAttribute("aria-hidden")},700)},Cards.prototype.checkCardIfMoveAutomatically=function(e){var t=e.question.type;this.canQuestionMoveAutomatically(t)&&(0,a.addClass)(e.cardContainer,"canMoveAuto")},Cards.prototype.canQuestionMoveAutomatically=function(t){var i=["control_radio","control_imagechoice","control_yesno","control_rating","control_scale"],r=i.indexOf(t)>-1,n=e.JotForm.accessible;return r&&!n},Cards.prototype.closeTimezonePicker=function(){var e=document.querySelector(".jDropdownWG-wrapper:not(.isClose)");e&&e.classList.add("isClose")},Cards.prototype.selectNextQuestion=function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.layoutParams,n=r.currentCardIndex,o=r.cardMode;if("sectionHeader"===r.formMode)return this.setFormMode("form"),void this.updateFormHeader(this.getSectionHeaderForIndex(n));if(n>-1)if("scroll"===o||t||this.validateCard(this.cards[n])){this.showProgress();for(var a=n+1;a<this.cards.length&&this.cards[a].isHidden;)a++;this.layoutElements.staticItems&&(this.layoutElements.formWrapper.classList.remove("isBadgesVisible"),this.layoutElements.staticItems.style.display="none");var s=!0;if(e.JotForm.nextPage){s=!1;for(var l=n,d=e.JotForm.nextPage.id.substring(e.JotForm.nextPage.id.indexOf("_")+1),c=0;c<this.cards.length;c++){if(this.cards[c].question.id===d){l=c;break}this.cards[c].formLine.removeAttribute("data-skipped-by")}a=l,e.JotForm.headerInBetween&&(s=!0),e.JotForm.nextPage=!1}if(a<this.cards.length){var u=[this.getSectionHeaderForIndex(n),this.getSectionHeaderForIndex(a)],h=u[0],p=u[1];"scroll"!==o&&h!==p&&!p.isHidden&&s?(this.setFormMode("sectionHeader"),this.calculateWelcomeSize(),this.updateFormHeader(p),this.setCardIndex(a,!1)):this.setCardIndex(a,i),this.cards[a].prevCard=this.cards[n].question,"scroll"===o&&this.removeLayoutAnimation(400),"control_appointment"===this.cards[n].question.type&&this.closeTimezonePicker()}}else this.shakeCard(n),this.focusToFirstError(n)},Cards.prototype.focusToFirstError=function(e){var t=this.cards[e].cardContainer.querySelector(".form-validation-error");t&&t.focus()},Cards.prototype.selectPreviousQuestion=function(){var e=this,t=this.layoutParams,i=t.currentCardIndex,r=t.cardMode;if("sectionHeader"!==t.formMode){for(var n=i-1;n>-1&&this.cards[n].isHidden;)n--;i>-1&&this.cards[i].prevCard&&(n=this.cards.findIndex(function(t){return t.question.id===e.cards[i].prevCard.id&&!t.isHidden}),this.cards[i].prevCard=null),n>-1&&(this.setCardIndex(n),"scroll"===r&&this.removeLayoutAnimation(400))}},Cards.prototype.bindPrevNextButtonsClick=function(){var t=this;document.body.addEventListener("click",function(i){void 0!==e.JotForm.conditions.length&&(0,a.hasClass)(i.target,"forNext")&&(0,a.hasClass)(i.target,"forMobileNav")&&t.checkConditionOnCurrentCard(),(0,a.hasClass)(i.target,"forNext")?(i.preventDefault(),t.selectNextQuestion()):(0,a.hasClass)(i.target,"forPrev")&&(i.preventDefault(),t.selectPreviousQuestion())})},Cards.prototype.findEmailAnswer=function(){var e=this.cards.filter(function(e){return"control_email"===e.question.type&&!e.isHidden&&!e.hasError});return 0===e.length?"":e[0].fieldContainer.querySelector('input[type="email"]').value},Cards.prototype.bindKeyUpEvent=function(){var t=this;document.addEventListener("keydown",function(i){var r=t.layoutElements.overlayWrapper;if(!r||!(0,a.hasClass)(r,"isVisible")){var n=t.layoutParams,o=n.formMode,s=n.cardMode,l=n.currentCardIndex,d=t.cards[l]?t.cards[l].question:{},c=z[i.target.tagName],u=document.activeElement,h=u.isContentEditable,p=u.getAttribute("data-disable-enter-event"),m=u.getAttribute("data-disable-escape-event");if(!(t.autoSelectionTimeoutQueue&&Array.isArray(t.autoSelectionTimeoutQueue)&&t.autoSelectionTimeoutQueue.length>0||c&&-1!==c.indexOf(i.keyCode)&&i.target.value)){if(!m&&(27===i.keyCode&&t.layoutParams.isFullScreenMode||13===i.keyCode&&i.shiftKey&&(i.metaKey||i.altKey)))return void("form"===o&&"single"===s&&t.toggleFullScreenMode());if(t.layoutParams.isFullScreenMode)return;13===i.keyCode&&void 0!==e.JotForm.conditions.length&&t.checkConditionOnCurrentCard(),h||p||(39!==i.keyCode&&13!==i.keyCode||document.getElementById("isStripeACHVerification")?37===i.keyCode&&("sectionHeader"===t.layoutParams.formMode&&t.setFormMode("form"),t.selectPreviousQuestion()):"welcome"!==t.layoutParams.formMode&&"sectionHeader"!==t.layoutParams.formMode||13!==i.keyCode?"scroll"===t.layoutParams.cardMode&&13===i.keyCode?(t.setCardIndex(t.getNearestCardIndexInScrollMode()),t.setCardMode("single")):13!==i.keyCode||"control_address"!==d.type||!u||u!==document.body&&u.id!=="input_"+d.id+"_addr_search"?(i.preventDefault(),t.selectNextQuestion()):i.preventDefault():(t.setFormMode("form"),t.shortenHeaders(),i.preventDefault()))}}})},Cards.prototype.getNearestCardIndexInScrollMode=function(){var e=this.layoutParams,t=e.scrollLeftExtra,i=e.currentCardIndex,r=e.currentCardSize,n=r,o=parseInt(Math.abs(t)/n,10),a=Math.abs(t)%n>n/2?1:0,s=o+a,l=0;if(t>0){for(var d=i+1;d<this.cards.length&&s>0;d++)this.cards[d].isHidden?l++:s--;return i+o+a+l}for(var c=i-1;c>=0&&s>0;c--)this.cards[c].isHidden?l++:s--;return i-(o+a)-l},Cards.prototype.shakeCard=function(e){var t=this.cards[e].cardContainer;(0,a.addClass)(t,"animate-shake"),setTimeout(function(){(0,a.removeClass)(t,"animate-shake")},400)},Cards.prototype.setCardMode=function(t,i){var r=this,n=this.layoutElements.cardAnimationWrapper;this.layoutParams.cardMode=t,"scroll"===this.layoutParams.cardMode?((0,a.addClass)(this.layoutElements.cardAnimationWrapper,"noselect"),this.removeLayoutAnimation(400),(0,a.addClass)(n,"onScrollMode"),(0,a.addClass)(document.body,"onScrollMode"),e.addEventListener("wheel",this.onWheel,{passive:!1})):((0,a.removeClass)(this.layoutElements.cardAnimationWrapper,"noselect"),i?this.recalculateSmartEmbedLayout():(this.addLayoutAnimation(),setTimeout(function(){r.recalculateSmartEmbedLayout()},300),clearTimeout(this.removeLayoutAnimation.timeout)),(0,a.removeClass)(n,"onScrollMode"),(0,a.removeClass)(document.body,"onScrollMode"),e.removeEventListener("wheel",this.onWheel,{passive:!1})),this.recalculateTransform()},Cards.prototype.onWheel=function(e){var t=this.layoutParams,i=t.cardMode,r=t.resolutionType;"scroll"===i&&"mobile"!==r&&(e.preventDefault(),this.addScrollLeftDelta(Math.abs(e.deltaY)>Math.abs(e.deltaX)?e.deltaY:e.deltaX))},Cards.prototype.selectQuestion=function(e){var t=this;this.setCardMode("scroll"),setTimeout(function(){t.setCardIndex(e)},400),setTimeout(function(){t.setCardMode("single")},800)},Cards.prototype.getTotalWidth=function(){return this.cards.filter(function(e){return!e.isHidden}).length*this.layoutParams.currentCardSize+this.layoutParams.leftMargin},Cards.prototype.getVisibleIndex=function(e){return e-this.cards.slice(0,e).reduce(function(e,t){return t.isHidden?e+1:e},0)},Cards.prototype.getScrollLeft=function(){return this.layoutParams.currentCardSize*this.getVisibleIndex(this.layoutParams.currentCardIndex)},Cards.prototype.setWrapperWidth=function(){var e=this,t=this.layoutElements.cardAnimationWrapper,i=this.layoutParams,r=i.currentCardSize,n=i.leftMargin;t.style.width=this.getTotalWidth(),this.cards.forEach(function(t,i){var o=t.wrapperContainer;o.style.width=r+"px",e.layoutParams.for1Template||0===e.getVisibleIndex(i)?o.style.marginLeft=n+"px":o.style.marginLeft="0px"})},Cards.prototype.getCurrentOrientation=function(){var t=e,i=t.screen,r=t.orientation,n=i.orientation||i.mozOrientation||i.msOrientation;if(n&&"string"==typeof n.type)return n.type;var o=r||n&&n.angle||0;return(0,a.calculateOrientationType)(o)},Cards.prototype.checkAndSetBrowserBasedClasses=function(){var e=["browserName-","browserVersion-","browserType-","isWebKit","osName-","osVersion-","browserOrientation-"],t=this.getCurrentOrientation().split("-"),i=t[0],r=document.body.className.split(" "),n=["browserName-"+this.browserProperties.browserName.split(" ").join(""),"browserVersion-"+this.browserProperties.browserVersion,"browserOrientation-"+i];this.browserProperties.isWebkit&&n.push("isWebKit"),(this.browserProperties.isMobile||this.browserProperties.isTablet)&&n.push("browserType-"+(this.browserProperties.isMobile?"mobile":"tablet")),this.browserProperties.osName&&n.push("osName-"+this.browserProperties.osName),this.browserProperties.osVersion&&n.push("osVersion-"+this.browserProperties.osVersion),e.forEach(function(e){var t=r.find(function(t){return t.indexOf(e)>-1}),i=n.find(function(t){return t.indexOf(e)>-1});t!==i&&(t&&(0,a.removeClass)(document.body,t),i&&(0,a.addClass)(document.body,i))})},Cards.prototype.checkAndSetDeviceType=function(){var e=window.innerWidth;e<=a.deviceSize.cardwidthp?this.layoutParams.resolutionType="mobile":e<=a.deviceSize.cardwidthpt?this.layoutParams.resolutionType="mobile":e<=a.deviceSize.cardwidtht?this.layoutParams.resolutionType="":e<=a.deviceSize.cardwidthsm?this.layoutParams.resolutionType="":e<=a.deviceSize.cardwidthm?this.layoutParams.resolutionType="":(a.deviceSize.cardwidthxl,this.layoutParams.resolutionType=""),this.checkAndSetBrowserBasedClasses()},Cards.prototype.recalculateLayout=function(){var e=this.layoutElements.cardAnimationWrapper;this.checkAndSetDeviceType();var t=void 0,i=window.innerWidth;t=i<=a.deviceSize.cardwidthp?a.cardSize.cardwidthp:i<=a.deviceSize.cardwidthpt?a.cardSize.cardwidthpt:i<=a.deviceSize.cardwidtht?a.cardSize.cardwidtht:i<=a.deviceSize.cardwidthsm?a.cardSize.cardwidthsm:i<=a.deviceSize.cardwidthm?a.cardSize.cardwidthm:(a.deviceSize.cardwidthxl,a.cardSize.cardwidthxl),"string"==typeof t&&t.indexOf("%")>-1&&(t=window.innerWidth*(+t.replace("%","")/100)),this.layoutParams.leftMargin=(window.innerWidth-t)/2,this.layoutParams.currentCardSize=t,e.style.width=this.getTotalWidth(),this.setWrapperWidth(),this.calculateAvailableHeightForFields(),this.recalculateTransform(),this.updateFeedbackEmbedHeight()},Cards.prototype.recalculateBackgroundStyle=function(){var t=document.querySelector(".jfForm-backgroundContainer")||document.querySelector(".jfForm-wrapper"),i=document.querySelector(".jfProgress#cardProgress"),r=e.window,n=r.innerHeight,o=r.innerWidth,a=o>n?"landscape":"portrait";if("mobile"===this.layoutParams.resolutionType){if(!this.layoutParams.isEmbed){var s=function(){switch(a){case"landscape":return{size:"cover",position:"center"};case"portrait":return{size:"auto "+(n+1)+"px",position:"top center"};default:return null}}();t.style.backgroundSize=s.size,t.style.backgroundPosition=s.position,i.style.backgroundSize=s.size,i.style.backgroundPosition=s.position}}else t.style.backgroundSize=null,t.style.backgroundPosition=null,i.style.backgroundSize=null,i.style.backgroundPosition=null},Cards.prototype.getXPos=function(e){return e.clientX?e.clientX:e.touches&&e.touches.length?e.touches[0].clientX:0},Cards.prototype.mouseDown=function(e){"scroll"===this.layoutParams.cardMode&&(this.layoutParams.isDraggingStart=!0,this.layoutParams.dragStartX=this.getXPos(e))},Cards.prototype.mouseUp=function(){var e=this;"scroll"===this.layoutParams.cardMode&&(this.layoutParams.isDraggingStart=!1,setTimeout(function(){e.layoutParams.isDragging=!1},10))},Cards.prototype.mouseMove=function(e){if("scroll"===this.layoutParams.cardMode&&this.layoutParams.isDraggingStart){this.layoutParams.isDragging=!0;var t=this.layoutParams.dragStartX-this.getXPos(e);this.layoutParams.dragStartX=this.getXPos(e),this.addScrollLeftDelta(t)}},Cards.prototype.bindDragPage=function(){document.body.addEventListener("mousedown",this.mouseDown),document.body.addEventListener("mouseup",this.mouseUp),document.body.addEventListener("mousemove",this.mouseMove),document.body.addEventListener("touchstart",this.mouseDown),document.body.addEventListener("touchend",this.mouseUp),document.body.addEventListener("touchmove",this.mouseMove),document.body.addEventListener("pointerdown",this.mouseDown),document.body.addEventListener("pointerup",this.mouseUp),document.body.addEventListener("pointermove",this.mouseMove)},Cards.prototype.onFieldVisibilityChanged=function(e,t){for(var i=arguments.length,r=Array(i>2?i-2:0),n=2;n<i;n++)r[n-2]=arguments[n];var o=r[0],s=this.cards.filter(function(e){return e.question.id===o&&e.isHidden===t});if(e&&s){var l=this.visibleCards.length>116&&"isVeryLongForm"||this.visibleCards.length>72&&"isLongForm",d=this.visibleCards.length>116&&["isLongForm"]||this.visibleCards.length>72&&["isVeryLongForm"]||["isLongForm","isVeryLongForm"];l&&(0,a.addClass)(document.body,l),d.forEach(function(e){return(0,a.removeClass)(document.body,e)}),t&&(s=s.filter(function(e){return!e.forceHide})),s.length&&this.setCardVisibility(s,t)}if(0===s.length&&this.sectionHeaders&&this.sectionHeaders.length){var c=this.sectionHeaders.find(function(e){return e.props.id.value===o});c&&!!c.isHidden==!!t&&(c.isHidden=!t,t||"welcome"===this.layoutParams.formMode||this.setFormMode("form"))}},Cards.prototype.setCardVisibility=function(e,t){var i=this,r=Array.isArray(e)?e:[e];this.removeLayoutAnimation(),this.cards.forEach(function(e){(0,a.removeClass)(e.wrapperContainer,"transition-all-015s")});var n=t?[]:r.map(function(e){return i.cards.indexOf(e)});if(r.forEach(function(e){var r=e;r.isHidden=!t,i.progress.setIndexVisibility(i.cards.indexOf(r),t)}),this.setPrevNextQuestion(this.layoutParams.currentCardIndex),this.setWrapperWidth(),this.recalculateTransform(),this.updateCardIndexes(),setTimeout(function(){i.enableTransitions()},50),n.indexOf(this.layoutParams.currentCardIndex)>-1){for(var o=-1,s=1;s<this.cards.length;s++){var l=(this.layoutParams.currentCardIndex+s)%this.cards.length;if(!this.cards[l].isHidden){o=l;break}}o>-1?this.setCardIndex(o):console.warn("no visible card exists")}this.updateCardLabels(),this.repositionActionButtons()},Cards.prototype.updateCardIndexes=function(){var e=this;this.cards.forEach(function(t,i){t.indexContainer.textContent=e.getVisibleIndex(i)+1})},Cards.prototype.getCardLabels=function(){var e=[];return(0,a.forEach)(this.visibleCards,function(t,i){var r=t,n=t.cardContainer.querySelector(".jfQuestion-label");n&&n.childNodes&&n.childNodes[0]?e.push({question:r.question,label:n.childNodes[0].textContent}):e.push({question:r.question,label:"Question "+(i+1)})}),e},Cards.prototype.updateCardLabels=function(){(0,a.forEach)(this.visibleCards,function(e,t){var i=e,r=e.cardContainer.querySelector(".jfQuestion-label");r&&r.childNodes&&r.childNodes[0]?i.label=r.childNodes[0].textContent:i.label="Question "+(t+1)}),this.progress&&this.progress.setQuestionOrderNumbers()},Cards.prototype.onRequireField=function(e,t){var i=this;this.cards.filter(function(t){return t.question.id===e}).forEach(function(e){var r=e.cardContainer,n=r.querySelector(".jfRequiredStar");t?n?n.style.display="initial":i.addRequiredElementToCard(r):(n&&(n.style.display="none"),e.hasError?i.updateCardStatus(e):i.updateCardStatus(e,!1,!1))})},Cards.prototype.addRequiredElementToCard=function(e){var t=document.createElement("span");t.className="jfRequiredStar";var i=document.createElement("span");i.className="jfRequiredStar-message",i.textContent="This field is required",t.appendChild(document.createTextNode("*")),t.appendChild(i);var r=e.querySelector(".jfQuestion-label");r&&r.appendChild(t)},Cards.prototype.updateCardStatus=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.cards.indexOf(e);this.progress.unsetInvalidIndex(r),this.progress.unsetValidIndex(r),t&&this.validateCard(e),i&&this.isCardFilled(e),e.hasError?this.progress.setInvalidIndex(r):(e.isFilled||Q.indexOf(e.question.type)>-1)&&this.progress.setValidIndex(r)},Cards.prototype.bindFocusOnMobileWithKeyboard=function(){function handleKeyPress(){if((0,a.hasTouch)()){var e=document.querySelector(".form-line .isVisible").parentElement;if((0,a.hasClass)(document.body,"isFullScreen")&&(e=document.querySelector(".forFullScreen")),"control_textarea"===e.getAttribute("data-type")){var t=e.querySelector(".jfTextarea-editor");if(t)return t.focus()}var i=e.querySelectorAll("input"),r=document.activeElement.localName.indexOf("input")>-1||document.activeElement.classList.toString().indexOf("jfInput")>-1;i&&i.length>0&&!r&&i[0].focus()}}document.onkeypress=handleKeyPress.bind(this)},Cards.prototype.focusToFirstInput=function(e){if(e){var t=this.layoutParams,i=t.browserName,r=t.forTemplate;if((!this.layoutParams.isEmbed||this.layoutParams.currentCardIndex>0)&&"single"===this.layoutParams.cardMode&&!r&&"products"!==e.type){var n=e.question&&"control_textarea"===e.question.type,o=n&&e.markdownEditor?"#"+e.question.qid+"_editor":'input,textarea,select[class*="jfInput"]',a=e.cardContainer.querySelector(o);setTimeout(function(){a&&a.focus(),n&&e.markdownEditor&&["Safari","Firefox"].indexOf(i)>-1&&e.markdownEditor.saveSelection()},500)}}},Cards.prototype.onEnableDisableField=function(e,t){var i=this;this.cards.filter(function(t){return t.question.id===e}).forEach(function(e){var r=e;r.isDisabled=!t;var n=r.cardContainer,o=n.querySelector(".jfCard-question");if("matrix"===n.querySelector(".jfQuestion-fields").getAttribute("data-component")){n.querySelectorAll(".jfMatrixTable-row").forEach(function(e){e.style.pointerEvents=t?"inherit":"none"});var s=n.querySelectorAll(".jfMatrixProgress-text")[0];s&&s.style.display&&"none"===s.style.display&&s.style.removeProperty("display");var l=n.querySelectorAll(".jfMatrixProgress-button.forMatrixPrev.js-mobilMatrixPrevButton.noTranslate.conditionallyDisabled")[0];l&&l.disable&&(l.disabled=!1);var d=n.querySelectorAll(".jfMatrixProgress-button.forMatrixNext.js-mobileMatrixNextButton.noTranslate.conditionallyDisabled")[0];d&&d.disabled&&(d.disabled=!1)}else o.style.pointerEvents=t?"inherit":"none";var c=["control_textarea","control_matrix"],u=n.querySelectorAll(".jfMatrix.forMobile.forClassic")[0],h=u&&u.matches(".jfMatrix.forMobile.forClassic.hidden-matrix");c.indexOf(r.question.type)>-1&&h&&setTimeout(function(){var e=t?o.removeEventListener:o.addEventListener;["click","mousedown","mouseup","mousemove","touchstart","touchend","touchmove","keydown","keyup","pointerup","pointerdown","pointermove"].forEach(function(t){e.call(o,t,i.eventBlocker,!0)})},500);var p=n.querySelector(".jfQuestion-fields, [data-wrapper-react=true]"),m=n.querySelector(".jfCard-actions");if(p&&m){if(t)return void(p.style.opacity=1);var f=m.querySelectorAll("button");(0,a.forEach)(f,function(e){(0,a.removeClass)(e,"conditionallyDisabled"),e.disabled=!1}),p.style.opacity=.5}})},Cards.prototype.eventBlocker=function(e){e.preventDefault(),e.stopPropagation()},Cards.prototype.renderReCaptcha=function(t){var i=this;window.onload=function(){if(e.grecaptcha)if("recaptcha_invisible"===t||"invisibleFromAdvancedSettings"===t){var r=document.querySelector("#recaptcha_invisible");r&&("invisibleFromAdvancedSettings"===t&&r.addClassName("u-hidden"),e.grecaptcha.render(r,{sitekey:"6LcG3CgUAAAAAGOEEqiYhmrAm6mt3BDRhTrxWCKb",size:"invisible",badge:"inline",callback:i.recaptchaCallback}))}else if("recaptcha_visible"===t&&document.querySelector("#recaptcha_visible")){e.grecaptcha.render("recaptcha_visible",{sitekey:"6LdU3CgUAAAAAB0nnFM3M3T0sy707slYYU51RroJ",size:i.layoutParams.currentCardSize<385?"compact":"normal"});var n=document.querySelector(".g-recaptcha-response");n&&(n.addClassName("validate[required]"),e.JotForm.setFieldValidation(n))}else if("hcaptcha_visible"===t&&document.querySelector("#hcaptcha_visible")){e.grecaptcha.render("hcaptcha_visible",{sitekey:"772f4a50-7161-425e-8cd5-4d7e361ab765",size:i.layoutParams.currentCardSize<385?"compact":"normal"});var o=document.querySelector('[name="h-captcha-response"]');o&&(o.addClassName("validate[required]"),e.JotForm.setFieldValidation(o))}}},Cards.prototype.recaptchaCallback=function(){e.captchaFilled=!0,this.submitFormWithJS(document.querySelector(".jotform-form"))},Cards.prototype.hcaptchaCallback=function(){e.captchaFilled=!0,this.submitFormWithJS(document.querySelector(".jotform-form"))},Cards.prototype.submitFormWithJS=function(t){("mobile"!==this.layoutParams.deviceType||"mobile"===this.layoutParams.deviceType&&e.JotForm.validateAll())&&e.JotForm.disableButtons();var i=t.ownerDocument.createElement("input");i.style.display="none",i.type="submit",t.appendChild(i).click(),t.removeChild(i)},Cards.prototype.onCreditCardAddressVisibilityChanged=function(e){var t=this.cards.filter(function(e){return e.type===L.default.paymentCards.creditCard||e.type===L.default.paymentCards.address});t&&t.length&&(t.forEach(function(t){var i=t;i.forceHide=!e,i.wrapperContainer.style.display=e?"block":"none"}),this.setCardVisibility(t,e))},Cards.prototype.setCardActionMode=function(e,t){var i=e;i.actionsButtons.mode=t,i.actionsButtons.prev.style.display="last"===t||"middle"===t?"block":"none",i.actionsButtons.next.style.display="first"===t||"middle"===t?"block":"none",i.actionsButtons.submit.style.display="last"===t||"submit"===t?"block":"none","block"===i.actionsButtons.submit.style.display?((0,a.addClass)(i.actionsButtons.submit,"form-submit-button"),i.actionsButtons.submit.oldText=i.actionsButtons.submit.innerHTML):(0,a.removeClass)(i.actionsButtons.submit,"form-submit-button")},Cards.prototype.repositionActionButtons=function(){var e=this,t=this.getFirstVisibleIndex();if(-1!==t){for(var i=0,r=this.cards.length-1;r>=0;r--)if(!this.cards[r].isHidden){i=r;break}if(this.setMobilePrevNextQuestionButtons(this.layoutParams.currentCardIndex),t===i)return this.setCardActionMode(this.cards[t],"submit");this.setCardActionMode(this.cards[t],"first"),this.setCardActionMode(this.cards[i],"last"),this.cards.slice(t+1,i).forEach(function(t){e.setCardActionMode(t,"middle")})}},Cards.prototype.shortenHeaders=function(){if("form"===this.layoutParams.formMode){var e=this.layoutElements.welcomeWrapper.querySelector("#header_welcomePage"),t=this.layoutElements.welcomeWrapper.querySelector("#subHeader_welcomePage");this.shortenElementContent(e,150),this.shortenElementContent(t,150)}},Cards.prototype.hideHeader=function(){this.layoutElements.welcomeWrapper.style.opacity=0,this.layoutElements.welcomeWrapper.style.display="none"},Cards.prototype.showHeader=function(){this.layoutElements.welcomeWrapper.style.opacity=1,this.layoutElements.welcomeWrapper.style.display="block"},Cards.prototype.shortenElementContent=function(e,t){var i=e.textContent;i.length>t&&(e.setAttribute("title",i),e.textContent=i.slice(0,t)+"...")},Cards.prototype.onCalendarSelected=function(e,t){var i=this.cards.find(function(t){return t.cardContainer===e});this.datetimeHandler.onCalendarSelected(i,t)},Cards.prototype.onCalendarInit=function(e,t){var i=t.split("-").slice(2).join("-");if(i.indexOf("-")>-1){var r=document.getElementById("lite_mode_"+i).closest(".jfCard"),n=this.cards.find(function(e){return e.cardContainer===r});this.datetimeHandler.onCalendarInit(n,e)}else{var o=this.cards.find(function(e){return e.question.id===i});this.datetimeHandler.onCalendarInit(o,e)}},Cards.prototype.initBackgroundImageLoader=function(){var t=this,i=window.getComputedStyle(document.querySelector(".jfForm-backgroundContainer")||document.querySelector(".jfForm-wrapper")),r=i?i.getPropertyValue("background-image"):void 0,n=function(){var e=!1;return function(){if(!e){(0,a.removeClass)(document.body,"notLoaded");if((0,a.hasClass)(document.body,"isSmartEmbed")&&t.cards.length){var i=t.getFirstVisibleIndex();t.setCardIndex(i,!1,!0)}e=!0,"welcome"===t.layoutParams.formMode&&t.calculateWelcomeSize()}}}();if(r&&r.indexOf("url(")>-1){var o=r.split('"')[1],s=new e.Image(0,0);if(window&&"?newForms=1"===window.location.search){document.querySelector(".jfForm-backgroundUnderlay")&&(0,a.addClass)(document.body,"backgroundImageReady")}else{setTimeout(function(){n()},5e3);var l=setInterval(function(){if(s.complete){document.querySelector(".jfForm-backgroundUnderlay")&&setTimeout(function(){(0,a.addClass)(document.body,"backgroundImageReady")},125),n(),clearInterval(l)}},500)}s.src=o}else n()},Cards.prototype.bindChangeEventForPressEnter=function(){},Cards.prototype.bindChangeEventForNextButtons=function(){var e=this,t=function(t){var i=(0,a.closest)(t.target,".form-line","body");if(i&&"control_address"!==i.getAttribute("data-type")){var r=e.cards.find(function(e){return e.formLine===i});if(e.validateCard(r,!1,!0)){var n=(0,a.closest)(t.target,".jfCard","body"),o=n.querySelector(".forNext");(0,a.hasClass)(o,"animateNextButton")||(0,a.addClass)(o,"animateNextButton")}}};setTimeout(function(){document.body.addEventListener("change",t),document.body.addEventListener("input",t)},100)},Cards.prototype.getInputNamesAndValues=function(){var e=document.forms[0].serialize().split("&").map(function(e){return{name:decodeURIComponent(e.split("=")[0]),value:decodeURIComponent(e.split("=")[1])}});return this.cards.forEach(function(t){var i=-1!==["control_radio","control_checkbox","control_imagechoice"].indexOf(t.question.type),r=-1!==["control_textarea"].indexOf(t.question.type);if(i){var n=t.cardContainer.querySelectorAll("input"),o=!0;(0,a.forEach)(n,function(t){if(t.checked&&(o=!1),o&&t.hasAttribute("data-otherhint")){e.find(function(e){return e.name===t.name}).empty=!0}}),o&&e.push({name:n[0].name,value:"",empty:!0})}if(r){var s=t.cardContainer.querySelectorAll("textarea");(0,a.forEach)(s,function(i){var r=t.markdownEditor?"#"+t.question.qid+"_editor":'*[class*="jfInput-textarea"]',n=t.cardContainer.querySelector(r);if(n){var o=null!=t.markdownEditor?n.innerHTML:n.value;e.push({name:i.name,value:o,empty:!0})}})}}),e},Cards.prototype.getFormData=function(){var t=this,i=e.FormTranslation,r=function(t){if(t){var r=e.JotForm.decodeHtmlEntities(t).strip();return i.translate(r)}return null},n=this.getInputNamesAndValues(),o=n.reduce(function(e,n){var o=n.name,s=n.value,l=n.empty;if(o.indexOf("_")>-1&&0===o.split("_")[0].indexOf("q")){var d=document.forms[0][o];if(d.tagName||(0,a.forEach)(d,function(e){e.value===s&&(d=e)}),d.tagName||(d=d[0]),d.id.indexOf("addr_search")>-1)return e;var c=t.cards.find(function(e){return e.cardContainer===(0,a.closest)(d,".jfCard","body")}),u=e.find(function(e){return e.card===c});c&&i&&"to"in i&&(c.label=r(c.label)),u?u.elements.push(d):e.push({card:c,elements:[d],empty:l})}return e},[]).map(function(e){if(e.card){var t=null,i=e.empty?[]:e.elements.map(function(e){return t="select-multiple"===e.type?Array.from(e.querySelectorAll("option[selected]")).map(function(e){return e.value}).join(", "):null,{element:e,name:e.name,value:t||e.value}});return{card:e.card,label:e.card?e.card.label:"",valid:!(!e.card||!e.card.validate)&&e.card.validate(),inputs:i}}}).filter(function(e){return void 0!==e});return o.forEach(function(e){e.customDraw=t.getCardReviewCustomDraw(e.card,e.inputs)}),o.filter(function(e){return!e.card.isHidden})},Cards.prototype.getCardReviewCustomDraw=function(t,i){var r=this;if(t.type===L.default.paymentCards.products){var n=document.createElement("div"),o=document.createElement("div"),s=t.cardContainer;if((0,a.forEach)(s.querySelectorAll(".product"),function(t){var i=Array.from(t.childNodes).find(function(e){return"INPUT"===e.tagName});if(i&&i.checked){var r=t.querySelector(".product__title"),s=[].reduce.call(r.childNodes,function(e,t){return e+(3===t.nodeType?t.textContent:"")},""),l=r.querySelector(".jfField-product-description"),d=document.createElement("span");d.appendChild(e.document.createTextNode(s+(l&&l.textContent.length>0?", "+l.textContent:"")+", ")),o.appendChild(d);var c=t.querySelectorAll(".jfProductOption");(0,a.forEach)(c,function(t,i){var r=t.getAttribute("data-name");if(r){var n=r,a=t.querySelector("select, input").value,s=document.createElement("span");s.appendChild(e.document.createTextNode(n+": "+a+(i<c.length-1?",":"")+" ")),o.appendChild(s)}});var u=t.querySelector(".jfSubProductTable");if(u){var h=u.cloneNode(!0);(0,a.forEach)(h.querySelectorAll("select, input"),function(t){if("SELECT"!==t.tagName&&("hidden"===t.type||"none"===t.style.display))return void t.parentNode.removeChild(t);var i=t.value;if(i&&"0"!==i){var r=(0,a.closest)(t,"td");(0,a.map)(r.childNodes,function(e){return e}).forEach(function(e){r.removeChild(e)}),r.appendChild(e.document.createTextNode(i))}else{var n=(0,a.closest)(t,"tr");n.parentNode.removeChild(n)}}),o.appendChild(h)}n.appendChild(o)}}),s.querySelector(".donation-wrapper")){var l=t.cardContainer.querySelector(".js-donationCurrency"),d=i&&i[0]&&i[0].value?i[0].value:"";n.appendChild(e.document.createTextNode(d+" "+(l&&l.textContent?l.textContent:"")))}else{var c=t.cardContainer.querySelector(".currency__left"),u=e.document.getElementById("payment_footer_total"),h=t.cardContainer.querySelector(".currency__right"),p=c&&c.textContent?c.textContent:"",m=h&&h.textContent?h.textContent:"",f=u&&u.textContent?u.textContent:"",y=document.createElement("span");y.appendChild(e.document.createTextNode("Total: "+p+f+m)),n.appendChild(y)}return n}if(t.type===L.default.paymentCards.creditCard){var v=document.createElement("span");return i.map(function(e){var t=e.value;return e.value?(0,a.hasClass)(e.element,"cc_number")?"************"+t.substring(t.length-4):t:null}).filter(function(e){return e}).forEach(function(t,r){var n=document.createElement("span"),o=t+(r<i.length-1?", ":"");n.appendChild(e.document.createTextNode(o)),v.appendChild(n)}),v}if("control_imagechoice"===t.question.type){if(i&&i.length){var g=document.createElement("div");return i.forEach(function(t,r){var n=t.element.parentElement.querySelector("[class*=-labelText]").innerHTML;if(n){var o=document.createElement("span");o.appendChild(e.document.createTextNode(n+(r<i.length-1?", ":""))),g.appendChild(o)}}),g}}else if("control_widget"===t.question.type&&i){var b=i[0];if(b){var C=document.createElement("div");try{var S=JSON.parse(b.value);S.widget_metadata.value.forEach(function(t,i){if(t&&t.name){var r=document.createElement("span");r.appendChild(e.document.createTextNode(t.name+(i<S.widget_metadata.value.length-1?", ":""))),C.appendChild(r)}})}catch(t){var E=document.createElement("span");E.appendChild(e.document.createTextNode(b.value)),C.appendChild(E)}return C}}else{if("control_signature"===t.question.type){var w=document.createElement("div"),P=new e.Image;return P.src=i[0].value,w.appendChild(P),w}if("control_matrix"===t.question.type&&i){var F=document.querySelector("#matrix_"+t.question.id),k=F.getAttribute("data-type");if("Radio Button"===k){var I=e.FormTranslation,A=document.createElement("div");return i.forEach(function(t,n){var o=I&&I.translate?I.translate(t.value):t.value,s="";if("mobile"===r.layoutParams.deviceType){var l=(0,a.closest)(t.element,".jfMatrix-choiceWrapper"),d=l.getAttribute("data-order"),c=(0,a.closest)(t.element,".jfMatrix").querySelectorAll(".jfMobileMatrix-question"),u=(0,a.map)(c,function(e){return e}).filter(function(e){return e.getAttribute("data-order")===d});s=u&&u[0]?u[0].textContent:""}else{s=(0,a.closest)(t.element,".jfMatrixTable-row").querySelectorAll(".jfMatrixTable-cell")[0].querySelector(".form-matrix-row-headers").querySelector("label").innerHTML}A.appendChild(e.document.createTextNode(s+": "+o)),n<i.length-1&&A.appendChild(document.createElement("br"))}),A}}else{if("control_datetime"===t.question.type)return this.createDatetimeReviewString(i);if("control_textarea"===t.question.type&&t.markdownEditor&&t.markdownEditor.editorContainer){var x=e.document.createElement("span"),M=t.markdownEditor.editorContainer.childNodes;return(0,a.forEach)(M,function(e){var t=e.cloneNode(!0);x.appendChild(t)}),x}if("control_time"===t.question.type){var _=i.find(function(e){return e.name.indexOf("ampm")>-1}),T=document.createElement("div");return i.forEach(function(t,r){if(t&&t.value){var n=document.createElement("span"),o="";r<i.length-1&&(void 0!==_?(o=t.name.indexOf("[ampm]")>-1?", ":":",i[r+1]&&i[r+1].name.indexOf("ampm")>-1&&(o=" ")):o=i[r+1]&&i[r+1].name.indexOf("hourSelectRange")>-1?", ":":",i[r+1]&&i[r+1].name.indexOf("timeRangeDuration")>-1&&(o=" :")),n.appendChild(e.document.createTextNode(""+t.value+o)),T.appendChild(n)}}),T}if("control_mixed"===t.question.type){var q=document.createElement("div"),B=document.createElement("span"),j=i.filter(function(e){return e&&e.value&&""!==e.value});return j.forEach(function(t,i){B.appendChild(e.document.createTextNode(t.value+(i<j.length-1?", ":"")+" ")),q.appendChild(B)}),q}if("control_inline"===t.question.type){var O={};return i.forEach(function(t,i){if(0===t.value.indexOf("data:image/png;base64")){var r=document.createElement("span"),n=new e.Image;n.src=t.value,r.appendChild(n),O[i]=r}}),O}}}},Cards.prototype.createDatetimeReviewString=function(t){var i={year:"",month:"",day:"",hour:"",min:"",ampm:"",datetimeString:""},r={year:!1,month:!1,day:!1};Object.keys(i).forEach(function(e){var n=t.findIndex(function(t){return t.name.indexOf("["+e+"]")>-1});e in r&&(r[e]=n),i[e]=-1!==n?t[n].value:""});var n=new Date;if(i.year&&i.month&&i.day){n=new Date(i.year,i.month-1,i.day);var o=n.toLocaleDateString(void 0,{year:"numeric",month:"2-digit",day:"2-digit"}),a=function(e){if(!e)return"/";for(var t=0;t<e.length;t++)if(!/^[0-9a-zA-Z\s]+$/.test(e[t]))return e[t];return"/"}(o),s=Object.keys(r).sort(function(e,t){return r[e]-r[t]});i.datetimeString=s.reduce(function(e,t){return""+e+a+i[t]},"").substr(1)||o}i.hour&&i.min&&("AM"===i.ampm?"12"===i.hour&&(i.hour="0"):"PM"===i.ampm&&"12"!==i.hour&&(i.hour=parseInt(i.hour,10)+12),n.setHours(i.hour),n.setMinutes(i.min),i.datetimeString=i.datetimeString+" "+n.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}));var l=e.document.createTextNode(i.datetimeString);return document.createElement("span").appendChild(l)},Cards.prototype.adjustAppointmentDate=function(e){var t=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r=e[2].split(" ")[1],n=e[1]||0,o=r.split("GMT")[1].split(":"),a=Number(o[0])||0,s=60*Math.abs(a)+(o[1]?Number(o[1].split(")")[0])||0:0);s=a<0?-1*s:s;var l=e[0].replaceAll("-","/"),d=new Date(l);d.setTime(d.getTime()+6e4*(300+s));var c=new Date;return c.setTime(d.getTime()+6e4*Number(n)),i[d.getDay()].locale()+", "+t[d.getMonth()].locale().substring(0,3)+" "+this.padStart2(d.getDate())+", "+d.getFullYear()+" "+this.padStart2(d.getHours())+":"+this.padStart2(d.getMinutes())+" - "+this.padStart2(c.getHours())+":"+this.padStart2(c.getMinutes())+", "+e[2]},Cards.prototype.padStart2=function(e){return String(e).padStart(2,"0")},Cards.prototype.prepareReviewMarkup=function(t){var i=this,r=e.document.querySelector("#reviewBeforeSubmit .js-reviewItemTemplate"),n=e.FormTranslation,o=t.map(function(t){var o=r.cloneNode(!0);o.style.display="block";var s=i.cards.filter(function(e){return!e.isHidden}).indexOf(t.card)+1,l=o.querySelector(".js-reviewItemTitle"),d=o.querySelector(".js-reviewItemIndex"),c=o.querySelector(".js-reviewItemAnswer");if(o.querySelector(".js-reviewItemEditLink").addEventListener("click",function(){i.showFormPreview(!1,i.cards.indexOf(t.card))}),!t.valid){var u=o.querySelector(".jfReviewItem-header");(0,a.addClass)(u,"hasError")}var h=t.label?t.label.match(/([^{]*?)\w(?=\})/gim):null;if(h){var p=t.label;h.forEach(function(e){for(var t=void 0,r=0;r<i.cards.length;r++){if(t=i.cards[r].cardContainer.querySelector('span[class*="_'+e+'"]'))break}if(t&&""!==t.innerHTML){var n=new RegExp("{"+e+"}","g");p=p.replace(n,t.innerHTML)}}),l.appendChild(e.document.createTextNode(p))}else l.appendChild(e.document.createTextNode(t.label));if(d.appendChild(e.document.createTextNode(s)),t.customDraw)if("control_imagechoice"===t.card.question.type){var m=document.createElement("div");m.className="imageChoiceContainer";var f=t.inputs.map(function(e){return e.value.split("|")});f.forEach(function(e,t){var i=document.createElement("div");i.className="imageChoiceContent";var r=document.createElement("div"),n=document.createElement("img");n.src=e[1].length>0?e[1]:"data:,",n.alt=e[1].length>0?e[1]:"data:,",r.textContent=e[0]+(0===e[0].length||t===f.length-1?" ":", "),i.appendChild(n),i.appendChild(r),m.appendChild(i),c.appendChild(m)})}else if("control_widget"===t.card.question.type)if(t.card.cardContainer.querySelectorAll('[data-widget-id="529c8286a75dae5e7f000005"]').length>0&&t.inputs[0].value.length>0){var y=document.createElement("div");y.className="imageChoiceContainer";var v=t.inputs[0].value,g=document.createElement("div");g.className="imageChoiceContent";var b=document.createElement("img");b.src=v,b.alt=v,g.appendChild(b),y.appendChild(g),c.appendChild(y)}else c.appendChild(t.customDraw);else if("control_inline"===t.card.question.type){var C=t.inputs.map(function(e){return e.value});C.forEach(function(i,r){if(t.customDraw[r])c.appendChild(t.customDraw[r]);else if(""!==i){var n=document.createElement("span"),o=i+(r<C.length-1?", ":"");n.appendChild(e.document.createTextNode(o)),c.appendChild(n)}})}else c.appendChild(t.customDraw);else{var S=t.inputs.map(function(e){return e.value});"control_appointment"===t.card.question.type&&S[0]&&S[2]&&(S=[i.adjustAppointmentDate(S)]);var E=S.filter(function(e,t){return e&&S.indexOf(e)===t});E.forEach(function(i,r){var o=document.createElement("span"),a=i,s=["control_dropdown","control_yesno","control_radio","control_checkbox","control_matrix"];n&&n.translate&&s.include(t.card.question.type)&&(a=n.translate(i));var l=void 0;l="control_fullname"===t.card.question.type?a+(r<E.length-1?" ":""):a+(r<E.length-1?", ":""),o.appendChild(e.document.createTextNode(l)),c.appendChild(o)})}return o}),s=e.document.createElement("div");return s.className="js-reviewItemsContainer",o.sort(function(e,t){var i=e.querySelector(".js-reviewItemIndex").textContent/1,r=t.querySelector(".js-reviewItemIndex").textContent/1;return i>r?1:i<r?-1:0}),o.forEach(function(e){s.appendChild(e)}),s},Cards.prototype.showFormPreview=function(t,i){var r=this,n=e.document.getElementById("reviewBeforeSubmit"),o=n.querySelector(".js-reviewItemList");if(t){var a=n.querySelector(".js-reviewItemsContainer");a&&a.parentNode.removeChild(a);var s=this.prepareReviewMarkup(this.getFormData());o.appendChild(s),this.setFormMode("review")}else setTimeout(function(){"number"==typeof i&&r.setCardIndex(i,!0),r.setFormMode("form",!1,!0)},0)},Cards.prototype.replaceSubmitWithReviewAndSubmit=function(){var t=this,i=this.cards[0].actionsButtons.submit.cloneNode(!0),r=this.cards[0].actionsButtons.submit.cloneNode(!0),n=this.layoutElements,o=n.mobileSubmitButton,s=n.mobileNavigationWrapper,l=o.cloneNode(!0);r.style.display="none",r.style.position="absolute",document.forms[0].appendChild(r),i.removeAttribute("style"),(0,a.addClass)(i,"form-submit-button");var d=this.layoutParams.reviewBeforeSubmit,c=d.reviewText,u=d.backText,h=function(e){e.textContent=c,e.type="button",(0,a.removeClass)(e,"form-submit-button"),(0,a.removeClass)(e,"forSubmit"),(0,a.removeClass)(e,"jsMobileSubmit"),(0,a.addClass)(e,"forReviewButton"),(0,a.addClass)(e,"forReview")};this.cards.forEach(function(e){h(e.actionsButtons.submit)}),h(this.layoutElements.mobileSubmitButton);var p=[i,l];(0,a.forEach)(p,function(e){return e.addEventListener("click",function(){r.click()})});var m=e.document.querySelector("#reviewBeforeSubmit .forReviewButton"),f=e.document.querySelectorAll("#reviewBeforeSubmit .forBackToForm, .jsMobileNavigation .forBackToForm");(0,a.forEach)(f,function(e){e&&(e.textContent=u,e.addEventListener("click",function(){t.showFormPreview(!1)}))}),m.parentNode.replaceChild(i,m),e.document.addEventListener("click",function(i){if((0,a.closest)(i.target,".forReviewButton")&&e.JotForm.validateAll())if(e.JotForm.disableSubmitButton)e.JotForm.toggleDisableSubmitMessage();else{var r=t.layoutParams,n=r.currentCardIndex,o=r.cardMode;if(n>-1)if("scroll"===o||t.validateCard(t.cards[n])){t.showFormPreview(!0);var d=s&&s.querySelector(".form-submit-button");d||s.appendChild(l)}else t.shakeCard(n),t.focusToFirstError(n)}})},Cards.prototype.calculateAvailableHeightForFields=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.cards&&this.cards[0]){var t=(0,a.hasClass)(document.body,"isSmartEmbed"),i=document.getElementById("header_welcomePage").getBoundingClientRect(),r=document.getElementById("subHeader_welcomePage")?document.getElementById("subHeader_welcomePage").getBoundingClientRect():{height:0},n=r.height>2.9*i.height?3.9*i.height:i.height+r.height,o=document.getElementById("cardProgress").getBoundingClientRect(),s=document.querySelector(".formFooter")?document.querySelector(".formFooter").getBoundingClientRect().height:0,l=window.innerHeight,d=.05*l,c="mobile"===this.layoutParams.deviceType?80:54,u="mobile"===this.layoutParams.resolutionType?c+s:o.height+s;u=0===u?d:u,"form"===this.layoutParams.formMode&&(document.querySelector(".jfForm-wrapper").style.paddingBottom=t?0:u,document.querySelector(".jfForm-wrapper").style.paddingTop=t?0:d+n+("mobile"===this.layoutParams.deviceType?-15:0)),"mobile"===this.layoutParams.deviceType&&this.cards.forEach(function(e){if(e.label){for(var t=e.cardContainer.querySelector(".jfQuestion-label"),i=[0,100,200,300,400],r=["p1","p2","p3","p4","p5"],n=0;e.label.length>=i[n];)n++;n=0===n?0:n-1,t&&(0,a.addClass)(t,""+r[n])}}),this.calculateCardsHeight(e),this.handleFullScreenToggle()}},Cards.prototype.onFileUploadChanged=function(e){var t=this.cards.find(function(t){return t.question.id===e});if(t){var i=t.cardContainer.querySelectorAll(".qq-upload-list li");t.isFilled=i.length>0}},Cards.prototype.fillInitialValuesForEditMode=function(e){if("control_datetime"===e.question.type){var t=e.question.id,i=e.cardContainer.querySelector("#day_"+t),r=e.cardContainer.querySelector("#month_"+t),n=e.cardContainer.querySelector("#year_"+t);if(i.value&&r.value&&n.value){e.cardContainer.querySelector(".jfCardDateInput").value=n.value+"-"+r.value+"-"+i.value}}else if("control_rating"===e.question.type){var o=(0,a.map)(e.cardContainer.querySelectorAll(".jfRating-item.jfRating-selection"),function(e){return e}),s=o.findIndex(function(e){return!0===e.querySelector("input").checked});if(s>-1){for(var l=0;l<=s;l++)(0,a.addClass)(o[l],"checked");var d=document.querySelector('input[name="q'+e.question.id+'_stars"]');d.value=s+parseInt(d.dataset.lowest,10)}}},Cards.prototype.isVisibleIndex=function(e){var t=this.cards[e];return t&&!t.isHidden},Cards.prototype.getFirstVisibleIndex=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e?this.cards.findIndex(function(t){return!t.isHidden&&t.question.type===e}):this.cards.findIndex(function(e){return!e.isHidden})},Cards.prototype.getLastVisibleIndex=function(){for(var e=0,t=this.cards.length-1;t>=0;t--)if(!this.cards[t].isHidden){e=t;break}return e},Cards.prototype.getQuestionIdFromUrlHash=function(e){var t=e.match(/#([0-9]+)/);return!!t&&t[1]},Cards.prototype.onLocationHashChange=function(){var t=e.location.href||"",i=this.getQuestionIdFromUrlHash(t),r=i?parseInt(i,10)-1:0;if(r!==this.layoutParams.currentCardIndex){if(this.isVisibleIndex(r))return void this.setCardIndex(r);var n=this.getFirstVisibleIndex();this.setCardIndex(n)}},Cards.prototype.setDropdownInitialValues=function(){this.dropdown.setInitialValues()},Cards.prototype.onFormTranslated=function(){(0,a.translateDefaultCardFormTexts)(),this.translateSectionHeader(),this.translateListOfQuestionsItems(),this.updateMatrixLayout()},Cards.prototype.translateListOfQuestionsItems=function(){var t=document.getElementsByClassName("jfProgress-itemWrapper")[0].children,i=0;Array.from(t).forEach(function(t){var r=t.querySelector(".jfProgress-itemLabel");if(r.innerText.replace(i+1+". ","")==="Question "+(i+1)){var n=e.FormTranslation,o=n.cardTexts,a=n.to;if(o&&a&&o[a]&&o[a]["{number} Question"]){var s=o[a]["{number} Question"];r.innerText=s.replace("{number}",i+1+".")}}i++})},Cards.prototype.translateSectionHeader=function(){var t=e.FormTranslation;if(t){var i=this.currentHeader,r=function(i){if(i){var r=e.JotForm.decodeHtmlEntities(i).strip();return t.translate(r)}return null},n=this.layoutElements,o=n.welcomeHeaderContainer,a=n.welcomeSubHeaderContainer,s=n.welcomeSectionInfoText,l=n.welcomeSectionInfoQuestionCount,d=r(i.props.text.value);d&&(o.innerHTML=d);var c=r(i.props.subHeader.value);if(c&&(a.innerHTML=c),i.props.showQuestionCount&&"Yes"===i.props.showQuestionCount.value){var u=s.innerHTML,h=t.cardTexts,p=t.to;if(h&&p&&h[p]&&u){var m="{number} Question";parseInt(l.innerHTML,10)>1&&(m="{number} Questions"),h[p][m]?(u=h[p][m],s.innerHTML=u.replace(/{number}\s?/,"")):s.innerHTML=h[p][u]?h[p][u]:u}}var f="Next";i===this.welcomePageProps&&i.props.buttonText&&i.props.buttonText.value?f=i.props.buttonText.value:i.props.nextButtonText&&i.props.nextButtonText.value&&(f=i.props.nextButtonText.value);var y=i.props.previousButtonText&&i.props.previousButtonText.value?i.props.previousButtonText.value:"Previous",v=r(f);v&&(this.layoutElements.startButton.innerHTML=v);var g=r(y);g&&(this.layoutElements.previousButton.innerHTML=g)}},Cards.prototype.setInitialSelectionForMatrixSliders=function(e){var t=this.cards.find(function(t){return t.question.id==e}).question;!!(t&&t.componentClass&&t.componentClass.sliders&&t.componentClass.sliders.length>0)&&t.componentClass.sliders.forEach(function(e){e.slider.makeInitialSelection()})},Cards.prototype.updateMatrixLayout=function(){this.layoutParams.questions.forEach(function(t){"control_matrix"===t.type&&e.JotForm.setMatrixLayout(t.id)})},Cards.prototype.clearAddressFields=function(){var t=e.document.getElementsByClassName("jfAddress-clean");(0,a.forEach)(t,function(e){return(0,a.removeClass)(e,"jfAddress-clean")})},Cards.prototype.calculateWelcomeSize=function(){var t=document.querySelector(".jfWelcome-wrapper"),i=document.querySelector(".jfForm-background-mask"),r=t.cloneNode(!0);r.style.height="auto",r.style.visibility="hidden",-1!==e.location.href.indexOf("nofs=1")&&(r.style.position="absolute",r.style.visibility="visible"),t.parentElement.appendChild(r),i.style.width=r.getBoundingClientRect().width,i.style.height=r.getBoundingClientRect().height,t.parentElement.removeChild(r)},Cards.prototype.calculateCardsHeight=function(t){var i=e.location.href.indexOf("forceCardHeightCalc=true")>=0;(i||"mobile"!==this.layoutParams.deviceType)&&(!i&&this.isFeedbackEmbedButton||(null===t?this.cards.forEach(this.calculateCardHeight):this.calculateCardHeight(this.cards[t])))},Cards.prototype.calculateCardHeight=function(e){var t=e,i=this.layoutElements.formWrapper.clientHeight,r=function(e){return parseInt(window.getComputedStyle(e).fontSize.replace("px",""),10)},n=function(e){var t=e;t.style.fontSize=r(t)-2+"px"},o=function(e){return e.questionContainer.scrollHeight>e.questionContainer.clientHeight},a=function(e){var t=parseInt(window.getComputedStyle(e).lineHeight.replace("px",""),10);return e.clientHeight<=t},s=t.cardContainer.querySelector(".jfQuestion-label"),l=null!==t.actionButtonsWrapper&&t.actionButtonsWrapper.getBoundingClientRect().height,d=t.cardContainer.querySelector(".form-button-error");if("scroll"===this.layoutParams.cardMode&&(l/=this.layoutParams.cardScrollScale),t.hasSubmit&&d&&(i-=d.getBoundingClientRect().height),t.cardContainer.style.maxHeight=i+"px",t.questionContainer.style.maxHeight=i-l+"px",t.questionContainer.style.overflowY="auto",window&&!0===window.formUserHeader&&(t.questionContainer.style.maxHeight=i-l-140+"px"),s&&function(e){var t=e;t.style.maxHeight="unset",t.style.overflowY="unset"}(s),o(t)){var c=t.cardContainer.querySelector(".jfQuestion-description");if(s||c){var u=0,h=0;s&&(u=r(s)),c&&(h=r(c));for(var p=0;o(t)&&(!a(s)&&u>this.minLabelFontSize||h>this.minDescFontSize)&&(s&&u>this.minLabelFontSize&&(a(s)||n(s),u=r(s)),c&&h>this.minDescFontSize&&(n(c),h=r(c)),!(++p>10)););}}},Cards.prototype.setLanguageDropdownVisibility=function(e,t){var i=document.querySelector("#langDd");i&&(t>e?i.classList.add("firstPageOnly"):i.classList.remove("firstPageOnly"))},Cards.prototype.handleWidgetsVisibility=function(t){var i=t.question,r=i.id;"control_widget"===i.type&&e.JotForm.showWidget(r)},Cards.prototype.checkConditionOnCurrentCard=function(){var t=this.getCurrentCard(),i=t&&t.question&&t.question.id;e.JotForm.conditions.forEach(function(t){var r=!0;i&&(r=Array.isArray(t.terms)&&t.terms.some(function(e){return e.field&&e.field.indexOf("|")>-1?e.field.split("|")[0]===i.toString():e.field===i.toString()})),!t.disabled&&r&&e.JotForm.checkCondition(t)})},Cards.prototype.onSCLStateChange=function(e){var t=document.querySelector(".jf-saclState");if(console.log("triggering on scl state change"),t){var i=void 0,r=void 0;switch(e){case this.saveAndContinueLater.states.default:i=V.defaultIcon,r="Save & Continue Later";break;case this.saveAndContinueLater.states.saved:i=V.savedIcon,r="Answers saved";break;case this.saveAndContinueLater.states.error:i=V.errorIcon,r="Answers not saved";break;default:i=V.defaultIcon,r="Save & Continue Later",console.info("No such state implemented:",e)}t.innerHTML='<span class="sacl-state-icon">'+i+'</span><span class="sacl-state-text js-sacl-state-text">'+r+"</span>"}},Cards.prototype.asyncInitSaveAndContinueLaterFlow=function(e){var t=e({formID:this.formID,triggerButtonSelector:".jfProgress-sacl",onStateChange:this.onSCLStateChange,hiddenSubmit:this.hiddenSubmit,localConfiguration:this.continueLater});t&&this.saveAndContinueLater&&(this.saveAndContinueLater.removeEvents(),this.saveAndContinueLater=t)},Cards.prototype.initSaveAndContinueLater=function(){this.saveAndContinueLater=new W.default(this.continueLater,this.hiddenSubmit,this.findEmailAnswer,this.formID,this.apiURL)},o(Cards,[{key:"visibleCards",get:function(){var e=this;return this.cards.filter(function(t,i){return!!e.isVisibleIndex(i)&&t})}},{key:"isFeedbackEmbedButton",get:function(){return-1!==window.location.href.indexOf("?feedbackEmbedButton")}},{key:"isContinueLaterActivated",get:function(){return!!this.hiddenSubmissionSessionID&&!this.isEditMode()}},{key:"hiddenSubmissionSessionID",get:function(){return e.JotForm.sessionID||(e.JotForm.sessionID=document.get.session),e.JotForm.sessionID}},{key:"isPreviewMode",get:function(){return e.location&&e.location.href.indexOf("preview=true")>=0}},{key:"isManualPrefillCreation",get:function(){return-1!==window.location.href.indexOf("jf_createPrefill=1")}},{key:"isFullscreenFormEnabled",get:function(){var e=this.layoutParams.fullscreenForm&&this.layoutParams.isEmbed,t="mobile"===this.layoutParams.deviceType,i=this.isFeedbackEmbedButton,r=this.isPreviewMode,n=this.isEditMode(),o=1===this.cards.length&&"form"===this.layoutParams.formMode,a=this.isManualPrefillCreation;return(t||i||r||n||o||a)&&(e=!1),e}}]),Cards}();t.default=U,e.CardLayout=U}).call(t,i(6))},5145:function(e,t,i){"use strict";(function(e){var t=0;void 0===e.Symbol&&(e.Symbol=function(e){return"__"+e+"_"+Math.floor(1e9*Math.random())+"_"+ ++t+"__"},e.Symbol.iterator=e.Symbol("Symbol.iterator")),function(e){"window"in e&&"document"in e&&function(){function FormData(e){if(this._data=[],e)for(var t=0;t<e.elements.length;++t){var i=e.elements[t];""!==i.name&&this.append(i.name,i.value)}}function newIterator(e,t){return{next:function(){return this._i>=this._data.length?{done:!0}:(++this._i,{done:!1,value:t(this._data[this._i-1])})},_i:0,_data:e}}if(!("FormData"in e&&"set"in e.FormData.prototype)){FormData.prototype={append:function(t,i,r){var n=String(t),o=i;"Blob"in e&&i instanceof e.Blob&&(o=new File(i,"blob")),r&&"File"in e&&i instanceof e.File&&(o=new File(o,r)),this._data.push([n,o])},toString:function(){return this._data.map(function(e){return encodeURIComponent(e[0])+"="+encodeURIComponent(e[1])}).join("&")}},FormData.prototype.set=function(t,i,r){for(var n=!1,o=0;o<this._data.length;++o)this._data[o][0]===t&&(n?(this._data.splice(o,1),--o):(this._data[o][1]=i,r&&"File"in e&&i instanceof e.File&&(this._data[o][1].name=r),n=!0));n||this.append(t,i,r)},FormData.prototype.get=function(e){for(var t=0;t<this._data.length;++t)if(this._data[t][0]===e)return this._data[t][1];return null},FormData.prototype.getAll=function(e){for(var t=[],i=0;i<this._data.length;++i)this._data[i][0]===e&&t.push(this._data[i][1]);return t},FormData.prototype.has=function(e){return null!==this.get(e)},FormData.prototype.delete=function(e){for(var t=0;t<this._data.length;++t)this._data[t][0]===e&&(this._data.splice(t,1),--t)},FormData.prototype.entries=function(){return newIterator(this._data,function(e){return[e[0],e[1]]})},FormData.prototype.keys=function(){return newIterator(this._data,function(e){return e[0]})},FormData.prototype.values=function(){return newIterator(this._data,function(e){return e[1]})},FormData.prototype[Symbol.iterator]=function(){return this._data[Symbol.iterator]()},e.FormData=FormData;var t=e.XMLHttpRequest.prototype.send;e.XMLHttpRequest.prototype.send=function(e){return e instanceof FormData&&(this.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),arguments[0]=e.toString()),t.apply(this,arguments)}}}()}(self)}).call(t,i(6))},5146:function(e,t,i){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=i(12),n=function(){function Progress(e){_classCallCheck(this,Progress),this.selectIndex=this.selectIndex.bind(this),this.setValidIndexes=this.setValidIndexes.bind(this),this.setInvalidIndexes=this.setInvalidIndexes.bind(this),this.setIndexVisibility=this.setIndexVisibility.bind(this),this.setCurrentIndexText=this.setCurrentIndexText.bind(this),this.getVisibleIndex=this.getVisibleIndex.bind(this),this.bindSwipeOverviewMode=this.bindSwipeOverviewMode.bind(this),this.populateProgressItems=this.populateProgressItems.bind(this),this.hideProgressBar=this.hideProgressBar.bind(this),this.showProgressBar=this.showProgressBar.bind(this),this.setFirstLastCellClasses=this.setFirstLastCellClasses.bind(this),this.setQuestionOrderNumbers=this.setQuestionOrderNumbers.bind(this),this.shouldProgressDisplayed=this.shouldProgressDisplayed.bind(this),this.init=this.init.bind(this),this.init(e)}return Progress.prototype.init=function(e){var t=this;this.layoutElements={progress:document.getElementById("cardProgress"),progressItems:null,progressToggle:document.getElementById("cardProgressToggle"),progressCurrentIndexText:document.getElementById("cardProgress-currentIndex"),progressQuestionCountText:document.getElementById("cardProgress-questionCount"),progressItemsLine:document.getElementsByClassName("jfProgress-itemWrapperLine")[0],progressItemWrapper:document.getElementsByClassName("jfProgress-itemWrapper")[0]},this.isFormProgressVisible=e.isFormProgressVisible,this.populateProgressItems(e.items),this.layoutElements.progressItems=this.layoutElements.progress.querySelectorAll(".jfProgress-item"),this.layoutElements.progressItemCells=this.layoutElements.progress.querySelectorAll(".jfProgress-itemCell"),this.cards=e.cards,this.layoutParams={items:e.items,selectedIndex:e.selectedIndex||0,hiddenIndexes:e.hiddenIndexes||[],validIndexes:e.validIndexes||[],invalidIndexes:e.invalidIndexes||[],deviceType:e.deviceType,isHidden:!1,isFeedbackEmbedButton:e.isFeedbackEmbedButton,isSaveAndContinueLaterActivated:e.isSaveAndContinueLaterActivated},this.layoutParams.hiddenIndexes.forEach(function(e,i){e&&(0,r.addClass)(t.layoutElements.progressItemCells[i],"isHidden")});var i=this.events={onFormOverviewClicked:e.onFormOverviewClicked,onItemSelected:e.onItemSelected},n=this.layoutElements,o=n.progressToggle,a=n.progressItems;o.addEventListener("click",function(){i.onFormOverviewClicked()}),this.bindSwipeOverviewMode(),(0,r.forEach)(a,function(e){!function(t){e.addEventListener("keydown",function(e){32!==e.keyCode&&13!==e.keyCode||e.target.click()}),e.addEventListener("click",function(){i.onItemSelected(t)})}(+e.getAttribute("data-index"))}),this.setCurrentIndexText(),this.setFirstLastCellClasses(),this.setQuestionOrderNumbers(),this.shouldProgressDisplayed()||this.hideProgressBar()},Progress.prototype.bindSwipeOverviewMode=function(){var e=this,t=null,i=null;document.addEventListener("touchstart",function(e){t=(0,r.closest)(e.target,"#cardProgressToggle")?e.touches[0].screenY:null}),document.addEventListener("touchmove",function(e){i=e.touches[0].screenY}),document.addEventListener("touchend",function(){if(null!==t&&null!==i){var n=(0,r.hasClass)(document.body,"onScrollMode"),o=i-t;o=n?o:0-o,o>=70&&e.events.onFormOverviewClicked()}t=null,i=null})},Progress.prototype.selectIndex=function(e){(0,r.removeClass)(this.layoutElements.progressItems[this.layoutParams.selectedIndex],"isActive"),this.layoutParams.selectedIndex=e,(0,r.addClass)(this.layoutElements.progressItems[this.layoutParams.selectedIndex],"isActive"),this.layoutElements.progressCurrentIndexText.innerText=this.getVisibleIndex(this.layoutParams.selectedIndex)+1+" "},Progress.prototype.setValidIndexes=function(e){this.layoutParams.validIndexes=e,(0,r.forEach)(this.layoutElements.progressItems,function(t,i){e.indexOf(i)>-1?((0,r.removeClass)(t,"hasError"),(0,r.addClass)(t,"isValid")):(0,r.removeClass)(t,"isValid")})},Progress.prototype.getVisibleIndex=function(e){var t=this;return e-this.layoutParams.items.slice(0,e).reduce(function(e,i,r){return t.layoutParams.hiddenIndexes[r]?e+1:e},0)},Progress.prototype.setCurrentIndexText=function(){var e=this,t=this.layoutParams.items.filter(function(t,i){return!e.layoutParams.hiddenIndexes[i]}).length;this.layoutElements.progressQuestionCountText.innerText=" "+t,this.layoutElements.progressCurrentIndexText.innerText=this.getVisibleIndex(this.layoutParams.selectedIndex)+1+" "},Progress.prototype.setValidIndex=function(e){var t=this.layoutElements.progressItems[e];(0,r.removeClass)(t,"hasError"),(0,r.addClass)(t,"isValid")},Progress.prototype.setInvalidIndexes=function(e){this.layoutParams.invalidIndexes=e,(0,r.forEach)(this.layoutElements.progressItems,function(t,i){e.indexOf(i)>-1?((0,r.removeClass)(t,"isValid"),(0,r.addClass)(t,"hasError")):(0,r.removeClass)(t,"hasError")})},Progress.prototype.setInvalidIndex=function(e){var t=this.layoutElements.progressItems[e];(0,r.removeClass)(t,"isValid"),(0,r.addClass)(t,"hasError")},Progress.prototype.setIndexVisibility=function(e,t){t?(0,r.removeClass)(this.layoutElements.progressItemCells[e],"isHidden"):(0,r.addClass)(this.layoutElements.progressItemCells[e],"isHidden"),this.layoutParams.hiddenIndexes[e]=!t,this.setCurrentIndexText(),this.setFirstLastCellClasses(),this.setQuestionOrderNumbers(),this.shouldProgressDisplayed()?this.showProgressBar():this.hideProgressBar()},Progress.prototype.unsetInvalidIndex=function(e){var t=this.layoutElements.progressItems[e];(0,r.removeClass)(t,"hasError")},Progress.prototype.unsetValidIndex=function(e){var t=this.layoutElements.progressItems[e];(0,r.removeClass)(t,"isValid")},Progress.prototype.populateProgressItems=function(e){var t=this.layoutElements.progress.querySelector(".jfProgress-itemCell"),i=e.map(function(e,i){var r=t.cloneNode(!0);return r.querySelector(".jfProgress-item").setAttribute("data-index",i),r.querySelector(".jfProgress-item").setAttribute("aria-label","jump to question "+(i+1)+": "+e.label),r.querySelector(".jfProgress-itemLabel").innerText=""+e.label,r}),r=t.parentNode;r.removeChild(t),i.forEach(function(e){r.appendChild(e)})},Progress.prototype.hideProgressBar=function(){this.layoutElements.isHidden||((0,r.addClass)(this.layoutElements.progress,"isHidden"),this.layoutElements.progress.setAttribute("aria-hidden","true"),this.layoutElements.isHidden=!0)},Progress.prototype.showProgressBar=function(){this.layoutElements.isHidden&&((0,r.removeClass)(this.layoutElements.progress,"isHidden"),this.layoutElements.progress.removeAttribute("aria-hidden"),this.layoutElements.isHidden=!1)},Progress.prototype.setFirstLastCellClasses=function(){for(var e=!1,t=!1,i=0;i<this.layoutElements.progressItemCells.length;i++){var n=this.layoutElements.progressItemCells[i];e?(0,r.removeClass)(n,"isFirst"):(0,r.hasClass)(n,"isHidden")?(0,r.removeClass)(n,"isFirst"):(e=!0,(0,r.addClass)(n,"isFirst"))}for(var o=this.layoutElements.progressItemCells.length-1;o>=0;o--){var a=this.layoutElements.progressItemCells[o];t?(0,r.removeClass)(a,"isLast"):(0,r.hasClass)(a,"isHidden")?(0,r.removeClass)(a,"isLast"):(t=!0,(0,r.addClass)(a,"isLast"))}},Progress.prototype.setQuestionOrderNumbers=function(){var e=this,t=[];(0,r.forEach)(this.layoutElements.progressItemCells,function(e,i){(0,r.hasClass)(e,"isHidden")||t.push({cell:e,index:i})}),(0,r.forEach)(t,function(t,i){e.layoutElements.progressItems[t.index].querySelector(".jfProgress-itemLabel").innerText=i+1+". "+e.cards[t.index].label})},Progress.prototype.shouldProgressDisplayed=function(){var e=this;if("mobile"===this.layoutParams.deviceType||this.layoutParams.isFeedbackEmbedButton)return!0;return this.layoutParams.items.filter(function(t,i){return!e.layoutParams.hiddenIndexes[i]}).length>=4},Progress}();t.default=n},5147:function(e,t,i){"use strict";(function(e){function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},n=i(12),o=i(4977),a=i(5148),s=i(5149),l=_interopRequireDefault(s),d=i(5151),c=_interopRequireDefault(d),u=i(5152),h=_interopRequireDefault(u),p=function(){function Patch(t){_classCallCheck(this,Patch),this.params=t,this.formID=t.formID,this.storageEngine=t.storageEngine,this.continueLater=t.continueLater,this.showTooltip=t.showTooltip,this.patchSubmit=this.patchSubmit.bind(this),this.postFormData=this.postFormData.bind(this),this.patchErrored=this.patchErrored.bind(this),this.patchCorrected=this.patchCorrected.bind(this),this.patchDateTime=this.patchDateTime.bind(this),this.patchShowHideFields=this.patchShowHideFields.bind(this),this.patchRequireField=this.patchRequireField.bind(this),this.patchEnableDisableField=this.patchEnableDisableField.bind(this),this.patchCreditCardAddressVisibilityChanged=this.patchCreditCardAddressVisibilityChanged.bind(this),this.patchFileUploaderTemplates=this.patchFileUploaderTemplates.bind(this),this.patchIsVisible=this.patchIsVisible.bind(this),this.patchHandleSavedForm=this.patchHandleSavedForm.bind(this),this.patchHandlePaymentSubProducts=this.patchHandlePaymentSubProducts.bind(this),this.patchSetSubmissionID=this.patchSetSubmissionID.bind(this),this.patchInitShoppingBag=this.patchInitShoppingBag.bind(this),this.patchInitProductPages=this.patchInitProductPages.bind(this),this.patchInitDonation=this.patchInitDonation.bind(this),this.patchSubmit(),this.patchErrored(),this.patchCorrected(),this.patchDateTime(),this.patchShowHideFields(),this.patchRequireField(),this.patchEnableDisableField(),this.patchCreditCardAddressVisibilityChanged(),this.patchFileUploaderTemplates(),this.patchIsVisible(),this.patchHandleSavedForm(),this.patchSetSubmissionID(),this.patchHandlePaymentSubProducts(),this.patchInitShoppingBag(),this.patchInitProductPages(),this.patchInitDonation(),e.JotForm.isFullScreen=function(){return(0,n.hasClass)(document.body,"isFullScreen")},e.JotForm.getContainer=function(t){return e.JotForm.isFullScreen()?document.getElementById("jfQuestion-proxy"):(0,n.closest)(t,".jfCard")||t.querySelector(".jfCard")},this.checkFieldFilledClass=this.checkFieldFilledClass.bind(this)}return Patch.prototype.patchSubmit=function(){var t=this;document.querySelector(".jotform-form").addEventListener("submit",function(i){"recaptcha_invisible"!==t.params.captchaMode&&"invisibleFromAdvancedSettings"!==t.params.captchaMode||!e.grecaptcha||e.captchaFilled||!e.JotForm.validateAll(i.target)?t.params.onSubmit&&t.params.onSubmit(i):(i.preventDefault(),i.stopImmediatePropagation(),e.grecaptcha.execute(),e.JotForm.enableButtons())})},Patch.prototype.postFormData=function(t,i,r){var n=new e.XMLHttpRequest;n.open("POST",t,!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.onreadystatechange=function(){if(4===n.readyState)return 200===n.status?r():r(n.status);n.send(i)}},Patch.prototype.getFormData=function(e){var t=function(e,t){var i=t;return e&&(i=[e],i.push(t)),i};return function(e){var i=e.elements,r={},n=0,o=null;for(n=0;n<i.length;n+=1)switch(o=i[n],o.type){case"submit":break;case"radio":o.checked&&(r[o.name]=o.value);break;case"checkbox":o.checked&&(r[o.name]=t(r[o.name],o.value));break;default:r[o.name]=t(r[o.name],o.value)}return r}(e)},Patch.prototype.patchHandleSavedForm=function(){var t=this;if(e.JotForm.handleSavedForm){var i=e.JotForm.handleSavedForm;e.JotForm.handleSavedForm=function(){for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];var s=(0,n.makeHiddenSubmissionKey)(t.formID),l=e.JotForm,d=l.sessionID,c=l.submissionToken,u=l.submissionID,h=t.continueLater.useStorage&&t.storageEngine.isAvailable()?t.storageEngine.get(s):null;!h||d&&c&&u||(h=(0,n.parseJSON)(h),h||t.storageEngine.delete(s),e.JotForm.sessionID=h.sessionID,e.JotForm.submissionToken=h.submissionToken,e.JotForm.submissionID=h.submissionID);var p=e.document.forms[0];if(e.JotForm.submissionToken){var m=(0,n.createInput)({type:"hidden",name:"submission_token",id:"submission_token",value:e.JotForm.submissionToken});p.appendChild(m)}if(e.JotForm.submissionID){var f=(0,n.createInput)({type:"hidden",name:"submission_id",id:"submission_id",value:e.JotForm.submissionID});p.appendChild(f)}if(e.JotForm.sessionID){var y=(0,n.createInput)({type:"hidden",name:"session_id",id:"session",value:e.JotForm.sessionID});p.appendChild(y),i.call.apply(i,[e.JotForm].concat(o))}}}},Patch.prototype.patchSetSubmissionID=function(){if(e.JotForm.setSubmissionID){var t=e.JotForm.setSubmissionID;e.JotForm.setSubmissionID=function(){for(var i=arguments.length,r=Array(i),n=0;n<i;n++)r[n]=arguments[n];t.call.apply(t,[e.JotForm].concat(r))}}},Patch.prototype.patchErrored=function(){var t=this;e.JotForm.errored&&(e.JotForm.errored=function(i,r,a,s){var l=i,d=r.replace(/<br>/g,""),c=e.JotForm.isFullScreen();if(a)return!1;if(l.errored)return!1;var u=l.parentElement?l.parentElement.querySelector(".jfCheckbox-otherInputField"):null,h=l.parentElement?l.parentElement.querySelector(".jfRadio-otherInputField"):null;if((0,n.hasClass)(l,"jfCheckbox-otherInput")&&null!==u&&""===u.value&&l.checked){var p=(0,n.closest)(l,".jfField",".jfCard");(0,n.addClass)(p,"hasOtherError")}else if((0,n.hasClass)(l,"jfRadio-otherInput")&&null!==h&&""===h.value&&l.checked){var m=(0,n.closest)(l,".jfField",".jfCard");(0,n.addClass)(m,"hasOtherError")}if(s===o.ERROR_TYPES.TOOLTIP&&t.showTooltip(l,{message:d,type:o.TOOLTIP_TYPES.ERROR}),l.id&&l.id.indexOf("disabled")>0)return!0;l.errored=!0,l.errorMessage=r,(0,n.addClass)(l,"form-validation-error");var f=e.JotForm.getContainer(l);if(c)(0,n.addClass)(f,"hasError");else{var y=(0,n.closest)(l,".form-line");(0,n.addClass)(y,"form-line-error")}var v=c?f:f.querySelector(".jfCard-actionsNotification"),g=f.querySelector(".jsMobileErrorWrapper"),b=function(t,i,r,n){if(!t.querySelector("."+i)){var o=new e.Element("div",{className:n?i+" jfCard-error":i,role:"alert"});o.textContent=d,r&&(n?r.prepend(o):r.appendChild(o))}if(t.querySelector("."+i)){t.querySelector("."+i).textContent=d}};return s!==o.ERROR_TYPES.TOOLTIP&&(b(f,"form-error-message",v,c),b(f,"form-mobile-error-message",g,!1)),t.params.onFieldErrored&&t.params.onFieldErrored(l),!1})},Patch.prototype.patchCorrected=function(){var t=this;e.JotForm.corrected&&(e.JotForm.corrected=function(i){var r=i;r.errored=!1;var o=(0,n.closest)(r,".form-line"),a=e.JotForm.getContainer(r);if(!a)return!0;if((0,n.removeClass)(a,"hasError"),r.id&&r.id.indexOf("disabled")>0)return!0;var s=r.parentElement?r.parentElement.querySelector(".jfCheckbox-otherInputField"):null,l=r.parentElement?r.parentElement.querySelector(".jfRadio-otherInputField"):null;if((0,n.hasClass)(r,"jfCheckbox-otherInput")&&null!==s&&(!r.checked||""!==s.value&&r.checked)){var d=(0,n.closest)(r,".jfField",".jfCard");(0,n.removeClass)(d,"hasOtherError")}else if((0,n.hasClass)(r,"jfRadio-otherInput")&&null!==l&&(!r.checked||""!==l.value&&r.checked)){var c=(0,n.closest)(r,".jfField",".jfCard");(0,n.removeClass)(c,"hasOtherError")}(0,n.removeClass)(o,"form-line-error"),(0,n.removeClass)(r,"form-validation-error");var u=a.querySelectorAll(".form-validation-error");null!==o&&void 0!==o&&"function"==typeof o.getAttribute&&"control_matrix"===o.getAttribute("data-type")&&Array.prototype.forEach.call(u,function(e){(0,n.removeClass)(e,"form-validation-error")}),o&&0===o.querySelectorAll(".form-validation-error").length&&(0,n.removeClass)(o,"form-line-error");var h=a.querySelectorAll(".form-error-message, .form-mobile-error-message");return h&&0===u.length&&Array.prototype.forEach.call(h,function(e){e.parentElement.removeChild(e)}),t.params.onFieldCorrected&&t.params.onFieldCorrected(r),!0})},Patch.prototype.patchDateTime=function(){var t=this;if(e.Calendar){var i=this;this.originalCalendarSetup=e.Calendar.setup;var r=this.checkFieldFilledClass;e.Calendar.setup=function(e){function selectHandler(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];var s=t[0];o.call.apply(o,[this].concat(t)),r(s.dateField);var l=(0,n.closest)(t[0].dateField,".jfCard");i.params.onCalendarSelected(l,t[1])}var o=e.selectHandler,a=t.originalCalendarSetup({dateField:e.dateField,parentElement:e.parentElement,triggerElement:e.triggerElement,startOnMonday:e.startOnMonday,limits:e.limits,selectHandler:selectHandler});return i.params.onCalendarInit(a,e.parentElement),a}}},Patch.prototype.checkFieldFilledClass=function(e){e.validateInput&&e.validateInput()},Patch.prototype.patchShowHideFields=function(){var t=this,i=e.JotForm,r=i.showField,n=i.hideField;e.JotForm.showField=function(){for(var i,n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var s=r.call.apply(r,[e.JotForm].concat(o));(i=t.params.onFieldVisibilityChanged).call.apply(i,[null,s,!0].concat(o))},e.JotForm.hideField=function(){for(var i,r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];var s=n.call.apply(n,[e.JotForm].concat(o));(i=t.params.onFieldVisibilityChanged).call.apply(i,[null,s,!1].concat(o))}},Patch.prototype.patchRequireField=function(){var t=this,i=e.JotForm.requireField;e.JotForm.requireField=function(){for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];var a=n[0],s=n[1];i.call.apply(i,[e.JotForm].concat(n)),t.params.onRequireField.call(null,a,s)}},Patch.prototype.patchEnableDisableField=function(){var t=this,i=e.JotForm.enableDisableField;e.JotForm.enableDisableField=function(){for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];var a=n[0],s=n[1];i.call.apply(i,[e.JotForm].concat(n)),t.params.onEnableDisableField.call(null,a,s)}},Patch.prototype.patchFileUploaderTemplates=function(){var t=this;e.qq&&(e.qq.getUploaderTemplate=function(){return a.getUploaderTemplate.apply(void 0,arguments)},e.qq.getUploadedFileTemplate=function(){return a.getUploadedFileTemplate.apply(void 0,arguments)},e.qq.getUploaderSelectors=function(){return a.getUploaderSelectors.apply(void 0,arguments)},e.qq.onUploadComplete=function(){return t.params.onFileUploadChanged(arguments.length<=4?void 0:arguments[4]),a.onUploadComplete.apply(void 0,arguments)},e.qq.onDelete=function(){t.params.onFileUploadChanged(arguments.length<=0?void 0:arguments[0])},e.qq.onUploadAdd=function(){return a.onUploadAdd.apply(void 0,arguments)})},Patch.prototype.patchCreditCardAddressVisibilityChanged=function(){var t=this;e.JotForm.setCreditCardVisibility=function(e){t.params.onCreditCardAddressVisibilityChanged.call(null,e)}},Patch.prototype.patchIsVisible=function(){var t=e.JotForm.isVisible;e.JotForm.isVisible=function(){for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=o[0];return(0,n.hasClass)(s,"cf-valid-hidden")&&t.call(e.JotForm,r({},o,{element:s.parentElement})),t.call.apply(t,[e.JotForm].concat(o))}},Patch.prototype.patchHandlePaymentSubProducts=function(){e.JotForm.handlePaymentSubProducts=function(){document.querySelectorAll(".form-product-has-subproducts").forEach(function(t){var i=(0,n.closest)(t,".jfProduct-list",".form-line")?(0,n.closest)(t,".jfProduct-list",".form-line"):(0,n.closest)(t,".js-product-detail",".form-line");t.addEventListener("click",function(){var r=i.querySelectorAll(".form-subproduct-quantity");t.checked||(r.forEach(function(e){if(e.value=0,"SELECT"===e.tagName){var t=document.createEvent("HTMLEvents");t.initEvent("change",!1,!0),e.dispatchEvent(t)}}),setTimeout(function(){e.JotForm.totalCounter(e.JotForm.prices)},300))})})}},Patch.prototype.patchInitShoppingBag=function(){e.JotForm.initShoppingBag=function(t,i,r,n){var o=new c.default(t);e.JotForm.productPages=o,o.initProductPages(),e.JotForm.shoppingBag=new l.default(t,i,r,o,n),e.JotForm.shoppingBag.initShoppingBag()}},Patch.prototype.patchInitProductPages=function(){e.JotForm.initProductPages=function(){}},Patch.prototype.patchInitDonation=function(){e.JotForm.initDonation=function(e,t){new h.default(e,t).initDonation()}},Patch}();t.default=p}).call(t,i(6))},5148:function(e,t,i){"use strict";(function(e){t.__esModule=!0;var i='<svg width="32px" height="32px" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Close" fill="#FFFFFF"><polygon points="21.640625 11.171875 16.9921875 15.8203125 21.640625 20.46875 20.46875 21.640625 15.8203125 16.9921875 11.171875 21.640625 10 20.46875 14.6484375 15.8203125 10 11.171875 11.171875 10 15.8203125 14.6484375 20.46875 10"></polygon></g></g></svg>';t.getUploaderTemplate=function(e){return'<div class="qq-uploader"><div class="qq-upload-drop-area"><div class="qq-upload-drop-area-wrapper"><div class="qq-upload-drop-area-wrapper-outer"><div class="qq-upload-drop-area-wrapper-inner"><span class="qq-upload-area-logo"><svg id="uploadSVG" width="54px" height="47px" viewBox="0 0 54 47" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <g stroke="none" stroke-width="1"> <g transform="translate(-1506.000000, -2713.000000)"> <g transform="translate(1421.000000, 2713.000000)"> <path d="M125.212886,10.1718048 C127.110227,10.3826204 128.89335,10.9096517 130.562307,11.7529143 C132.231264,12.596177 133.689384,13.676591 134.93671,14.9941889 C136.184036,16.3117868 137.167828,17.8226097 137.888114,19.5267029 C138.608401,21.2307962 138.968539,23.049054 138.968539,24.9815309 C138.968539,26.8086 138.687456,28.6356416 138.125281,30.4627107 C137.563106,32.2897797 136.746207,33.9323605 135.674561,35.3905021 C134.602915,36.8486438 133.267769,38.0520318 131.669084,39.0007022 C130.070398,39.9493727 128.217005,40.4588363 126.108848,40.5291081 L122.261482,40.5291081 C121.804714,40.5291081 121.409441,40.3622149 121.07565,40.0284235 C120.741858,39.694632 120.574965,39.2993586 120.574965,38.8425913 C120.574965,38.385824 120.741858,37.9905506 121.07565,37.6567591 C121.409441,37.3229677 121.804714,37.1560744 122.261482,37.1560744 L126.108848,37.1560744 C127.549422,37.1560744 128.858216,36.7871526 130.03527,36.0492978 C131.212324,35.3114429 132.222468,34.3627867 133.06573,33.2033006 C133.908993,32.0438144 134.558998,30.743804 135.015765,29.3032303 C135.472533,27.8626567 135.700913,26.4221046 135.700913,24.9815309 C135.700913,23.4004134 135.384694,21.9159421 134.752247,20.5280723 C134.1198,19.1402026 133.258983,17.9280307 132.169768,16.8915204 C131.080554,15.85501 129.833247,15.0293277 128.427809,14.4144487 C127.022371,13.7995697 125.529116,13.4921348 123.947999,13.4921348 L122.735815,13.4394312 L122.366889,12.2799508 C121.48849,9.46907537 120.07429,7.28189569 118.124245,5.71834621 C116.1742,4.15479672 113.53026,3.37303371 110.192346,3.37303371 C108.084189,3.37303371 106.186876,3.73317173 104.500351,4.45345857 C102.813826,5.17374541 101.36449,6.17510478 100.1523,7.45756671 C98.9401098,8.74002865 98.0090213,10.2684193 97.3590063,12.0427844 C96.7089914,13.8171496 96.3839888,15.7232459 96.3839888,17.7611306 L96.4366924,17.7611306 L96.5420997,19.3422402 L95.0136938,19.6057584 C93.1514888,19.9219819 91.5703951,20.9233413 90.2703652,22.6098666 C88.9703353,24.2963919 88.3203301,26.1937043 88.3203301,28.301861 C88.3203301,30.6911051 89.1196608,32.7640947 90.7183462,34.5208919 C92.3170316,36.277689 94.2055603,37.1560744 96.3839888,37.1560744 L101.232725,37.1560744 C101.724628,37.1560744 102.128685,37.3229677 102.444909,37.6567591 C102.761132,37.9905506 102.919242,38.385824 102.919242,38.8425913 C102.919242,39.2993586 102.761132,39.694632 102.444909,40.0284235 C102.128685,40.3622149 101.724628,40.5291081 101.232725,40.5291081 L96.3839888,40.5291081 C94.8380073,40.5291081 93.3798875,40.2041055 92.0095857,39.5540906 C90.6392839,38.9040756 89.4358959,38.0169064 88.3993855,36.8925562 C87.3628752,35.768206 86.5371929,34.4681956 85.9223139,32.992486 C85.3074349,31.5167763 85,29.9532503 85,28.301861 C85,25.5963933 85.7554115,23.1544819 87.266257,20.9760534 C88.7771026,18.7976249 90.7095505,17.3395051 93.0636587,16.6016503 C93.2042025,14.2475421 93.7224499,12.0603624 94.6184164,10.0400456 C95.514383,8.0197289 96.7089871,6.26295807 98.2022647,4.76968048 C99.6955423,3.27640288 101.452313,2.10815028 103.47263,1.26488764 C105.492947,0.421624997 107.732829,0 110.192346,0 C112.089686,0 113.82889,0.237164061 115.410007,0.711499298 C116.991124,1.18583453 118.414109,1.8621913 119.679003,2.74058989 C120.943897,3.61898847 122.033095,4.69061868 122.946629,5.95551264 C123.860164,7.22040661 124.615575,8.62582326 125.212886,10.1718048 Z M113.249157,23.611236 L119.468188,30.4627107 C119.71414,30.7086623 119.837114,30.9985295 119.837114,31.3323209 C119.837114,31.6661124 119.71414,31.9735473 119.468188,32.2546348 L119.046559,32.5181531 C118.835743,32.7641047 118.563444,32.8607271 118.229652,32.8080232 C117.895861,32.7553193 117.605994,32.6059937 117.360042,32.3600421 L113.670787,28.2491573 L113.670787,45.2197331 C113.670787,45.7116364 113.503893,46.1156936 113.170102,46.4319171 C112.83631,46.7481406 112.441037,46.90625 111.98427,46.90625 C111.492366,46.90625 111.088309,46.7481406 110.772086,46.4319171 C110.455862,46.1156936 110.297753,45.7116364 110.297753,45.2197331 L110.297753,28.2491573 L106.713904,32.2546348 C106.467953,32.5005864 106.178086,32.649912 105.844294,32.7026159 C105.510503,32.7553198 105.220636,32.6586974 104.974684,32.4127458 L104.553055,32.1492275 C104.307103,31.86814 104.184129,31.5607051 104.184129,31.2269136 C104.184129,30.8931222 104.307103,30.603255 104.553055,30.3573034 L110.666678,23.611236 L110.666678,23.5585323 L111.088308,23.1369031 C111.193715,22.9963593 111.325473,22.8997369 111.483585,22.847033 C111.641697,22.7943291 111.791022,22.7679775 111.931566,22.7679775 C112.107246,22.7679775 112.265355,22.7943291 112.405899,22.847033 C112.546443,22.8997369 112.686984,22.9963593 112.827528,23.1369031 L113.249157,23.5585323 L113.249157,23.611236 Z"></path> </g> </g> </g> </svg></span><span class="qq-upload-area-text">Drop files here to upload</span> <span class="qq-upload-area-subtext">Your files will be uploaded immediately</span></div></div></div></div><div class="qq-upload-button {buttonStyle}" style="display: none;">'+e+'</div><div class="inputContainer" style="display: none;"></div><div class="form-sub-label">{subLabel}</div><span style="display:none" class="multipleFileUploadLabels cancelText">Cancel</span><span style="display:none" class="multipleFileUploadLabels ofText">of</span><ul class="qq-upload-list" aria-label="Uploaded Files"></ul></div>'},t.getUploadedFileTemplate=function(){return'<li tabindex="-1"><span class="qq-upload-file qq-file-uploading"></span><span class="qq-upload-cancel qq-upload-cancel-button"><span class="qq-upload-cancel-circle qq-upload-cancel-circle-button forCancel">'+i+'</span></span><span class="qq-upload-size"></span><span class="qq-upload-spinner"></span><span class="qq-upload-success-text">Success</span><span class="qq-upload-fail-text">Failed</span><span class="qq-upload-delete"><span class="qq-upload-delete-circle"><span class="qq-upload-delete-check"><svg width="32px" height="32px" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Check" fill="#FFFFFF"><polygon points="13.1645902 18.9342623 21.0809016 11 22.14 12.0590984 13.1645902 21.0345082 9 16.869918 10.0411475 15.8108197"></polygon></g></g></svg></span><span class="qq-upload-delete-cross">'+i+"</span></span></li>"},t.onUploadComplete=function(e){try{e.parentElement.scrollTop=9999}catch(e){}},t.onUploadAdd=function(){setTimeout(function(){for(var t=e.document.getElementsByClassName("qq-upload-list"),i=0,r=t.length;i<r;i++)try{t[i].scrollTop=9999}catch(e){}})},t.getUploaderSelectors=function(){return{button:"qq-upload-button",drop:"qq-upload-drop-area",dropActive:"qq-upload-drop-area-active",list:"qq-upload-list",file:"qq-upload-file",spinner:"qq-upload-spinner",size:"qq-upload-size",cancel:"qq-upload-cancel",deleteItem:"qq-upload-delete",uploading:"qq-file-uploading",success:"qq-upload-success",fail:"qq-upload-fail"}}}).call(t,i(6))},5149:function(e,t,i){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=i(12),n=i(5150),o=function(e){return e&&e.__esModule?e:{default:e}}(n),a={productDetail:".product__detail"},s=function(){function ShoppingBag(e,t,i,r,n){_classCallCheck(this,ShoppingBag),this.id=e,this.formProducts=t,this.activeProduct=null,this.currency=i,this.enableImagePreview=n,this.isCameFromEdit=!1,this.productPages=r,this.qLine=document.querySelector("#id_"+this.id),this.paymentCard=this.qLine.querySelector(".jfCard"),this.footer=this.qLine.querySelector(".paymentCard-footer-wrapper"),this.header=this.qLine.querySelector(".js-header-wrapper"),this.productModuleWrapper=this.qLine.querySelector(".jfProductModule-wrapper"),this.productListWrapper=this.qLine.querySelector(".products"),this.cardQuestionWrapper=this.qLine.querySelector(".jfCard-question"),this.products=this.qLine.querySelectorAll(".js-productItem"),this.shoppingBagButton=this.qLine.querySelector(".shopping-cart"),this.detailFooterButton=this.qLine.querySelector(".js-detail-footer-button"),this.handleProductClick=this.handleProductClick.bind(this),this.detailsBackButtonHandler=this.detailsBackButtonHandler.bind(this),this.openSummaryPage=this.openSummaryPage.bind(this),this.addToBag=this.addToBag.bind(this),this.removeFromBag=this.removeFromBag.bind(this),this.handleDetailsRemoveButton=this.handleDetailsRemoveButton.bind(this),this.orientationChange=this.orientationChange.bind(this),this.onPageChange=this.onPageChange.bind(this),this.shoppingBagButton&&(this.summaryPage=new o.default(this.qLine,this)),this.productPages&&this.productPages.setOnPageChange(this.onPageChange)}return ShoppingBag.prototype.initShoppingBag=function(){var t=this,i=0;(0,r.forEach)(this.products,function(r){var n=i;r.addEventListener("click",function(){return t.handleProductClick(r)}),r.addEventListener("keypress",function(e){32===e.keyCode&&e.target.click()});var o=r.querySelector(".js-product-back");o&&(o.addEventListener("click",t.detailsBackButtonHandler),o.addEventListener("keypress",function(e){32===e.keyCode&&e.target.click()}));var a=r.querySelector(".js-add-to-bag");a&&a.addEventListener("click",t.addToBag);var s=r.querySelector(".form-product-image-with-options");s&&t.enableImagePreview&&(!0===t.enableImagePreview||"true"===t.enableImagePreview)&&(s.addEventListener("click",function(t){t.stopPropagation(),e.onProductImageClicked(n)}),i++);var l=r.querySelector(".js-update-bag");l&&l.addEventListener("click",t.addToBag);var d=r.querySelector(".js-remove-from-bag");d&&d.addEventListener("click",function(e){return t.handleDetailsRemoveButton(e,r)}),t.setProductHeight(r)}),this.shoppingBagButton&&(this.shoppingBagButton.addEventListener("keypress",function(e){32===e.keyCode&&e.target.click()}),this.shoppingBagButton.addEventListener("click",this.openSummaryPage),this.changeShoppingBagButtonPosition()),this.productListWrapper&&this.setHeight(this.productListWrapper),this.footer&&this.setHeight(this.footer),this.formProducts.forEach(function(e,i){e&&e.selected&&"1"===e.selected&&t.products&&t.products[i]&&t.highlightProductItem(t.products[i])})},ShoppingBag.prototype.openSummaryPage=function(){if(!this.shoppingBagButton.hasClassName("empty")){this.hideQuestionHeader(),this.hideProductList(),this.hideFooter(),this.hideShoppingBagButton(),this.summaryPage.openSummaryPage();var e=this.getProductInputIDs();this.summaryPage.makeList(e,this.formProducts),(0,r.translateDefaultCardFormTexts)()}},ShoppingBag.prototype.closeSummaryPage=function(){this.summaryPage.closeSummaryPage(),this.showShoppingBagButton(),this.showFooter(),this.showProductList(),this.showQuestionHeader()},ShoppingBag.prototype.showShoppingBagButton=function(){this.shoppingBagButton.show()},ShoppingBag.prototype.hideShoppingBagButton=function(){this.shoppingBagButton.hide()},ShoppingBag.prototype.openProductDetails=function(e){var t=this.qLine.querySelectorAll(".js-productItem"),i=Array.prototype.findIndex.call(t,function(t){return t.getAttribute("data-input")===e}),r=Math.ceil((i+1)/this.getProductsPerPage());this.productPages&&this.productPages.handlePageChange(r);var n=this.qLine.querySelector('.js-productItem[data-input="'+e+'"]');this.hasProductOption(n)&&n.click()},ShoppingBag.prototype.getProductsPerPage=function(){return this.productPages.getProductsPerPage()},ShoppingBag.prototype.inputSelectors=function(){return this.getProductInputIDs().reduce(function(e,t){return""!==e?e+', [id="'+t+'"]':e+'[id="'+t+'"]'},"")},ShoppingBag.prototype.hideQuestionHeader=function(){(0,r.addClass)(this.paymentCard,"jfCard--summary")},ShoppingBag.prototype.showQuestionHeader=function(){(0,r.removeClass)(this.paymentCard,"jfCard--summary")},ShoppingBag.prototype.hideProductList=function(){this.slideUp(this.productListWrapper)},ShoppingBag.prototype.showProductList=function(){this.slideDown(this.productListWrapper)},ShoppingBag.prototype.hideFooter=function(){this.slideUp(this.footer)},ShoppingBag.prototype.showFooter=function(){this.slideDown(this.footer)},ShoppingBag.prototype.showDetailPage=function(){this.hideFooter(),this.hideShoppingBagButton(),(0,r.addClass)(this.productListWrapper,"products--selected")},ShoppingBag.prototype.setDetailPageButtons=function(e){var t=e.querySelector(".js-add-to-bag"),i=e.querySelector(".js-update-bag"),n=e.querySelector(".js-remove-from-bag");(0,r.hasClass)(e,"product--selected")?(t.hide(),i.show(),n.show()):(t.show(),i.hide(),n.hide())},ShoppingBag.prototype.addToBag=function(e){e.stopPropagation();var t=this.activeProduct.querySelector(this.inputSelectors());t.checked=!0,(0,r.triggerEvent)(t,"change"),this.calculateTotal(),this.highlightProductItem(this.activeProduct),this.updateCartItems(),this.backToProductList("details")},ShoppingBag.prototype.handleDetailsRemoveButton=function(e,t){e.stopPropagation(),this.removeFromBag(t),this.backToProductList("details")},ShoppingBag.prototype.removeFromBag=function(e){var t=e.querySelector(this.inputSelectors());t.disabled||((this.hasProductOption(e)||(0,r.hasClass)(e,"just_sold_out_product"))&&this.resetDetailState(e),t.checked=!1,(0,r.triggerEvent)(t,"change"),this.calculateTotal(),this.removeHighlightProductItem(e,!0),this.updateCartItems())},ShoppingBag.prototype.updateCartItems=function(){if(this.shoppingBagButton){var e=this.getTotalSelectedItems();this.updateShoppingBagButton(e)}},ShoppingBag.prototype.updateShoppingBagButton=function(e){e>0?(0,r.removeClass)(this.shoppingBagButton,"empty"):(0,r.addClass)(this.shoppingBagButton,"empty"),this.shoppingBagButton.querySelector(".shopping-cart__count").textContent=e},ShoppingBag.prototype.getTotalSelectedItems=function(){var e=this,t=this.inputSelectors();return(0,r.reduce)(this.products,function(i,n){return n.querySelector(t).checked?e.hasSubProduct(n)?i+(0,r.reduce)(n.querySelectorAll('select[id*="quantity"], input[id*="quantity"]'),function(e,t){return parseInt(t.value,10)>0?e+1:e},0):i+1:i},0)},ShoppingBag.prototype.handleProductClick=function(e){var t=e;if(!this.hasProductOption(t)||(0,r.hasClass)(t,"just_sold_out_product")||(0,r.hasClass)(t,"sold_out_product"))this.zeroOptionProductClick(t);else{if(t===this.activeProduct)return;this.showDetailPage(t),this.setActiveProduct(t),this.setDetailPageButtons(t)}var i=t.querySelector("input");if(i){var n=new Event("change",{bubbles:!0});i.dispatchEvent(n)}},ShoppingBag.prototype.backToProductList=function(e,t){!0===this.isCameFromEdit&&"details"===e?((0,r.removeClass)(this.productListWrapper,"products--selected"),this.unsetActiveProduct(),this.openSummaryPage(),this.isCameFromEdit=!1):"summary"===e?(this.closeSummaryPage(),t&&(this.isCameFromEdit=!0)):"details"===e&&((0,r.removeClass)(this.productListWrapper,"products--selected"),this.unsetActiveProduct(),this.showShoppingBagButton()),this.showFooter()},ShoppingBag.prototype.detailsBackButtonHandler=function(e){e.stopPropagation(),this.backToProductList("details")},ShoppingBag.prototype.removeHighlightProductItem=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.hasProductOption(e),n=this.hasSubProduct(e);if(i){if(i&&!n)(0,r.removeClass)(e,"with-edit-option");else if(i&&n){var o=this.hasSelectedSubProductItem(e);if(t&&(0,r.removeClass)(e,"product--selected"),o)return;(0,r.removeClass)(e,"with-edit-option")}}else{var a=e.querySelector(".js-add-without-option");(0,r.removeClass)(a.parentElement,"product__action--remove")}(0,r.removeClass)(e,"product--selected")},ShoppingBag.prototype.hasSelectedSubProductItem=function(e){var t=e.querySelectorAll('[id*="quantity"]');return(0,r.reduce)(t,function(e,t){return e||!(0===t.value||""===t.value||"0"===t.value)},!1)},ShoppingBag.prototype.hasSubProduct=function(e){return(0,r.hasClass)(e,"js-hasSubProduct")},ShoppingBag.prototype.hasProductOption=function(e){return!(0,r.hasClass)(e,"js-zeroOption")},ShoppingBag.prototype.highlightProductItem=function(e){var t=this.hasProductOption(e);if((0,r.addClass)(e,"product--selected"),!t){var i=e.querySelector(".js-add-without-option");(0,r.addClass)(i.parentElement,"product__action--remove")}},ShoppingBag.prototype.getProductInputIDs=function(){return Object.keys(e.JotForm.prices).map(function(e){var t=e.split("_");return 3===t.length?e:4===t.length&&"plan"!==t[2]?(t.pop(),t.join("_")):e}).reduce(function(e,t){return-1===e.indexOf(t)&&e.push(t),e},[])},ShoppingBag.prototype.zeroOptionProductClick=function(e){var t=this,i=e.querySelector(this.inputSelectors());if(i.checked)this.removeFromBag(e);else{if(i.checked=!0,"radio"===i.type){document.querySelectorAll(".js-productItem").forEach(function(e){t.removeHighlightProductItem(e)})}this.highlightProductItem(e),this.shakeFooter(),this.calculateTotal(),this.updateCartItems()}},ShoppingBag.prototype.setActiveProduct=function(e){var t=this;if(this.activeProduct=e,(0,r.addClass)(e,"product--active"),e.hasClassName("product--with-option")){e.querySelector(".product__detail").style="display: block;"}(0,r.forEach)(this.products,function(i){i!==e&&t.slideUp(i)}),this.slideDown(e.querySelector(a.productDetail)),this.setHeight(this.productListWrapper),window.addEventListener("orientationchange",this.orientationChange)},ShoppingBag.prototype.unsetActiveProduct=function(){var e=this;if((0,r.removeClass)(this.activeProduct,"product--active"),this.activeProduct.hasClassName("product--with-option")){this.activeProduct.querySelector(".product__detail").style="display: none;"}(0,r.forEach)(this.products,function(t){t!==e.activeProduct&&e.slideDown(t,!0)}),this.slideUp(this.activeProduct.querySelector(a.productDetail)),this.setHeight(this.productListWrapper),this.activeProduct=null,this.activeProductDetailState=null,window.removeEventListener("orientationchange",this.orientationChange)},ShoppingBag.prototype.getProductOptions=function(e){return e.querySelector(a.productDetail)?e.querySelector(a.productDetail).querySelectorAll("select, input"):[]},ShoppingBag.prototype.resetDetailState=function(e){this.getProductOptions(e).forEach(function(e){var t=e;"SELECT"===t.tagName?t.selectedIndex=0:t.value="0",(0,r.triggerEvent)(t,"change")})},ShoppingBag.prototype.changeShoppingBagButtonPosition=function(){this.cardQuestionWrapper.insertBefore(this.shoppingBagButton,this.productModuleWrapper)},ShoppingBag.prototype.shakeFooter=function(){var e=this;this.shoppingBagButton&&((0,r.addClass)(this.shoppingBagButton,"shopping-cart--added"),setTimeout(function(){(0,r.removeClass)(e.shoppingBagButton,"shopping-cart--added")},350))},ShoppingBag.prototype.calculateTotal=function(){e.JotForm.countTotal(e.JotForm.prices)},ShoppingBag.prototype.slideDown=function(e){var t=e;(0,r.hasClass)(t,"product__detail")&&(t.parentElement.style.height="auto"),this.setHeight(t)},ShoppingBag.prototype.slideUp=function(e){e.style.height="0px"},ShoppingBag.prototype.setProductHeight=function(e){var t=this,i=e.querySelector(".product__image img");i&&!i.complete&&(i.onload=function(){return t.setHeight(e)}),this.setHeight(e)},ShoppingBag.prototype.setHeight=function(e){var t=e,i=t.cloneNode(!0);if(i.style.position="absolute",i.style.height="auto",i.style.width="100%",parseInt(window.getComputedStyle(t).height,10)!==parseInt(window.getComputedStyle(i).height,10)){var n=i.querySelectorAll('input[type="radio"]:checked');(0,r.forEach)(n,function(e){e.checked=!1}),t.parentElement.appendChild(i);var o=window.getComputedStyle(i).height;t.parentElement.removeChild(i),t.style.height=o}},ShoppingBag.prototype.orientationChange=function(){var e=this;setTimeout(function(){e.setHeight(e.activeProduct.querySelector(a.productDetail)),e.setHeight(e.productListWrapper)},200)},ShoppingBag.prototype.onPageChange=function(){this.setHeight(this.productListWrapper),this.setHeight(this.footer)},ShoppingBag}();t.default=s}).call(t,i(6))},5150:function(e,t,i){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},n=i(12),o={summaryWrapper:".product-summary",listWrapper:".product-summary__left",itemWrapper:".product-mini",backButton:".product-summary__back"},a=function(){function SummaryPage(e,t){_classCallCheck(this,SummaryPage),this.question=e,this.shoppingBag=t,this.wrapper=e.querySelector(o.summaryWrapper),this.listWrapper=this.wrapper.querySelector(o.listWrapper),this.backButton=this.wrapper.querySelector(o.backButton),this.backButtonClick=this.backButtonClick.bind(this),this.editButtonClick=this.editButtonClick.bind(this),this.removeButtonClick=this.removeButtonClick.bind(this),this.backButton.addEventListener("click",this.backButtonClick)}return SummaryPage.prototype.makeList=function(t,i){var n=this;this.emptyList(),t.forEach(function(t){var o=document.querySelector("#"+t);if(o&&o.checked){var a=n.getProductID(t);if(n.hasSubProduct(a,i)){n.getSubProducts(a,i,t).forEach(function(e){n.makeListItem(r({},e,{productID:t}),!0)})}else{var s=e.JotForm.prices[t],l=s.specialPriceField&&s.specialPriceField.indexOf("quantity")>-1,d=n.getQuantity(t),c=n.getProductName(a,i),u=n.getProductPrice(t);n.makeListItem({name:c,price:u,quantity:d,productID:t,hasSpecialQuantityPricing:l})}void 0!==e.PaymentStock&&e.PaymentStock.handleStockManagement()}}),e.FormTranslation&&e.FormTranslation.setOriginalDynamicFormElements&&e.FormTranslation.setOriginalDynamicFormElements(),this.shoppingBag.setHeight(this.wrapper)},SummaryPage.prototype.makeListItem=function(e,t){var i=this,r=e.name,n=e.price,o=e.quantity,a=e.hasSpecialQuantityPricing,s=this.getProductID(e.productID),l=document.createElement("div");l.setAttribute("class","product-mini");var d=a?n:o*n,c=this.makeProductMiniHeader(r,d,s);l.appendChild(c);var u=document.createElement("div");u.setAttribute("class","product-mini__body");var h=document.createElement("div");h.setAttribute("class","product-mini__options");var p=this.makeProductMiniOption("Quantity",o,"product-mini__options__quantity_"+s);h.appendChild(p);var m=this.shoppingBag.formProducts.filter(function(e){return e.pid===s})[0];m.options.length>0&&(m.options.filter(function(e){return e.expanded}).forEach(function(t){var r=e.quantityFieldID.split("_")[4],n=i.makeProductMiniOption(t.name,t.properties.split("\n")[r],"product-mini__options__expanded_"+s+"-"+r);h.appendChild(n)}),m.options.forEach(function(r,n){if("quantity"!==r.type&&!r.expanded){var o=[];t?(o=e.quantityFieldID.split("_"),o[2]="custom",o[5]=n):(o=e.productID.split("_"),o.splice(2,0,"custom"),o.push(n));var a=o.join("_"),l=i.shoppingBag.qLine.querySelector("#"+a).value,d=i.makeProductMiniOption(r.name,l,"product-mini__options__others_"+s+"-"+n);h.appendChild(d)}})),u.appendChild(h);var f=this.makeProductMiniActions(e,t);u.appendChild(f),l.appendChild(u),this.listWrapper.appendChild(l)},SummaryPage.prototype.getProductID=function(e){return e.split("_")[2]},SummaryPage.prototype.getQuantity=function(t){return e.JotForm.prices[t]&&e.JotForm.prices[t].quantityField?this.shoppingBag.qLine.querySelector("#"+e.JotForm.prices[t].quantityField).value:1},SummaryPage.prototype.getProductName=function(e,t){return this.getProductFromID(e,t).name},SummaryPage.prototype.hasSubProduct=function(e,t){var i=this.getProductFromID(e,t);return!!parseInt(i.hasExpandedOption,10)},SummaryPage.prototype.getSubProducts=function(t,i,r){var n=this;return this.getExpandedOption(t,i).map(function(o,a){var s=e.JotForm.prices[r+"_"+a],l=n.shoppingBag.qLine.querySelector("#"+s.quantityField),d=parseInt(l.value,10);if(!(d<1)){var c=n.getProductName(t,i);if(s.specialPriceField){var u=s.specialPriceField.indexOf("quantity")>-1,h=u?d:s.specialPriceField.split("_").pop(),p=parseFloat(s.specialPriceList[parseInt(h,10)],10);return{quantity:d,quantityFieldID:l.id,price:p,name:c,hasSpecialQuantityPricing:u}}return{quantity:d,quantityFieldID:l.id,price:s.price,name:c}}}).filter(function(e){return e})},SummaryPage.prototype.getExpandedOption=function(e,t){return this.getProductFromID(e,t).options.find(function(e){return e.expanded}).properties.split("\n")},SummaryPage.prototype.getProductFromID=function(e,t){return t.find(function(t){return t.pid===e})},SummaryPage.prototype.makeNameContainer=function(e,t){var i=document.createElement("div");return i.setAttribute("class","itemName"),i.innerHTML=t+" x "+e,i},SummaryPage.prototype.getProductPrice=function(t){if(!e.JotForm.prices[t])return 0;var i=e.JotForm.prices[t];if(!i.specialPriceField)return i.price;var r=this.shoppingBag.qLine.querySelector("#"+i.specialPriceField),n=r.selectedIndex;return parseFloat(i.specialPriceList[n],10)},SummaryPage.prototype.makePriceContainer=function(e,t){var i=document.createElement("div");return i.setAttribute("class","itemPrice"),i.innerHTML=this.curr()+" "+e*t,i},SummaryPage.prototype.makeEditButton=function(e){var t=document.createElement("button");return t.setAttribute("type","button"),t.setAttribute("class","itemCta"),t.innerHTML="EDIT",t.setAttribute("data-id",e),t.addEventListener("click",this.editButtonClick),t},SummaryPage.prototype.makeProductMiniHeader=function(t,i,r){var n=e.JotForm.currencyFormat,o=n.decimal,a=n.dSeparator,s=n.tSeparator,l=document.createElement("div");l.setAttribute("class","product-mini__header");var d=document.createElement("div");d.setAttribute("class","product-mini__title payment-text dynamic-form-element"),d.setAttribute("id","product-mini__title-"+r),d.textContent=t;var c=document.createElement("div");return c.setAttribute("class","product-mini__price"),c.textContent=""+this.curr()+i.formatMoney(o,a,s),l.appendChild(d),l.appendChild(c),l},SummaryPage.prototype.makeProductMiniActions=function(e,t){var i=document.createElement("div");i.setAttribute("class","product-mini__actions");var r=document.createElement("div");r.setAttribute("class","product-mini__button product-mini__button--remove"),r.setAttribute("data-id",e.productID),r.setAttribute("tabindex",0),t&&r.setAttribute("data-quantity-id",e.quantityFieldID),r.addEventListener("click",this.removeButtonClick),r.addEventListener("keypress",this.buttonKeyPress);var n=document.createElement("div");return n.setAttribute("class","product-mini__button product-mini__button--edit"),n.setAttribute("data-id",e.productID),n.setAttribute("tabindex",0),n.addEventListener("click",this.editButtonClick),n.addEventListener("keypress",this.buttonKeyPress),i.appendChild(r),i.appendChild(n),i},SummaryPage.prototype.makeProductMiniOption=function(e,t,i){var r=document.createElement("div");r.setAttribute("class","product-mini__option");var n=document.createElement("span");n.setAttribute("class","product-mini__option-value payment-text dynamic-form-element"),n.setAttribute("id",i),n.textContent=""+e;var o=document.createElement("span");o.setAttribute("class","product-mini__option-name"),o.textContent=":";var a=document.createElement("span");return a.setAttribute("class","product-mini__option-value"),a.textContent=t,r.appendChild(n),r.appendChild(o),r.appendChild(a),r},SummaryPage.prototype.editButtonClick=function(e){this.shoppingBag.backToProductList("summary",!0);var t=e.target.getAttribute("data-id");this.shoppingBag.openProductDetails(t)},SummaryPage.prototype.closeSummaryPage=function(){this.shoppingBag.slideUp(this.wrapper,!0),this.wrapper.style.display="none"},SummaryPage.prototype.openSummaryPage=function(){this.shoppingBag.slideDown(this.wrapper),this.wrapper.style.display="block"},SummaryPage.prototype.makeRemoveButton=function(e,t){var i=document.createElement("button");return i.setAttribute("type","button"),i.setAttribute("class","itemCta"),i.innerHTML="REMOVE",i.setAttribute("data-id",e.productID),t&&i.setAttribute("data-quantity-id",e.quantityFieldID),i.addEventListener("click",this.removeButtonClick),i},SummaryPage.prototype.removeButtonClick=function(e){var t=e.target,i=t.getAttribute("data-id"),r=this.shoppingBag.qLine.querySelector('li[data-input="'+i+'"]'),o=(0,n.hasClass)(r,"js-hasSubProduct"),a=this.question.querySelector("#"+i);if(o||!a.disabled){if(this.removeItemFromList(t),this.wrapper.style.height="auto",o){var s=this.shoppingBag.qLine.querySelector("#"+t.getAttribute("data-quantity-id"));s.value=0,(0,n.triggerEvent)(s,"change")}if(o&&this.shoppingBag.hasSelectedSubProductItem(r))return void this.shoppingBag.updateCartItems();this.shoppingBag.removeFromBag(r)}},SummaryPage.prototype.buttonKeyPress=function(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),e.stopPropagation(),e.target.click())},SummaryPage.prototype.backButtonClick=function(){this.shoppingBag.backToProductList("summary")},SummaryPage.prototype.emptyList=function(){this.listWrapper.innerHTML=""},SummaryPage.prototype.isEditButtonVisible=function(e){return!(0,n.hasClass)(this.shoppingBag.qLine.querySelector('[data-input="'+e+'"]'),"js-zeroOption")},SummaryPage.prototype.removeItemFromList=function(e){var t=(0,n.closest)(e,o.listWrapper,".jfCard"),i=(0,n.closest)(e,o.itemWrapper,o.itemWrapper);t&&i&&t.removeChild(i)},SummaryPage.prototype.curr=function(){var e="";switch(this.shoppingBag.currency){case"TRY":e="TL";break;case"USD":e="$";break;default:e=this.shoppingBag.currency}return e},SummaryPage}();t.default=a}).call(t,i(6))},5151:function(e,t,i){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=i(12),n=function(){function ProductPages(e){_classCallCheck(this,ProductPages),this.handleNextClick=this.handleNextClick.bind(this),this.handlePrevClick=this.handlePrevClick.bind(this),this.id=e,this.qLine=document.querySelector("#id_"+this.id),this.products=this.qLine.querySelectorAll(".js-productItem"),this.paginationWrapper=this.qLine.querySelector(".paymentCard-pagination"),this.pageWrapper=this.qLine.querySelector(".paymentCard-paginationList"),this.previousPageButton=this.qLine.querySelector(".paymentCard-paginationLeft"),this.nextPageButton=this.qLine.querySelector(".paymentCard-paginationRight"),this.onPageChange=null}return ProductPages.prototype.initProductPages=function(){var e=this;this.paginationWrapper&&(this.productsPerPage=this.getProductsPerPage(),this.totalPage=Math.ceil(this.products.length/this.productsPerPage),(0,r.forEach)(this.products,function(e){return e.show()}),this.productsPerPage>=this.products.length?(this.paginationWrapper.style.display="none",(0,r.forEach)(this.products,function(t,i){t.setAttribute("data-page",Math.ceil((i+1)/e.productsPerPage))})):(this.paginationWrapper.style.display="block",(0,r.forEach)(this.products,function(t,i){t.setAttribute("data-page",Math.ceil((i+1)/e.productsPerPage)),i+1>e.productsPerPage&&t.hide()}),this.createPaginationItems(),this.bindPrevButtonClick(),this.bindNextButtonClick(),this.triggerPageChange()))},ProductPages.prototype.createPaginationItems=function(){var e=this;this.removeAllItems();for(var t=0;t<this.totalPage;t++)!function(t){var i=t+1,r=e.createPaginationItem(i);r.addEventListener("click",function(){e.handlePageChange(i)}),e.pageWrapper.appendChild(r)}(t)},ProductPages.prototype.createPaginationItem=function(e){var t=document.createElement("li");t.className=1===e?"paymentCard-paginationListItem active":"paymentCard-paginationListItem",t.setAttribute("data-page",e);var i=String.prototype.locale?"Page".locale():"Page",r=document.createElement("button");return r.className="paymentCard-paginationListButton",r.setAttribute("type","button"),r.innerText=e,r.setAttribute("aria-label",i+" "+e),t.appendChild(r),t},ProductPages.prototype.removeAllItems=function(){(this.pageWrapper.querySelectorAll(".paymentCard-paginationListItem")||[]).forEach(function(e){return e.remove()})},ProductPages.prototype.getActivePage=function(){return this.pageWrapper.querySelector(".paymentCard-paginationListItem.active")},ProductPages.prototype.getActivePageNumber=function(){var e=this.getActivePage();return e?parseInt(e.getAttribute("data-page"),10):null},ProductPages.prototype.updateButtonStatus=function(e){1===e?((0,r.addClass)(this.previousPageButton,"disabled"),this.previousPageButton.setAttribute("disabled","disabled"),(0,r.removeClass)(this.nextPageButton,"disabled"),this.nextPageButton.removeAttribute("disabled")):e===this.totalPage?((0,r.removeClass)(this.previousPageButton,"disabled"),this.previousPageButton.removeAttribute("disabled"),(0,r.addClass)(this.nextPageButton,"disabled"),this.nextPageButton.setAttribute("disabled","disabled")):((0,r.removeClass)(this.previousPageButton,"disabled"),this.previousPageButton.removeAttribute("disabled"),(0,r.removeClass)(this.nextPageButton,"disabled"),this.nextPageButton.removeAttribute("disabled"))},ProductPages.prototype.bindPrevButtonClick=function(){this.previousPageButton.removeEventListener("click",this.handlePrevClick),this.previousPageButton.addEventListener("click",this.handlePrevClick)},ProductPages.prototype.bindNextButtonClick=function(){this.nextPageButton.removeEventListener("click",this.handleNextClick),this.nextPageButton.addEventListener("click",this.handleNextClick)},ProductPages.prototype.handlePrevClick=function(){var e=this.getActivePageNumber();e&&this.handlePageChange(e-1)},ProductPages.prototype.handleNextClick=function(){var e=this.getActivePageNumber();e&&this.handlePageChange(e+1)},ProductPages.prototype.handlePageChange=function(e){var t=this.qLine.querySelector('.paymentCard-paginationListItem[data-page="'+e+'"]');t&&(this.changeActivePage(this.getActivePage(),t),this.updateProductList(e),this.updateButtonStatus(e),this.triggerPageChange())},ProductPages.prototype.updateProductList=function(e){var t=this;this.products.forEach(function(i,r){i.style.display=r<(e-1)*t.productsPerPage||r+1>e*t.productsPerPage?"none":"block"})},ProductPages.prototype.changeActivePage=function(e,t){(0,r.removeClass)(e,"active"),(0,r.addClass)(t,"active")},ProductPages.prototype.getProductsPerPage=function(){if(document.querySelector(".isMobile"))return this.products.length;var t=e.getComputedStyle(this.paginationWrapper).display;this.paginationWrapper.style.display="block";var i=this.getAvaibleMaxHeight(this.qLine.querySelector(".products"),".jfCard-question");this.paginationWrapper.style.display=t;var r=Array.from(this.products).reduce(function(t,i){var r=parseInt(e.getComputedStyle(i).height,10);return r>t?r:t},0),n=parseInt(i/r,10)||1;return parseInt(n,10)>0?n:1},ProductPages.prototype.getAvaibleMaxHeight=function(e,t){var i=this;if(t&&e.matches(t)||!e.parentElement)return this.getStopNodeInnerHeight(e);var r=this.getElementSiblings(e),n=r.reduce(function(e,t){return e+i.getSiblingHeight(t)},0);return this.getAvaibleMaxHeight(e.parentElement,t)-(this.getNodeMarginAndPadding(e)+n)},ProductPages.prototype.getElementSiblings=function(e){return Array.from(e.parentElement.childNodes).filter(function(e){return function(t){return t!==e}}(e))},ProductPages.prototype.getSiblingHeight=function(e){return this.getStyleSum(e,["height","marginTop","marginBottom"])},ProductPages.prototype.getNodeMarginAndPadding=function(e){return this.getStyleSum(e,["marginTop","marginBottom","paddingTop","paddingBottom"])},ProductPages.prototype.getStopNodeInnerHeight=function(e){return this.getStyleSum(e,["maxHeight"])-this.getStyleSum(e,["paddingTop","paddingBottom"])},ProductPages.prototype.getStyleSum=function(t,i){var r=e.getComputedStyle(t);return i.reduce(function(e,t){return e+(parseInt(r[t],10)||0)},0)},ProductPages.prototype.setOnPageChange=function(e){this.onPageChange=e},ProductPages.prototype.triggerPageChange=function(){this.onPageChange&&this.onPageChange()},ProductPages}();t.default=n}).call(t,i(6))},5152:function(e,t,i){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=i(12),n=function(){function Donation(e,t){_classCallCheck(this,Donation),this.id=e,this.currency=t,this.questionWrapper=document.querySelector("#id_"+this.id),this.donationField=this.questionWrapper.querySelector('input[id*="_donation"]'),this.donationSpecial=this.questionWrapper.querySelector(".donation-special"),this.suggestions=this.questionWrapper.querySelectorAll(".js-donation-suggestion"),this.donationFieldOverlay=this.questionWrapper.querySelector(".js-donation-overlay"),this.onSuggestionChange=this.onSuggestionChange.bind(this),this.onDonationFieldChange=this.onDonationFieldChange.bind(this),this.onOverlayClick=this.onOverlayClick.bind(this)}return Donation.prototype.initDonation=function(){var e=this;this.suggestions.forEach(function(t){t.addEventListener("change",e.onSuggestionChange)}),this.donationField.addEventListener("change",this.onDonationFieldChange),this.donationField.addEventListener("keyup",this.onDonationFieldChange),this.donationFieldOverlay&&(this.donationFieldOverlay.addEventListener("click",this.onOverlayClick),this.donationFieldOverlay.addEventListener("keypress",function(e){32===e.keyCode&&e.target.click()}))},Donation.prototype.onSuggestionChange=function(e){var t=e.target;this.openOverlay(),this.donationField.value=t.value.replace(/[^.0-9]+/g,""),(0,r.triggerEvent)(this.donationField,"change")},Donation.prototype.onDonationFieldChange=function(e){var t=e.target,i=t.value;this.suggestions.forEach(function(e){var t=e;t.checked=t.value===i})},Donation.prototype.onOverlayClick=function(){this.closeOverlay(),this.resetDonationField(),this.donationField.focus()},Donation.prototype.resetDonationField=function(){this.donationField.value="",(0,r.triggerEvent)(this.donationField,"change")},Donation.prototype.openDonationField=function(){(0,r.addClass)(this.donationSpecial,"donation-special--active")},Donation.prototype.closeDonationField=function(){(0,r.removeClass)(this.donationSpecial,"donation-special--active")},Donation.prototype.openOverlay=function(){(0,r.removeClass)(this.donationSpecial,"donation-special--active")},Donation.prototype.closeOverlay=function(){(0,r.addClass)(this.donationSpecial,"donation-special--active")},Donation}();t.default=n},5153:function(e,t,i){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),n=i(12),o=function(){function Address(e){_classCallCheck(this,Address),this.cards=e.cards,this.layoutParams=e.layoutParams,this.setFieldIsFilledIfHasValue=e.setFieldIsFilledIfHasValue,this.updateFeedbackEmbedHeight=e.updateFeedbackEmbedHeight,this.autocompleteFields=[],this.addressTypeSuffixMap={country:"country",administrative_area_level_1:"state",postal_code:"postal",locality:"city",street:"addr_line1",street2:"addr_line2",searchField:"addr_search"},this.countrySpecifications={TR:"city",GB:"postal_town",DE:"locality"},this.init=this.init.bind(this),this.getClearField=this.getClearField.bind(this),this.convertToClean=this.convertToClean.bind(this),this.getPacContainer=this.getPacContainer.bind(this),this.getQuestionCard=this.getQuestionCard.bind(this),this.bindPacContainer=this.bindPacContainer.bind(this),this.showHiddenFields=this.showHiddenFields.bind(this),this.handleSafariProcess=this.handleSafariProcess.bind(this),this.getQuestionContainer=this.getQuestionContainer.bind(this),this.setPacContainerState=this.setPacContainerState.bind(this),this.clearAddressSubFields=this.clearAddressSubFields.bind(this),this.createPacAdditionItem=this.createPacAdditionItem.bind(this),this.handleGeocodingResult=this.handleGeocodingResult.bind(this),this.bindAutocompleteEvents=this.bindAutocompleteEvents.bind(this),this.handleAutocompleteResult=this.handleAutocompleteResult.bind(this),this.AutocompleteAPI?this.init():this.convertToClean()}return Address.prototype.getPacContainer=function(e){var t=Object.keys(e).filter(function(t){var i=e[t];return i&&i.classList&&i.classList.contains("pac-container")})[0];return t?e[t]:{}},Address.prototype.handleGeocodingResult=function(e,t){var i=this,r=t.address_components.filter(function(e){return"postal_code"===e.types[0]})[0];if(r&&r.long_name){var n=new RegExp(".*(?=,.*"+r.long_name+")"),o=t.formatted_address.match(n)[0];this.setAddressFieldValue(e,"street",o)}this.handleSafariProcess(function(){return i.handleAddressComponents(e,t.address_components)})},Address.prototype.showHiddenFields=function(e){var t=this;this.getQuestionContainer(e).classList.remove("jfAddress-clean"),setTimeout(function(){t.updateFeedbackEmbedHeight()},250)},Address.prototype.bindAutocompleteEvents=function(){var t=this;this.autocompleteFields.forEach(function(i){var r=i.id,n=i.field,o=i.clearField,a=i.autocomplete,s=i.geolocationField;t.bindPacContainer(r,n,a),a.addListener("place_changed",function(){var e=Object.keys(a.gm_accessors_.place)[0],i=a.gm_accessors_.place[e].gm_accessors_.input[e],o=t.getPacContainer(i);t.setPacContainerState(o),t.handleAutocompleteResult(r,n,a.getPlace())}),o.addEventListener("keypress",function(e){32===e.keyCode&&e.target.click()}),o.addEventListener("click",function(){t.clearAddressSubFields(r),t.setAddressFieldValue(r,"searchField","")});var l=!1;t.GeocoderAPI&&t.PositionAPI&&s&&(s.addEventListener("keypress",function(e){32===e.keyCode&&e.target.click()}),s.addEventListener("click",function(){!0!==l&&(l=!0,s.classList.add("isLoading"),e.navigator.geolocation.getCurrentPosition(function(i){var n=new t.PositionAPI(i.coords.latitude,i.coords.longitude);new Promise(function(e,i){(new t.GeocoderAPI).geocode({location:n},function(t,r){return l=!1,"OK"===r?e(t):i(r)})}).then(function(e){t.showHiddenFields(r),t.clearAddressSubFields(r);var i=e[0];s.classList.remove("isLoading"),t.setAddressFieldValue(r,"searchField",i.formatted_address),t.handleGeocodingResult(r,i)}).catch(function(t){switch(s.classList.remove("isLoading"),t){case"ZERO_RESULTS":case"OVER_QUERY_LIMIT":case"REQUEST_DENIED":case"INVALID_REQUEST":case"UNKNOWN_ERROR":case"ERROR":default:e.alert("error while fecthing location")}})}))}))})},Address.prototype.bindPacContainer=function(e,t,i){var r=this;if(!i||!i.gm_accessors_||!i.gm_accessors_.place)return setTimeout(function(){return r.bindPacContainer(e,t,i)},250);var n=Object.keys(i.gm_accessors_.place)[0],o=i.gm_accessors_.place[n].gm_accessors_.input[n],a=this.getPacContainer(o),s=this.getQuestionCard(e),l=s.cardContainer,d=this.createPacAdditionItem(a,l,e);a.classList.add("jfAddress-itemReady"),a.appendChild(d);var c=function togglePacContainer(e){a.classList.contains("hasPreviousSelection")&&(e.target.removeEventListener("focus",togglePacContainer),e.target.removeEventListener("blur",togglePacContainer))};if("mobile"===this.layoutParams.deviceType){var u=l.querySelector(".jfAddress-search");u&&u.appendChild(a)}t.addEventListener("focus",c),t.addEventListener("blur",c)},Address.prototype.setPacContainerState=function(e){e.classList.add("hasPreviousSelection")},Address.prototype.clearAddressSubFields=function(e){var t=this;Object.keys(this.addressTypeSuffixMap).forEach(function(i){return"searchField"!==i&&t.setAddressFieldValue(e,i,"")})},Address.prototype.handleAutocompleteResult=function(e,t,i){var r=this;if(this.clearAddressSubFields(e),t.blur(),t.classList.remove("form-validation-error","validate[required]"),this.showHiddenFields(e),i.address_components)this.handleSafariProcess(function(){var t=!!i.adr_address&&i.adr_address.match(/<span class="street-address">(.*?)<\/span>/);if(t&&t[1]){var n=r.handleRelativity(i.name,t[1]),o=t[1];n<.5?o=i.name+", "+t[1]:i.name.length>=t[1]&&(o=i.name),r.setAddressFieldValue(e,"street",o)}else r.setAddressFieldValue(e,"street",i.name);var a=!!i.adr_address&&i.adr_address.match(/<span class="extended-address">(.*?)<\/span>/);a&&a[1]&&r.setAddressFieldValue(e,"street2",a[1]),r.handleAddressComponents(e,i.address_components),r.validateInputsAgain(e)});else if(i.name){var n=new this.GeocoderAPI,o=new Promise(function(e,t){return n.geocode({address:i.name},function(i,r){if("OK"===r)return e(i);t(r)})});o.then(function(t){return r.handleGeocodingResult(e,t[0])}).catch(function(){r.handleSafariProcess(function(){r.setAddressFieldValue(e,"street",i.name)})})}},Address.prototype.validateInputsAgain=function(e){this.getQuestionCard(e).cardContainer.querySelectorAll('*[class*="validate"]').forEach(function(e){e.validateInput&&e.validateInput()})},Address.prototype.handleRelativity=function(e,t){if(e===t)return 1;var i=e.split(" "),r=0;return i.forEach(function(e){return-1!==t.indexOf(e)&&r++}),r/i.length},Address.prototype.handleSafariProcess=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:450;return this.isSafari?setTimeout(e,t):e()},Address.prototype.handleAddressComponents=function(e,t){var i=this;t.forEach(function(t){var r=t.types;r&&r[0]&&i.addressTypeSuffixMap[t.types[0]]&&i.setAddressFieldValue(e,t.types[0],t.long_name)}),this.adaptCityState(e,t)},Address.prototype.getGeolocationField=function(e){return document.querySelector("#cid_"+e+" .jfAddress-geolocation")},Address.prototype.getClearField=function(e){return document.querySelector("#cid_"+e+" .jfAddress-clear")},Address.prototype.getQuestionCard=function(e){return this.cards.filter(function(t){return t.question.id===e})[0]||{}},Address.prototype.getQuestionContainer=function(e){var t=this.isFullScreen?this.fullScreenContainer:this.getQuestionCard(e).cardContainer;return t&&t.querySelector&&t.querySelector(".jfQuestion-fields")},Address.prototype.init=function(){var e=this;this.autocompleteFields=this.searchFields.map(function(t){var i=t.getAttribute("data-qid").match(/\d+/)[0];return{id:i,field:t,clearField:e.getClearField(i),autocomplete:new e.AutocompleteAPI(t),geolocationField:e.getGeolocationField(i)}}),this.bindAutocompleteEvents()},Address.prototype.convertToClean=function(){var e=this;this.searchFields.forEach(function(t){var i=t.getAttribute("data-qid").match(/\d+/)[0],r=e.getQuestionContainer(i);r&&r.classList&&(r.classList.remove("jfAddress-clean"),r.classList.remove("jfAddress-doubleColumn")),t&&t.remove&&t.remove()})},Address.prototype.createPacAdditionItem=function(t,i,r){var n=this,o=e.document.createElement("div");o.className="pac-item pac-item-ghost pac-item-appended";var a=e.document.createElement("span");a.className="pac-icon pac-item-ghost pac-icon-marker";var s=e.document.createElement("span");return s.className="pac-item-query pac-item-ghost",s.innerHTML="Enter Manually",o.appendChild(a),o.appendChild(s),o.addEventListener("mousedown",function(e){if(e.target&&e.target.classList.contains("pac-item-ghost")){e.stopImmediatePropagation();var o=i&&i.querySelector(".jfAddress-clean");o&&(n.setPacContainerState(t),o.classList.remove("jfAddress-clean")),n.handleSafariProcess(function(){n.setAddressFieldValue(r,"street",document.getElementById("input_"+r+"_addr_search").value)})}}),o},Address.prototype.setAddressFieldValue=function(e,t,i){var r=this.addressTypeSuffixMap[t],o=this.getQuestionContainer(e),a=o.querySelector("#input_"+e+"_"+r);if(a){if(a.value=i,this.setFieldIsFilledIfHasValue(a),"postal_code"===t){var s=(0,n.closest)(a,".form-line");s&&(0,n.triggerEvent)(s,"change")}if("SELECT"===a.tagName){var l=o.querySelector('[data-type="'+r+'"] input');l&&(l.value=i,(0,n.triggerEvent)(a,"change"))}}},Address.prototype.adaptCityState=function(e,t){var i={country:"",city:"",postalTown:"",district:"",sublocality:"",locality:""},r=document.getElementById("input_"+e+"_city");t.filter(function(e){return e.types}).forEach(function(e){switch(e.types[0]){case"country":i[e.types[0]]=e.short_name;break;case"postal_town":i.postalTown=e.long_name;break;case"administrative_area_level_2":i.city=e.long_name;break;case"sublocality_level_1":i.sublocality=e.long_name;break;case"locality":i.locality=e.long_name;break;default:""===i.district&&(e.types.indexOf("locality")>-1?i.district=e.long_name:e.types.indexOf("administrative_area_level_3")>-1&&(i.district=e.long_name))}});var n=i.country,o=i.city,a=i.postalTown,s=i.sublocality,l=i.locality,d=i.district;if(""!==s&&""===d&&(d=s),n in this.countrySpecifications)switch(this.countrySpecifications[n]){case"city":""!==o?r.value=o:""!==d&&(r.value=d);break;case"postal_town":void 0===a&&""===a||(r.value=a);break;case"locality":void 0===l&&""===l||(r.value=l)}else""!==d&&""===r.value&&(r.value=d);this.setFieldIsFilledIfHasValue(r)},r(Address,[{key:"googleMapsAPI",get:function(){return e.google&&e.google.maps}},{key:"placesAPI",get:function(){return this.googleMapsAPI&&this.googleMapsAPI.places}},{key:"AutocompleteAPI",get:function(){return this.placesAPI&&this.placesAPI.Autocomplete}},{key:"GeocoderAPI",get:function(){return this.googleMapsAPI&&this.googleMapsAPI.Geocoder}},{key:"PositionAPI",get:function(){return this.googleMapsAPI&&this.googleMapsAPI.LatLng}},{key:"searchFields",get:function(){var t=e.document.querySelectorAll(".form-address-search");return 0!==t.length?Object.values(t).filter(function(e){return e.tagName&&"INPUT"===e.tagName&&e.getAttribute("data-qid")}):[]}},{key:"isSafari",get:function(){return e.navigator.vendor&&e.navigator.vendor.indexOf("Apple")>-1&&e.navigator.userAgent&&!e.navigator.userAgent.match("CriOS")}},{key:"isFullScreen",get:function(){return(0,n.hasClass)(document.body,"isFullScreen")}},{key:"fullScreenContainer",get:function(){var e=document.querySelector("#jfQuestion-proxy");return e||{}}}]),Address}();t.default=o}).call(t,i(6))},5154:function(e,t,i){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=i(12),n=i(4978),o=function(e){return e&&e.__esModule?e:{default:e}}(n),a=function(){function Matrix(t){_classCallCheck(this,Matrix),this.init=this.init.bind(this),this.selectNextQuestion=t.selectNextQuestion,this.isFeedbackEmbedButton=t.isFeedbackEmbedButton,this.question=t.question,this.sliders=[],this.matrixContainer=e.document.querySelector("#matrix_"+this.question.id),this.dataType=this.matrixContainer.getAttribute("data-type"),this.init()}return Matrix.prototype.init=function(){var e=this.dataType,t=this.matrixContainer,i=this.question;switch(e){case"Slider":case"Emoji Slider":this.handleSliders(t);break;case"Yes No":this.handleToggles(i,t)}},Matrix.prototype.handleToggles=function(e,t){var i=this;(0,r.forEach)(t.querySelectorAll(".forMobile .jfMatrix-choiceWrapper"),function(e){i.initMobileYesNoButtons(t,e)})},Matrix.prototype.handleSliders=function(e){var t=this,i=function(e,i){var r=t.sliders[e],n=t.sliders.length/2,o=r.isDesktopSlider,a=o?e+n:e-n,s=t.sliders[a];s.slider.setRange(i),s.slider.setFilled()},n=e.querySelectorAll(".jfMatrixInputList-item");(0,r.forEach)(n,function(e,n){var a=(0,r.closest)(e,".jfMatrix"),s=(0,r.hasClass)(a,"forDesktop"),l=new o.default({container:e,onChange:function(e){return i(n,e.value)}}),d={isDesktopSlider:s,slider:l,index:n};t.sliders.push(d)}),this.initMobileSliderButtons(e)},Matrix.prototype.initMobileSliderButtons=function(e){var t=e.querySelector(".slider"),i=e.querySelector(".jfMobileMatrix-nextRow"),n=e.querySelector(".jfMobileMatrix-prevRow"),o=(0,r.map)(e.querySelectorAll(".jfMobileMatrix-row"),function(e){return e}),a=(0,r.map)(e.querySelectorAll(".jfMobileMatrix-columnDot"),function(e){return e}),s=o.length,l=e.querySelector(".jfMobileMatrix-row.isSelected"),d=o.findIndex(function(e){return e===l});-1!==d&&a[d]&&((0,r.addClass)(a[d],"isActive"),a[d].removeAttribute("aria-hidden"));var c=(0,r.map)(t.querySelectorAll(".jfMatrixInputList-item"),function(e){return e});i.addEventListener("click",function(){var e=d+1;if(e!==s){var t=o[e];(0,r.addClass)(t,"isSelected"),(0,r.removeClass)(l,"isSelected"),e>0&&(n.disabled=!1),e+1===s&&(i.disabled=!0),(0,r.removeClass)(a[d],"isActive"),a[d].setAttribute("aria-hidden","true"),(0,r.addClass)(a[e],"isActive"),a[e].removeAttribute("aria-hidden"),(0,r.removeClass)(c[e],"isHidden"),c[e].removeAttribute("aria-hidden"),(0,r.addClass)(c[d],"isHidden"),c[d].setAttribute("aria-hidden","true"),l=t,d=e}}),n.addEventListener("click",function(){if(0!==d){var e=d-1,t=o[e];(0,r.addClass)(t,"isSelected"),(0,r.removeClass)(l,"isSelected"),0===e&&(n.disabled=!0),e>=s&&(i.disabled=!0),e<s-1&&(i.disabled=!1),(0,r.removeClass)(c[e],"isHidden"),c[e].removeAttribute("aria-hidden"),(0,r.addClass)(c[d],"isHidden"),c[d].setAttribute("aria-hidden","true"),(0,r.removeClass)(a[d],"isActive"),a[d].setAttribute("aria-hidden","true"),(0,r.addClass)(a[e],"isActive"),a[e].removeAttribute("aria-hidden"),l=t,d=e}})},Matrix.prototype.initMobileYesNoButtons=function(e,t){var i=this,r=t.querySelector(".jsMatrix-mobileYes"),n=t.querySelector(".jsMatrix-mobileNo"),o=void 0,a=e.querySelectorAll(".forMobile .jfMatrix-choiceWrapper").length,s=function(t){var r=parseInt(e.querySelector(".forMobile .jfMatrix-choiceWrapper.isActive").getAttribute("data-order"),10);if(t!==o){o=t,r<a-1&&setTimeout(function(){e.querySelector(".forMobile .jfMobileMatrix-nextRow.forMatrixNext").click()},300);r+1===a&&i.isFeedbackEmbedButton&&(clearTimeout(i.autoNextTimer),i.autoNextTimer=setTimeout(function(){i.selectNextQuestion()},500))}};r.addEventListener("change",function(){s(!0)}),n.addEventListener("change",function(){s(!1)})},Matrix}();t.default=a}).call(t,i(6))},5155:function(e,t,i){"use strict";(function(e){function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),o=i(5156),a=_interopRequireDefault(o),s=i(4734),l=i(12),d=i(5157),c=i(4979),u=_interopRequireDefault(c),h=function(){function Email(e){var t=this;_classCallCheck(this,Email);var i=e.cardContainer;this.question=e.question,this.formID=e.formID,this.showTooltip=e.showTooltip,this.removeTooltip=e.removeTooltip,this.layoutElements={cardContainer:i},this.getLayoutElements=this.getLayoutElements.bind(this),this.getLayoutElements(Email.defaultSelectors),this.onTypingFinished=this.onTypingFinished.bind(this),this.handleInputEvent=this.handleInputEvent.bind(this),this.handleConfirmationInputEvent=this.handleConfirmationInputEvent.bind(this),this.resetTimer=this.resetTimer.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.validateField=this.validateField.bind(this),this.onVerificationFail=this.onVerificationFail.bind(this),this.setVerificationButtonStatus=this.setVerificationButtonStatus.bind(this),this.saveVerificationCodeInfo=this.saveVerificationCodeInfo.bind(this),this.loadVerificationCodeInfo=this.loadVerificationCodeInfo.bind(this),this.deleteVerificationCodeInfo=this.deleteVerificationCodeInfo.bind(this),this.clearVerificationCodeInfo=this.clearVerificationCodeInfo.bind(this),this.isVerificationCodeFresh=this.isVerificationCodeFresh.bind(this),this.startVerificationMode=this.startVerificationMode.bind(this),this.hasVerificationArea&&(this.initVerificationArea=this.initVerificationArea.bind(this),this.initVerificationArea(),setTimeout(function(){window.JotForm.isEditMode()&&t.finishVerificationStep()},800));var r=this.layoutElements,n=r.primaryInput,o=r.confirmationInput;n.addEventListener("input",this.handleInputEvent),n.addEventListener("keydown",this.handleKeyDown),this.setMode=this.setMode.bind(this),this.setVerificationStatus=this.setVerificationStatus.bind(this),this.state={mode:"questionMode"},n.overridenValidateInput=this.validateField,this.hasValidation("Email_Confirm")&&(o.addEventListener("input",this.handleConfirmationInputEvent),o.overridenValidateInput=this.validateField),this.setMode(this.state.mode),this.useTooltip=!0,this.acceptedDomains&&this.moveSuggestionDropdownToBody(),this.storageEngine=new u.default({adapter:"localstorage"})}return Email.prototype.getLayoutElements=function(e){var t=this;(0,l.forEach)(Object.keys(e),function(i){var r=e[i],n=t.layoutElements[r.parent];t.layoutElements[i]=n?n.querySelector(r.selector):void 0})},Email.prototype.initVerificationArea=function(){var e=this,t=this.layoutElements,i=t.emailVerificationArea,r=t.sendVerificationCodeButton;this.handleSendVerificationCodeButton=this.handleSendVerificationCodeButton.bind(this),this.cancelVerificationStep=this.cancelVerificationStep.bind(this),this.finishVerificationStep=this.finishVerificationStep.bind(this),this.checkVerificationCode=this.checkVerificationCode.bind(this),this.resendVerificationCode=this.resendVerificationCode.bind(this),this.onVerificationSuccess=this.onVerificationSuccess.bind(this),this.verificationPrompterBox=new a.default({onFinished:this.checkVerificationCode,onSuccess:this.onVerificationSuccess,onFail:this.onVerificationFail,onResendCode:this.resendVerificationCode,onChangeEmail:function(){e._token=null,e.setMode("questionMode")},container:i}),r.addEventListener("click",this.handleSendVerificationCodeButton)},Email.prototype.setMode=function(e){var t=this.layoutElements.questionContainer,i=["questionMode","verificationMode","loadingMode"];(0,l.forEach)(i,function(e){(0,l.removeClass)(t,e)}),(0,l.addClass)(t,e),this.state=r({},this.state,{mode:e})},Email.prototype.setVerificationStatus=function(e){this.isEmailVerified=e;var t=this.layoutElements,i=t.questionContainer,r=t.primaryInput;e?(0,l.addClass)(i,"isVerifiedEmail"):(0,l.removeClass)(i,"isVerifiedEmail"),this.validateField(r)},Email.prototype.generateToken=function(e,t){var i=e.toString(),r=(new Date).getTime().toString().slice(-4),n=i.slice(-1)/1,o=t.charCodeAt(0)+n,a="JF-"+r+"-"+o;return this.saveVerificationCodeInfo(a),a},Email.prototype.isVerificationCodeFresh=function(){var e=this.loadVerificationCodeInfo();if(!e)return!1;var t=e.generatedAt;return!((new Date).getTime()-t>6e4&&(this.deleteVerificationCodeInfo(),1))},Email.prototype.saveVerificationCodeInfo=function(e){var t=JSON.stringify({token:e,generatedAt:(new Date).getTime()});this.storageEngine.set(this.localStorageKey,t)},Email.prototype.loadVerificationCodeInfo=function(){var e=null;try{e=JSON.parse(this.storageEngine.get(this.localStorageKey))}catch(e){return console.error(e),!1}return e},Email.prototype.deleteVerificationCodeInfo=function(){this.storageEngine.delete(this.localStorageKey)},Email.prototype.clearVerificationCodeInfo=function(){this.storageEngine.deleteAll("^jf_email_verification_code_"+this.formID+"_")},Email.prototype.hasValidation=function(e){return this.validations.indexOf(e)>-1},Email.prototype.closeTooltip=function(){this.removeTooltip(this.layoutElements.primaryInput)},Email.prototype.addTooltip=function(e){var t=this,i=this.layoutElements.primaryInput,r=this.emailUsername+"@"+e,n={message:"Did you mean |"+r+"|?",callback:function(){i.value=r},onClose:function(){t.useTooltip=!1}};this.showTooltip(i,n)},Email.prototype.moveSuggestionDropdownToBody=function(){var e=this.layoutElements.suggestionDropdown;e.parentNode.removeChild(e),e.style.position="fixed",document.body.appendChild(e)},Email.prototype.handleDropdownPosition=function(){var e=this.layoutElements,t=e.suggestionDropdown,i=e.primaryInput,r=i.getBoundingClientRect();t.style.top=r.bottom,t.style.left=r.left,t.style.width=r.width},Email.prototype.handleDropdownEvents=function(){var e=this;if(this.acceptedDomains){for(var t=this.handleSuggestionOptions(),i=this.layoutElements,r=i.suggestionDropdown,n=i.primaryInput,o=r.querySelector(".jfDropdown-optionList");o.hasChildNodes();)o.removeChild(o.firstChild);this.handleDropdownPosition(),document.addEventListener("click",function(t){(0,l.closest)(t.target,".jsForEmailSuggestion")||e.closeDropdown()}),(0,l.forEach)(t,function(t,i){var r=document.createElement("li"),a=e.emailUsername+"@"+t;r.setAttribute("data-value",t),r.setAttribute("key","co"+i),r.setAttribute("class","jfDropdown-optionListItem"),r.innerText=a,o.appendChild(r),r.addEventListener("click",function(t){n.value=t.target.innerHTML,t.preventDefault(),e.closeDropdown()})})}},Email.prototype.handleFuzzySearch=function(){if(!this.emailDomain||!this.emailUsername)return[];var e=this.emailDomain,t=this.suggestionList;return(0,l.fuzzySearch)(e,t)},Email.prototype.handleTooltip=function(){var e=this.handleFuzzySearch();e.length&&-1===this.suggestionList.indexOf(this.emailDomain)?this.addTooltip(e[0]):this.closeTooltip()},Email.prototype.handleSuggestionOptions=function(){var e=this.handleFuzzySearch();return e.length?e:this.suggestionList},Email.prototype.onTypingFinished=function(){var e=this.layoutElements,t=e.primaryInput,i=e.confirmationInput,r=this.hasValidation("Email_Confirm")?i.value:t.value;if(this.hasAtCharacter&&this.showSuggestions&&this.handleTooltip(),this.acceptedDomains&&this.isAcceptedDomain&&this.closeDropdown(),(0,s.isEmail)(t.value)&&r===t.value){if(this.hasError)return this.validateField(i||t);this.setVerificationButtonStatus(!0)}else this.isEmailVerificationButtonActive&&this.setVerificationButtonStatus(!1)},Email.prototype.cancelVerificationStep=function(){this._token=null,this.setMode("questionMode")},Email.prototype.finishVerificationStep=function(){this.setVerificationStatus(!0),this.setMode("questionMode"),this.verificationPrompterBox.clear(!0)},Email.prototype.startVerificationMode=function(){this.setMode("verificationMode");var e=this.layoutElements.primaryInput;this.verificationPrompterBox.setEmailAddress(e.value),this.verificationPrompterBox.layoutElements.input.focus()},Email.prototype.handleSendVerificationCodeButton=function(){var t=this;if(this.setMode("loadingMode"),this.isVerificationCodeFresh())return void this.startVerificationMode();var i=this.layoutElements.primaryInput,r=JSON.stringify({formID:e.CardForm.formID,emailAddress:i.value,token:this.token});fetch(e.CardForm.apiURL+"/sendConfirmationCodeEmail",{method:"POST",body:r}).then(function(e){e.json().then(function(e){200===e.responseCode?t.startVerificationMode():(t.setMode("questionMode"),console.error(e.message))})}).catch(function(e){e.json().then(function(e){t.setMode("questionMode"),console.error(e)})})},Email.prototype.setVerificationButtonStatus=function(e){if(this.hasVerificationArea){var t=this.layoutElements,i=t.sendVerificationCodeButton,r=t.sendVerificationCodeButtonWrapper;e?((0,l.removeClass)(r,"isPassive"),i.disabled=!1):((0,l.addClass)(r,"isPassive"),i.disabled=!0)}},Email.prototype.resendVerificationCode=function(){this._token=null,this.deleteVerificationCodeInfo(),this.handleSendVerificationCodeButton()},Email.prototype.checkVerificationCode=function(t,i){var r=this,n=this.layoutElements.primaryInput,o=JSON.stringify({formID:e.CardForm.formID,emailAddress:n.value,token:this.token,confirmationCode:t});fetch(e.CardForm.apiURL+"/verifyConfirmationCode",{method:"POST",body:o}).then(function(e){e.json().then(function(e){200===e.responseCode?(r._token=null,r.clearVerificationCodeInfo(),i(!0)):(i(!1),console.error(e.message))})}).catch(function(e){e.json().then(function(e){i(!1),console.error(e)})})},Email.prototype.onVerificationSuccess=function(){this.isEmailVerified=!0,setTimeout(this.finishVerificationStep,800)},Email.prototype.onVerificationFail=function(){},Email.prototype.closeDropdown=function(){(0,l.removeClass)(this.layoutElements.suggestionDropdown,"isOpen")},Email.prototype.openDropdown=function(){(0,l.addClass)(this.layoutElements.suggestionDropdown,"isOpen")},Email.prototype.resetTimer=function(){void 0!==this.typingTimeout&&clearTimeout(this.typingTimeout),this.typingTimeout=setTimeout(this.onTypingFinished,750)},Email.prototype.handleInputEvent=function(){this.isEmailVerified&&this.setVerificationStatus(!1),this.resetTimer(),this.hasAtCharacter&&this.acceptedDomains?(this.openDropdown(),this.handleDropdownEvents(),this.isAcceptedDomain&&this.closeDropdown()):(this.closeDropdown(),this.closeTooltip())},Email.prototype.handleConfirmationInputEvent=function(){this.resetTimer()},Email.prototype.handleKeyDown=function(e){e.key,e.keyCode},Email.prototype.validateField=function(t,i,r){if("loadingMode"!==this.state.mode){var n=r,o=!1,a=this.layoutElements,l=a.primaryInput,d=a.confirmationInput,c=l.value,u=this.hasValidation("Email_Confirm")?d.value:c,h={errorState:!1,errorMessage:""},p=(0,s.isEmail)(c);this.hasValidation("required")&&(0,s.isEmpty)(c)?h={errorState:!0,errorMessage:e.JotForm.texts.required}:(0,s.isFilled)(c)&&!p?h={errorState:!0,errorMessage:e.JotForm.texts.email}:this.hasValidation("disallowFree")&&p&&this.isFreeDomain?h={errorState:!0,errorMessage:e.JotForm.texts.freeEmailError}:p&&this.hasValidation("allowedDomains")&&!this.isAcceptedDomain?h={errorState:!0,errorMessage:"This domain is not allowed."}:this.hasValidation("Email_Confirm")&&t===d&&!(0,s.isEqual)(c,u)?h={errorState:!0,errorMessage:e.JotForm.texts.confirmEmail,targetInput:d}:p&&this.hasValidation("verificationCode")&&!this.isEmailVerified&&(o=!0,h={errorState:!0,errorMessage:e.JotForm.texts.validateEmail});var m=h,f=m.errorState,y=m.errorMessage,v=m.targetInput;return f?(this.setVerificationButtonStatus(o),e.JotForm.errored(v||l,y,n)):(this.setVerificationButtonStatus(p),e.JotForm.corrected(v||l))}},n(Email,[{key:"validations",get:function(){var t=this.layoutElements,i=t.primaryInput,r=t.confirmationInput;return[].concat(e.JotForm.getInputValidations(i),r?e.JotForm.getInputValidations(r):[]).filter(function(e,t,i){return i.indexOf(e)===t})}},{key:"token",get:function(){if(!this._token){var t=this.layoutElements.primaryInput;this.isVerificationCodeFresh()?this._token=this.loadVerificationCodeInfo().token:this._token=this.generateToken(e.CardForm.formID,t.value)}return this._token}},{key:"localStorageKey",get:function(){var e=this.layoutElements.primaryInput;return"jf_email_verification_code_"+this.formID+"_"+e.value}},{key:"emailDomain",get:function(){return!!this.hasAtCharacter&&this.layoutElements.primaryInput.value.split("@")[1]}},{key:"emailUsername",get:function(){return!!this.hasAtCharacter&&this.layoutElements.primaryInput.value.split("@")[0]}},{key:"hasDotCharacter",get:function(){return!!this.emailDomain&&this.emailDomain.indexOf(".")>-1}},{key:"hasVerificationArea",get:function(){return this.hasValidation("verificationCode")||this.hasValidation("domainCheck")}},{key:"hasAtCharacter",get:function(){return this.layoutElements.primaryInput.value.indexOf("@")>-1}},{key:"freeEmailAddresses",get:function(){return e.JotForm.freeEmailAddresses}},{key:"isFreeDomain",get:function(){if(this.emailDomain){var e=this.emailDomain;return this.freeEmailAddresses.filter(function(t){return("@"+e).indexOf("@"+t+".")>-1}).length>0}return!1}},{key:"isAcceptedDomain",get:function(){return this.acceptedDomains.indexOf(this.emailDomain)>-1}},{key:"hasError",get:function(){var e=this.layoutElements,t=e.primaryInput,i=e.confirmationInput;return t.errored||i&&i.errored}},{key:"isEmailVerificationButtonActive",get:function(){if(this.hasVerificationArea){return!this.layoutElements.sendVerificationCodeButton.disabled}}},{key:"hasSuggestion",get:function(){return!1}},{key:"providerList",get:function(){return d.MOST_USED_PROVIDERS}},{key:"acceptedDomains",get:function(){var e=this.layoutElements.primaryInput.getAttribute("data-accepted-domains");return!(!e||""===e)&&(e=e.strip().split("|").filter(function(e){return""!==e}),!!e.length&&e)}},{key:"showSuggestions",get:function(){return this.emailUsername.length>1&&!this.acceptedDomains&&this.useTooltip}},{key:"suggestionList",get:function(){var e=this,t=this.acceptedDomains?this.acceptedDomains:this.providerList;return this.hasValidation("disallowFree")&&(t=t.filter(function(t){var i=t.split(".")[0];return-1===e.freeEmailAddresses.indexOf(i)})),t}}]),Email}();h.defaultSelectors={primaryInput:{parent:"cardContainer",selector:".jfField[data-type=email] input.forEmail"},confirmationInput:{parent:"cardContainer",selector:".jfField[data-type=emailConfirmation] input.forEmail"},fieldContainer:{parent:"cardContainer",selector:".jfField"},questionContainer:{parent:"cardContainer",selector:".jfQuestion-fields"},suggestionDropdown:{parent:"cardContainer",selector:".jsForEmailSuggestion"},sendVerificationCodeButtonWrapper:{parent:"cardContainer",selector:".js-emailVerificationButtonWrapper"},sendVerificationCodeButton:{parent:"sendVerificationCodeButtonWrapper",selector:".js-emailVerificationButton"},emailVerificationArea:{parent:"cardContainer",selector:".jfEmailVerify-wrapper.js-emailVerificationArea"}},t.default=h}).call(t,i(6))},5156:function(e,t,i){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),o=i(12),a=function(){function VerificationPrompterBox(e){_classCallCheck(this,VerificationPrompterBox);var t=e.onChangeEmail,i=e.onResendCode,r=e.onFinished,n=e.onSuccess,o=e.onFail;this.functions={onChangeEmail:t,onResendCode:i,onFinished:r,onSuccess:n,onFail:o},this.handleInputEvent=this.handleInputEvent.bind(this),this.reflectOnPrompter=this.reflectOnPrompter.bind(this),this.setEmailAddress=this.setEmailAddress.bind(this),this.onResendCode=this.onResendCode.bind(this),this.onChangeEmail=this.onChangeEmail.bind(this),this.verificationCallback=this.verificationCallback.bind(this),this.clear=this.clear.bind(this),this.setLayoutElements.bind(this),this.init=this.init.bind(this),this.setLayoutElements(e),this.init()}return VerificationPrompterBox.prototype.setLayoutElements=function(e){var t=e.container,i=r({},this.defaultSelectors,e.selectors||{});this.layoutElements={container:t,input:t.querySelector(i.input),prompter:t.querySelector(i.prompter),successIcon:t.querySelector(i.successIcon),failIcon:t.querySelector(i.failIcon),changeEmailButton:t.querySelector(i.changeEmailButton),resendCodeButton:t.querySelector(i.resendCodeButton),emailAddressContainer:t.querySelector(i.emailAddressContainer)}},VerificationPrompterBox.prototype.init=function(){var e=this.layoutElements,t=e.resendCodeButton,i=e.failIcon,r=e.changeEmailButton;e.input.addEventListener("input",this.handleInputEvent),t.addEventListener("click",this.onResendCode),i.addEventListener("click",this.clear),r.addEventListener("click",this.onChangeEmail)},VerificationPrompterBox.prototype.setEmailAddress=function(e){this.layoutElements.emailAddressContainer.innerHTML=e},VerificationPrompterBox.prototype.clear=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.layoutElements,r=i.successIcon,n=i.failIcon,a=i.input;t&&((0,o.removeClass)(r,"isVisible"),(0,o.removeClass)(n,"isVisible")),e&&(a.setValue(""),this.reflectOnPrompter(""),a.focus()),a&&(0,o.removeClass)(a,"validate[required]")},VerificationPrompterBox.prototype.onChangeEmail=function(){this.clear(!0,!0),this.functions.onChangeEmail()},VerificationPrompterBox.prototype.onResendCode=function(){this.clear(!0,!0),this.functions.onResendCode()},VerificationPrompterBox.prototype.reflectOnPrompter=function(e){for(var t=this.layoutElements.prompter,i=e,r=e.length;r<4;r++)i+="<span>&bull;</span>";t.innerHTML=i},VerificationPrompterBox.prototype.verificationCallback=function(e){var t=this.layoutElements,i=t.successIcon,r=t.failIcon;e?((0,o.addClass)(i,"isVisible"),this.functions.onSuccess()):((0,o.addClass)(r,"isVisible"),this.functions.onFail())},VerificationPrompterBox.prototype.handleInputEvent=function(e){var t=this.functions.onFinished,i=this.layoutElements.input;38!==e.which&&40!==e.which||e.preventDefault();var r=e.target.value;switch(r.length>4&&(r=r.substring(0,4),i.value=r),r.length){case 4:t(r,this.verificationCallback);break;default:this.clear()}this.reflectOnPrompter(r)},n(VerificationPrompterBox,[{key:"defaultSelectors",get:function(){return{input:".jfEmailVerify-inside .jfInput-input",emailAddressContainer:".jfEmailVerify span",prompter:".js-emailVerify-prompter",successIcon:".js-emailVerify-statusIcon.js-forSuccess",failIcon:".js-emailVerify-statusIcon.js-forFail",changeEmailButton:".js-changeEmail",resendCodeButton:".js-resendCode"}}}]),VerificationPrompterBox}();t.default=a},5157:function(e,t,i){"use strict";t.__esModule=!0;var r=t.MOST_USED_PROVIDERS=["aol.com","att.net","comcast.net","facebook.com","gmail.com","gmx.com","googlemail.com","google.com","hotmail.com","hotmail.co.uk","mac.com","me.com","mail.com","msn.com","live.com","sbcglobal.net","verizon.net","yahoo.com","yahoo.co.uk","email.com","fastmail.fm","games.com","gmx.net","hush.com","hushmail.com","icloud.com","iname.com","inbox.com","lavabit.com","love.com","outlook.com","pobox.com","protonmail.com","rocketmail.com","safe-mail.net","wow.com","ygm.com","ymail.com","zoho.com","yandex.com","bellsouth.net","charter.net","cox.net","earthlink.net","juno.com","btinternet.com","blueyonder.co.uk","freeserve.co.uk","live.co.uk","ntlworld.com","o2.co.uk","orange.net","sky.com","talktalk.co.uk","tiscali.co.uk","virgin.net","wanadoo.co.uk","bt.com","sina.com","qq.com","naver.com","hanmail.net","daum.net","nate.com","yahoo.co.jp","yahoo.co.kr","yahoo.co.id","yahoo.co.in","yahoo.com.sg","yahoo.com.ph","hotmail.fr","live.fr","laposte.net","yahoo.fr","wanadoo.fr","orange.fr","gmx.fr","sfr.fr","neuf.fr","free.fr","gmx.de","hotmail.de","live.de","online.de","t-online.de","web.de","yahoo.de","libero.it","virgilio.it","hotmail.it","aol.it","tiscali.it","alice.it","live.it","yahoo.it","email.it","tin.it","poste.it","teletu.it","mail.ru","rambler.ru","yandex.ru","ya.ru","list.ru","hotmail.be","live.be","skynet.be","voo.be","tvcablenet.be","telenet.be","hotmail.com.ar","live.com.ar","yahoo.com.ar","fibertel.com.ar","speedy.com.ar","arnet.com.ar","yahoo.com.mx","live.com.mx","hotmail.es","hotmail.com.mx","prodigy.net.mx","yahoo.com.br","hotmail.com.br","outlook.com.br","uol.com.br","bol.com.br","terra.com.br","ig.com.br","itelefonica.com.br","r7.com","zipmail.com.br","globo.com","globomail.com","oi.com.br","jotform.com"];t.default=r},5158:function(e,t,i){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),n=i(4978),o=function(e){return e&&e.__esModule?e:{default:e}}(n),a=function(){function EmojiSlider(e){_classCallCheck(this,EmojiSlider),this.container=e.cardContainer,this.scaleItem=this.container.querySelector(".js-emojiSlider"),this.slider=new o.default({options:this.sliderOptions,container:this.scaleItem})}return r(EmojiSlider,[{key:"sliderOptions",get:function(){return{rowSelector:".js-emojiScale",labelSelector:".js-emojiFaces",rangeSelector:".js-emojiSlider-faceList",scaleSeperatorSelector:".js-emojiScaleSep",visibleClass:"isVisible",transitionClass:"hasTransition",filledClass:"isFilled",scaleListItemSelector:".js-emojiSlider"}}}]),EmojiSlider}();t.default=a},5159:function(e,t,i){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function feedbackIframeMessager(e){_classCallCheck(this,feedbackIframeMessager),this.formID=e.formID,this.ID="JF_feedback_embed_"+this.formID+"_iframe"}return feedbackIframeMessager.prototype.init=function(){},feedbackIframeMessager.prototype.sendPostMessage=function(e){window.parent.postMessage(e,"*")},feedbackIframeMessager.prototype.setOS=function(e){this.sendPostMessage({messageType:"setOS",OS:e})},feedbackIframeMessager.prototype.setDeviceType=function(e){this.sendPostMessage({messageType:"setDeviceType",deviceType:e})},feedbackIframeMessager.prototype.updateWindowHeight=function(e){this.sendPostMessage(e)},feedbackIframeMessager}();t.default=r},5160:function(e,t,i){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var i=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=function(){function Fullscreen(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;_classCallCheck(this,Fullscreen),this.el=t||e.document.documentElement,this.request=this.request.bind(this),this.exit=this.exit.bind(this),this.toggle=this.toggle.bind(this)}return Fullscreen.prototype.request=function(){this.el.requestFullscreen?this.el.requestFullscreen():this.el.mozRequestFullScreen?this.el.mozRequestFullScreen():this.el.webkitRequestFullscreen?this.el.webkitRequestFullscreen():this.el.msRequestFullscreen&&this.el.msRequestFullscreen()},Fullscreen.prototype.exit=function(){e.document.exitFullscreen?e.document.exitFullscreen():e.document.mozCancelFullScreen?e.document.mozCancelFullScreen():e.document.mozCancelFullscreen?e.document.mozCancelFullScreen():e.document.webkitExitFullscreen?e.document.webkitExitFullscreen():e.document.msExitFullscreen&&e.document.msExitFullscreen()},Fullscreen.prototype.toggle=function(){this.fullscreenElement?this.exit():this.request()},i(Fullscreen,[{key:"fullscreenElement",get:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement||document.mozFullScreenElement||document.msFullscreenElement||null}}]),Fullscreen}();t.default=r}).call(t,i(6))},5161:function(e,t,i){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),n=function(){function OptionsBase(e){_classCallCheck(this,OptionsBase),this.layoutParams=e.layoutParams,this.cards=e.cards,this.validateCard=e.validateCard,this.isPreviewMode=e.isPreviewMode,this.init=this.init.bind(),this.bindEvents=this.bindEvents.bind(this),this.init()}return OptionsBase.prototype.init=function(){this.bindEvents()},OptionsBase.prototype.handleEvents=function(e){e.forEach(function(e){e.addEventListener("click",function(e){var t=e.currentTarget.parentNode;"radio"===e.currentTarget.getAttribute("type")?(t.closest(".jfQuestion-fields").querySelectorAll(".jfRadio").forEach(function(e){return e.setAttribute("aria-checked","false")}),t.closest(".jfQuestion-fields").querySelectorAll(".jfYesno").forEach(function(e){return e.setAttribute("aria-checked","false")}),t.setAttribute("aria-checked","true")):"checkbox"===e.currentTarget.getAttribute("type")&&t.setAttribute("aria-checked","false"===t.getAttribute("aria-checked"))}),e.parentNode.addEventListener("keydown",function(e){13!==e.keyCode&&32!==e.keyCode||"text"!==e.target.type&&e.currentTarget.click()})})},OptionsBase.prototype.bindEvents=function(){this.handleEvents(this.yesNos)},r(OptionsBase,[{key:"radios",get:function(){return document.querySelectorAll("input.jfRadio-input")}},{key:"checkboxes",get:function(){return document.querySelectorAll("input.jfCheckbox-input")}},{key:"yesNos",get:function(){return document.querySelectorAll("input.jfYesno-input")}}]),OptionsBase}();t.default=n},5162:function(e,t,i){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=i(12),n=function(){function Dropdown(e){_classCallCheck(this,Dropdown),this.layoutParams=e.layoutParams,this.cards=e.cards,this.validateCard=e.validateCard,this.isPreviewMode=e.isPreviewMode,this.bindDropdownEvents=this.bindDropdownEvents.bind(this),this.bindSearchInput=this.bindSearchInput.bind(this),this.bindClickOutside=this.bindClickOutside.bind(this),this.bindDropdownKeyEvents=this.bindDropdownKeyEvents.bind(this),this.setInitialValues=this.setInitialValues.bind(this),this.createClickEvent=this.createClickEvent.bind(this),this.bindSelectChangeEvent=this.bindSelectChangeEvent.bind(this),this.init=this.init.bind(this),this.init()}return Dropdown.prototype.init=function(){var e=this,t=document.querySelectorAll(".jfInput-dropdown");this.elementsArr=[],(0,r.forEach)(t,function(t){var i=t.querySelector(".jfDropdown-optionList"),r=i.querySelectorAll(".jfDropdown-optionListItem"),n=e.getElements(t);e.elementsArr.push(n),e.bindDropdownEvents(n,r),e.bindSearchInput(n,r),e.updatePopupPosition(n),e.movePopupListBelowButton(n)}),this.setInitialValues()},Dropdown.prototype.movePopupListBelowButton=function(e){if((0,r.hasClass)(e.dropdown,"isDrawer")){var t=e.popupContainer.parentNode;e.popupContainer.parentNode.removeChild(e.popupContainer),e.popupContainer.style.position="fixed",e.popupContainer.style.fontSize="16px",t.parentNode.insertBefore(e.popupContainer,t.nextSibling)}},Dropdown.prototype.updatePopupPosition=function(e){if((0,r.hasClass)(e.dropdown,"isDrawer")){var t=e.dropdownWrapper.getBoundingClientRect(),i=(0,r.closest)(e.dropdownWrapper,".jfCard"),n=i?i.getBoundingClientRect():null,o=e.popupContainer;n&&(window.document.documentMode?(o.style.top=t.bottom,o.style.left=t.left):(o.style.top=t.bottom-n.top,o.style.left=t.left-n.left)),o.style.width=t.width}},Dropdown.prototype.getElements=function(e){return{dropdown:e,popupListUl:e.querySelector(".jfDropdown-optionList"),popupContainer:e.querySelector(".jfDropdown-optionListWrapper"),select:e.parentNode.querySelector("select"),searchInput:e.querySelector(".jfDropdown-search"),defaultChips:e.querySelectorAll(".defaultChip"),chipContainer:e.querySelector(".jfDropdown-chipContainer"),dropdownWrapper:e.querySelector(".jfDropdown-wrapper")}},Dropdown.prototype.getList=function(e,t){for(var i=t;i.hasChildNodes();)i.removeChild(i.firstChild);(0,r.forEach)(e,function(e){i.appendChild(e)})},Dropdown.prototype.filterOptionList=function(e,t,i){var n=[],o=[];(0,r.forEach)(i.select.querySelectorAll('option[selected="true"]'),function(e){o.push(e.getAttribute("value"))});var a=(0,r.hasClass)(i.dropdown,"isMultiple");if((0,r.forEach)(t,function(t){var i=t.getAttribute("data-value");(!a||o.indexOf(i)<0)&&i.toLowerCase().indexOf(e.toLowerCase())>-1&&n.push(t)}),0===n.length){var s=t[0].cloneNode(!1);(0,r.removeClass)(s,"isSelected"),s.removeAttribute("aria-selected"),s.removeAttribute("data-value"),s.innerHTML='No Result Found For "'+e+'"',n.push(s)}return n},Dropdown.prototype.bindSearchInput=function(e,t){var i=this,n=e.searchInput,o=e.dropdown,a=n?n.placeholder||"Search":"Search",s=(0,r.hasClass)(o,"isMultiple");n&&(n.addEventListener("keyup",function(r){var n=r.target.value,o=i.filterOptionList(n,t,e);i.getList(o,e.popupListUl)}),s||(n.addEventListener("focus",function(){n.value="";var r=n.getAttribute("placeholder")||a;n.setAttribute("placeholder",r);var o=i.filterOptionList(n.value,t,e);i.getList(o,e.popupListUl),i.openDropdown(e)}),n.addEventListener("blur",function(){i.setSearchInputValue(e)})))},Dropdown.prototype.bindDropdownEvents=function(t,i){var n=this,o=t.select,a=t.dropdown,s=(0,r.hasClass)(a,"isMultiple"),l=t.searchInput;(0,r.forEach)(i,function(e){e.addEventListener("keypress",function(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),e.stopPropagation(),e.target.click())})});var d=t.defaultChips;d&&d.forEach(function(e){e.querySelector(".removeChip").addEventListener("click",function(a){var s=e.getAttribute("data-value");a.stopPropagation(),a.preventDefault();var l=[];(0,r.forEach)(i,function(e){(document.body.contains(e)||e===s)&&l.push(e)}),n.getList(l,t.popupListUl),e.remove();var d=t.popupListUl.querySelectorAll(".jfDropdown-optionListItem");(0,r.forEach)(d,function(e){e.getAttribute("data-value")===s&&(e.removeAttribute("aria-selected"),(0,r.removeClass)(e,"isSelected"))});var c=t.select.querySelectorAll('option[value="'+s+'"]');(0,r.forEach)(c,function(e){e.removeAttribute("selected")}),n.fireChangeEvent(o)})}),t.popupListUl.addEventListener("click",function(d){var c=d.target,u=c.getAttribute("data-value"),h=u===c.innerHTML?u:c.innerHTML;if(t.select.focus(),null!==u)if(s){var p=t.select.querySelectorAll('option[value="'+u.replace(/["\\]/g,"\\$&")+'"]');(0,r.forEach)(p,function(e){e.setAttribute("selected",!0)});var m=(0,r.map)(t.chipContainer.querySelectorAll(".jfDropdown-chip"),function(e){return e.getAttribute("data-value")}).indexOf(u)>-1;if(!m){var f=document.createElement("span");f.innerHTML=h+'<button class="removeChip" aria-label="Deselect '+h+'">&times;</button>',f.setAttribute("class","jfDropdown-chip"),f.setAttribute("data-value",u),t.chipContainer.appendChild(f),c.remove();var y=f.querySelector(".removeChip");y.addEventListener("click",function(e){e.stopPropagation(),e.preventDefault();var a=[];(0,r.forEach)(i,function(e){(document.body.contains(e)||e===c)&&a.push(e)}),n.getList(a,t.popupListUl),f.remove();var s=t.select.querySelectorAll('option[value="'+u+'"]');(0,r.forEach)(s,function(e){e.removeAttribute("selected")}),n.fireChangeEvent(o)}),y.addEventListener("keypress",function(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),e.stopPropagation(),y.click())}),n.fireChangeEvent(o)}}else{(0,r.forEach)(i,function(e){e.removeAttribute("aria-selected"),(0,r.removeClass)(e,"isSelected")}),c.setAttribute("aria-selected",!0),(0,r.addClass)(c,"isSelected");var v=o.querySelector('option[value="'+u.replace(/["\\]/g,"\\$&")+'"]');(0,r.forEach)(o.querySelectorAll("option"),function(e){e.removeAttribute("selected")}),v&&v.setAttribute("selected",!0),o.value=u,n.closeDropdown(t);var g=a.querySelector(".isSingle");g.innerHTML=h,l&&(l.value=h.replace("&amp;","&")),(0,r.hasClass)(o,"form-subproduct-option")&&void 0!==e.PaymentStock&&e.PaymentStock.handleStockManagement(),n.fireChangeEvent(o)}}),t.dropdownWrapper.addEventListener("click",function(e){if(!t.select.hasAttribute("disabled")){if(e.preventDefault(),t.select.focus(),n.isPopupOpen(t)&&l)return void l.focus();n.isPopupOpen(t)?n.closeDropdown(t):n.openDropdown(t)}}),a.addEventListener("keydown",function(e){return n.bindDropdownKeyEvents(e,t)},!0),document.addEventListener("click",function(e){return n.bindClickOutside(e,t)}),a.addEventListener("blur",function(){return n.closeDropdown(t)}),window.addEventListener("resize",function(){return n.closeDropdown(t)}),((0,r.closest)(a,".jfProductModule-wrapper","jfCard-question")||(0,r.closest)(a,".jfQuestion-fields","jfCard-question")).addEventListener("scroll",function(){return n.scrollParent(t)}),t.select.addEventListener("change",function(){return n.bindSelectChangeEvent(t)})},Dropdown.prototype.bindClickOutside=function(e,t){if(this.isPopupOpen(t)){var i=(0,r.hasClass)(t.dropdown,"isMultiple"),n=t.searchInput;t.dropdownWrapper.contains(e.target)||t.popupContainer.contains(e.target)||(this.closeDropdown(t),!i&&n&&this.setSearchInputValue(t))}},Dropdown.prototype.bindDropdownKeyEvents=function(e,t){var i=t.dropdown;switch(e.keyCode){case 13:this.isPopupOpen(t)&&(e.preventDefault(),e.stopPropagation(),this.selectFromKeyboard(t));break;case 32:if(this.isPopupOpen(t))i.querySelector(".jfDropdown-search")||(e.preventDefault(),e.stopPropagation(),this.selectFromKeyboard(t),this.closeDropdown(t));else{if(null!==(0,r.closest)(e.target,".jfDropdown-chipContainer"))break;e.preventDefault(),e.stopPropagation(),this.openDropdown(t)}break;case 38:e.preventDefault(),this.isPopupOpen(t)?this.moveNextPrevElement(t,"previousElementSibling"):this.openDropdown(t);break;case 40:e.preventDefault(),this.isPopupOpen(t)?this.moveNextPrevElement(t,"nextElementSibling"):this.openDropdown(t)}},Dropdown.prototype.selectFromKeyboard=function(e){var t=e.popupListUl.querySelector(".js-selected")?e.popupListUl.querySelector(".js-selected"):e.popupListUl.querySelector(".isSelected");if(t&&t.getAttribute("data-value")){(0,r.removeClass)(t,"js-selected");var i=e.searchInput;i&&i.blur(),t.click(),e.dropdown.focus()}},Dropdown.prototype.closeDropdown=function(e){e.searchInput&&this.toggleSearchInput(e,!1),(0,r.removeClass)(e.popupContainer,"isOpen"),e.popupContainer.setAttribute("aria-hidden",!0),e.dropdownWrapper.setAttribute("aria-expanded",!1),e.popupListUl.querySelectorAll(".jfDropdown-optionListItem").forEach(function(e){return e.removeAttribute("tabindex")})},Dropdown.prototype.closeAllDropdowns=function(){var e=this;this.elementsArr.forEach(function(t){return e.closeDropdown(t)})},Dropdown.prototype.isPopupOpen=function(e){return(0,r.hasClass)(e.popupContainer,"isOpen")},Dropdown.prototype.openDropdown=function(e){var t=e.searchInput;(0,r.addClass)(e.popupContainer,"isOpen"),e.popupContainer.removeAttribute("aria-hidden"),e.dropdownWrapper.setAttribute("aria-expanded",!0),e.popupListUl.querySelectorAll(".jfDropdown-optionListItem").forEach(function(e){return e.setAttribute("tabindex",0)}),t&&(this.toggleSearchInput(e,!0),t.focus()),this.updatePopupPosition(e)},Dropdown.prototype.toggleSearchInput=function(e,t){if(e.dropdown.querySelector(".isSelected")){e.chipContainer.querySelector("span").style.display=t?"none":"block";e.searchInput.style.display=t?"block":"none"}},Dropdown.prototype.moveNextPrevElement=function(e,t){var i=void 0;if("nextElementSibling"===t)i=!1;else{if("previousElementSibling"!==t)return;i=!1}var n=e.popupListUl.querySelector(".js-selected");if(n){var o=n[t];o&&((0,r.removeClass)(n,"js-selected"),(0,r.addClass)(o,"js-selected"),o.scrollIntoView(i))}else{var a=e.popupListUl.querySelector(".isSelected");if(a){var s=a[t];s&&((0,r.addClass)(s,"js-selected"),s.scrollIntoView(i))}else{var l=e.popupListUl.querySelector(".jfDropdown-optionListItem");l&&((0,r.addClass)(l,"js-selected"),l.scrollIntoView(i))}}},Dropdown.prototype.scrollParent=function(e){this.isPopupOpen(e)&&((0,r.isVisible)(e.dropdown)?this.updatePopupPosition(e):this.closeDropdown(e))},Dropdown.prototype.setSearchInputValue=function(e){var t=e.select,i=e.select,r=i.selectedIndex,n=i.value,o=e.searchInput,a=t[r].innerHTML;o.value=a||n||""},Dropdown.prototype.fireChangeEvent=function(e){var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!0),e.dispatchEvent(t)},Dropdown.prototype.setInitialValues=function(){var e=this;this.elementsArr.forEach(function(t){var i=t.dropdown;if((0,r.hasClass)(i,"isMultiple")){var n=(0,r.map)(t.select.querySelectorAll("option"),function(e){return e}).filter(function(e){return e.selected&&""!==e.innerText});n.length&&n.map(function(e){return e.getAttribute("value")}).forEach(function(i){var n=(0,r.map)(t.popupListUl.querySelectorAll("li"),function(e){return e}).find(function(e){return e.getAttribute("data-value")===i});n&&e.createClickEvent(n)})}else if(t.select.value){var o=(0,r.map)(t.popupListUl.querySelectorAll("li"),function(e){return e}).find(function(e,i){return e.getAttribute("data-value")===t.select.value&&0!==i});o&&e.createClickEvent(o)}})},Dropdown.prototype.createClickEvent=function(t){if(!this.layoutParams.hasTouch||this.isPreviewMode){var i=e.document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t.dispatchEvent(i)}},Dropdown.prototype.bindSelectChangeEvent=function(e){var t=e.dropdown;if((0,r.hasClass)(t,"form-validation-error")){var i=e.select.getAttribute("data-component"),n=void 0;switch(i){case"dropdown":n=e.select.id;break;default:n="input_"+e.select.id.split("_")[1]}var o=this.cards.filter(function(e){return e.question.qid===n})[0];this.validateCard(o)}var a=(0,r.hasClass)(t,"isMultiple");if(!this.layoutParams.hasTouch&&!a){var s=(0,r.map)(e.popupListUl.querySelectorAll("li"),function(e){return e}).find(function(t){return t.getAttribute("data-value")===e.select.value});s&&!(0,r.hasClass)(s,"isSelected")&&this.createClickEvent(s)}},Dropdown}();t.default=n}).call(t,i(6))},5163:function(e,t,i){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},o=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),a=i(5164),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=i(4734),d=i(12),c=function(){function Textarea(e,t,i){var r=e.cardContainer,n=e.fieldContainer,o=e.question,a=o.id,s=o.qid;_classCallCheck(this,Textarea),this.questionID=a,this.osName=i,this.browserName=t,this.commandTagMap={bold:["B","STRONG"],italic:["I","EM"],underline:["U"],insertOrderedList:["OL"],insertUnorderedList:["UL"],formatBlock:["BLOCKQUOTE"],createLink:["A"],insertImage:["IMG"],heading:["H1","H2","H3","H4","H5","H6"]},this.togglableCommands=Object.keys(this.commandTagMap),this.keyCommandMap={k:"createLink",b:"bold",i:"italic",u:"underline"},this.shortcutKey="macOS"===this.osName?"metaKey":"ctrlKey",this.preventNextKeyUp=!1,this.editorManipulationEventList=["blur","input","keyup","keydown","paste","copy","cut","delete","mouseup","textinput"],"iOS"!==this.osName?this.editorManipulationEventList=this.editorManipulationEventList.concat(["selectionchange","DOMNodeInserted","DOMNodeRemoved"]):this.editorManipulationEventList=this.editorManipulationEventList.concat(["touchend"]),this.renderType=n.getAttribute(["data-render-type"]),this.editorInput=r.querySelector("#"+s),this.limitSpan=r.querySelector("#"+s+"-limit"),this.limitSpan&&(this.maxLimit=this.limitSpan.getAttribute("data-limit"),this.minLimit=this.limitSpan.getAttribute("data-minimum"),this.limitType=this.limitSpan.getAttribute("data-limit-type"),this.limitSpan.textContent="0/"+(this.minLimit>0?this.minLimit:this.maxLimit)),this.selectionState=null,this.initEditor=this.initEditor.bind(this),this.saveSelection=this.saveSelection.bind(this),this.getActiveTags=this.getActiveTags.bind(this),this.limitValidation=this.limitValidation.bind(this),this.isCommandActive=this.isCommandActive.bind(this),this.restoreSelection=this.restoreSelection.bind(this),this.bindEditorButton=this.bindEditorButton.bind(this),this.handleKeydownEvent=this.handleKeydownEvent.bind(this),this.setHtmlFromMarkdown=this.setHtmlFromMarkdown.bind(this),this.updateToolbarStatus=this.updateToolbarStatus.bind(this),this.setMarkdownFromHtml=this.setMarkdownFromHtml.bind(this),this.setHtmlFromMarkdown=this.setHtmlFromMarkdown.bind(this),this.handleEditorMutation=this.handleEditorMutation.bind(this),this.bindEditorButtonModal=this.bindEditorButtonModal.bind(this),this.bindEditorButtonSelect=this.bindEditorButtonSelect.bind(this),this.handleEditorButtonClick=this.handleEditorButtonClick.bind(this),this.getToolbarButtonByCommand=this.getToolbarButtonByCommand.bind(this),"mde"===this.renderType&&(this.editorClassName="inlineEditor-"+a,this.editorToolbar=r.querySelector("#"+s+"_toolbar"),this.editorContainer=r.querySelector("#"+s+"_editor"),this.editorToolbarButtons=this.editorToolbar?this.editorToolbar.getElementsByClassName("jfToolbar-item"):{},this.limitSpan&&this.editorToolbar&&(this.editorToolbar.appendChild(this.limitSpan.parentNode),this.editorInput.limitValidation=this.limitValidation),this.editorContainer&&this.editorToolbar&&this.initEditor())}return Textarea.prototype.saveSelection=function(){this.selectionState=(0,d.getSelectedRange)()},Textarea.prototype.restoreSelection=function(){(0,d.setSelectionRange)(this.selectionState),this.selectionState=null},Textarea.prototype.getToolbarButtonByCommand=function(e){return this.editorToolbarButtons.namedItem("input_"+this.questionID+"_"+e)},Textarea.prototype.initBasic=function(){var e=this;(0,d.forEach)(this.editorManipulationEventList,function(t){return e.editorInput.addEventListener(t,function(){return e.limitsCounter()})})},Textarea.prototype.bindEditorButton=function(e){var t=this,i=e.getAttribute("data-command");switch(e.addEventListener("keypress",function(e){32===e.keyCode&&e.target.click()}),i){case"createLink":case"insertImage":this.bindEditorButtonModal(e,i);break;case"insertEmoji":this.emojiPicker=new s.default(e,this.editorContainer,this.restoreSelection);break;case"heading":this.bindEditorButtonSelect(e,i);break;default:e.addEventListener("click",function(){return t.handleEditorButtonClick(e,i)})}},Textarea.prototype.bindEditorButtonSelect=function(e,t){var i=this,r=e.querySelector("ul"),n=r.getElementsByTagName("li");if(!r)return e.hide();e.addEventListener("click",function(e){e.stopPropagation();var o=e.target;switch(o.tagName){case"DIV":(0,d.toggleClass)(r,"isVisible"),o.setAttribute("aria-expanded",(0,d.hasClass)(r,"isVisible")),i.restoreSelection(),["Firefox","Safari"].indexOf(i.browserName)>-1&&i.saveSelection(),r.children[0].focus();break;default:var a=o.getAttribute("data-value");i.handleEditorButtonClick(o,t,a),(0,d.forEach)(n,function(e){return e.setAttribute("data-selected",!1)}),(0,d.forEach)(n,function(e){return e.setAttribute("aria-checked",!1)}),o.setAttribute("data-selected",!0),o.setAttribute("aria-checked",!0),(0,d.removeClass)(r,"isVisible")}}),document.body.addEventListener("click",function(t){var i=t.target;i===e||(0,d.isDescendant)(e,i)||(0,d.removeClass)(r,"isVisible")})},Textarea.prototype.bindEditorButtonModal=function(e,t){var i=this,r=e.getElementsByClassName("jfToolbar-modal")[0],n=e.getElementsByClassName("modal-btn")[0],o=e.getElementsByTagName("input")[0];if(!r||!o||!n)return e.hide();var a=function(){i.handleEditorButtonClick(e,t,o.value),o.value="",(0,d.removeClass)(r,"isVisible")};e.addEventListener("click",function(n){if(n.target===e){i.restoreSelection();var a=i.isCommandActive(t);if(i.saveSelection(),a)i.handleEditorButtonClick(e,t);else{var s=i.selectionFocus.textContent;if(!i.isSelectionCollapsed&&-1!==["insertImage","createLink"].indexOf(t)&&(0,l.isValidUrl)(s))return i.handleEditorButtonClick(e,t,s);(0,d.toggleClass)(r,"isVisible"),(0,d.hasClass)(r,"isVisible")&&o.focus()}}}),o.addEventListener("blur",function(){setTimeout(function(){var t=i.selectionFocus;t!==r&&t.parentNode!==n&&t.parentNode!==e&&(0,d.removeClass)(r,"isVisible")},0)}),o.addEventListener("keydown",function(e){13===e.keyCode&&(e.preventDefault(),a())}),n.addEventListener("click",a),n.addEventListener("keypress",function(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),e.stopPropagation(),n.click())})},Textarea.prototype.handleEditorButtonClick=function(e,t,i){switch(this.restoreSelection(),t){case"formatBlock":var r=(0,d.hasClass)(e,"active")?"<DIV>":"<BLOCKQUOTE>";document.execCommand("formatBlock",!1,r);break;case"heading":document.execCommand("formatBlock",!1,"H"+i);break;case"createLink":if(this.isCommandActive("createLink")){document.execCommand("unlink");break}if("Firefox"===this.browserName){document.execCommand("insertHTML",!1,'<a href="'+i+'" target="_blank">'+i+"</a>");break}default:document.execCommand(t,!1,i),-1!==this.togglableCommands.indexOf(t)&&this.isSelectionCollapsed&&((0,d.toggleClass)(e,"active"),e.setAttribute("aria-pressed",(0,d.hasClass)(e,"active")))}},Textarea.prototype.handleEditorMutation=function(t,i){var r=this,n=t.type,o=this.osName,a=this.browserName,s=this.editorInput;"iOS"!==o||i||setTimeout(function(){return r.handleEditorMutation(t,!0)},125),s.value=this.editorContainer.textContent,s.dispatchEvent(e.createNewEvent(n));var l=-1===["blur"].indexOf(n)||"Chrome"===a,d=-1===["blur","keyup"].indexOf(n)||"Internet Explorer"===a&&"blur"===n||"Chrome"===a;switch(l&&this.saveSelection(),n){case"keydown":this.handleKeydownEvent(t);break;case"keyup":if(this.preventNextKeyUp){this.preventNextKeyUp=!1;break}default:d&&this.updateToolbarStatus()}this.limitSpan&&this.limitValidation()},Textarea.prototype.handleKeydownEvent=function(e){if(!0===e[this.shortcutKey]&&this.keyCommandMap[e.key]){e.preventDefault();var t=this.keyCommandMap[e.key],i=this.getToolbarButtonByCommand(t);this.handleEditorButtonClick(i,t),this.isSelectionCollapsed&&(this.preventNextKeyUp=!0)}else!0===e.shiftKey&&"Tab"===e.key?(document.execCommand("outdent"),e.preventDefault()):"Tab"===e.key?(document.execCommand("indent"),e.preventDefault()):"Escape"===e.key&&e.target.blur()},Textarea.prototype.getActiveTags=function(e){var t;if(!e)return{};if(e.parentNode===this.editorContainer){var i,r=e.tagName;return i={},i[r]=!(this.commandTagMap.heading.indexOf(r)>-1)||e.getAttribute("size"),i}return n({},this.getActiveTags(e.parentNode),(t={},t[e.tagName]=1,t))},Textarea.prototype.isCommandActive=function(e){var t=this.commandTagMap[e];return!!t&&Object.keys(this.getActiveTags(this.selectionFocus)).findIndex(function(e){return t.indexOf(e)>-1})>-1},Textarea.prototype.updateToolbarStatus=function(){var e=this,t=this.selectionFocus;if(t!==this.editorContainer){var i=this.getActiveTags(t),r=Object.keys(i);(0,d.forEach)(this.editorToolbarButtons,function(t){var n=e.commandTagMap[t.getAttribute("data-command")];if(void 0!==n){var o=t.getElementsByTagName("li"),a=(0,d.findIndex)(r,n);if(o&&o.length>0)(0,d.forEach)(o,function(e){var t=e.getAttribute("data-value"),n=r[a],o=i[n];"undefined"!==n&&"string"==typeof o&&e.setAttribute("data-selected",-1!==a&&t===o.replace(/^\D+/g,""))});else{(-1!==a?d.addClass:d.removeClass).call(e,t,"active"),t.setAttribute("aria-pressed",(0,d.hasClass)(t,"active"))}}})}},Textarea.prototype.limitValidation=function(){var t="mde"===this.renderType?(0,d.htmlToText)(this.editorContainer):this.editorInput.value,i="Words"===this.limitType?t.split(/[\n\r\s]+/).length:t.length,r=this.minLimit>0&&i<this.minLimit,n=this.maxLimit>0&&i>this.maxLimit,o=r&&!n||this.minLimit>0&&this.maxLimit<0?this.minLimit:this.maxLimit;if(this.limitSpan.textContent=i+"/"+o,r||n){var a="Words"===this.limitType?"word":"character",s=r?a+"MinLimitError":a+"LimitError",l=e.JotForm.texts[s]+" "+o;return this.editorInput.errorMessage!==l&&e.JotForm.corrected(this.editorInput),e.JotForm.errored(this.editorInput,l),l}return e.JotForm.corrected(this.editorInput),!1},Textarea.prototype.setMarkdownFromHtml=function(t){if("function"==typeof e.toMarkdown){var i=void 0!==t?t:this.editorContainer.innerHTML,r=e.toMarkdown(i);this.editorInput.value=0!==r.length?"jotform_untitled_markdown"+r:""}},Textarea.prototype.setHtmlFromMarkdown=function(t){if("object"===r(e.showdown)&&"function"==typeof e.showdown.Converter){var i=void 0!==t?t:this.editorInput.value.replace("jotform_untitled_markdown",""),n=new e.showdown.Converter;this.editorContainer.innerHTML=n.makeHtml(i)}},Textarea.prototype.initEditor=function(){var e=this;if(this.editorInput.classList.contains("form-readonly"))return void(this.editorContainer.contentEditable=!1);this.setHtmlFromMarkdown(this.editorInput.value),(0,d.forEach)(this.editorToolbarButtons,this.bindEditorButton),(0,d.forEach)(this.editorManipulationEventList,function(t){return e.editorContainer.addEventListener(t,e.handleEditorMutation)})},o(Textarea,[{key:"selection",get:function(){return e.getSelection?e.getSelection():{}}},{key:"isSelectionCollapsed",get:function(){return!!this.selection&&this.selection.isCollapsed}},{key:"selectionFocus",get:function(){return this.selection?this.selection.focusNode:{}}}]),Textarea}();t.default=c}).call(t,i(6))},5164:function(e,t,i){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=i(5165),n=function(e){return e&&e.__esModule?e:{default:e}}(r),o=i(12),a=function(){function EmojiPicker(e,t,i){var r=this;_classCallCheck(this,EmojiPicker),this.restoreSelection=i,this.generateEmojiList=this.generateEmojiList.bind(this),this.generateEmojiButton=this.generateEmojiButton.bind(this),this.generateEmojiPicker=this.generateEmojiPicker.bind(this),this.generateEmojiListItem=this.generateEmojiListItem.bind(this),this.handleEmojiButtonClick=this.handleEmojiButtonClick.bind(this),this.handleEmojiTriggerClick=this.handleEmojiTriggerClick.bind(this),this.editor=t,this.triggetButton=e,this.emojiPicker=this.generateEmojiPicker(t),this.emojiContainer=document.createElement("div"),this.emojiContainer.style.position="absolute",this.emojiContainer.appendChild(this.emojiPicker),this.triggetButton.parentNode.appendChild(this.emojiContainer),this.triggetButton.addEventListener("click",this.handleEmojiTriggerClick),this.triggetButton.addEventListener("blur",function(){return setTimeout(function(){r.emojiPicker.style.display="none"},200)})}return EmojiPicker.prototype.generateEmojiPicker=function(e){var t=document.createElement("div"),i=this.generateEmojiList();return(0,o.addClass)(t,"jfEmoji-picker"),t.addEventListener("blur",function(){t.style.display="none"}),e.addEventListener("keydown",function(){t.style.display="none"}),t.appendChild(i),t},EmojiPicker.prototype.generateEmojiListItem=function(){var e=document.createElement("li");return e.className="jfEmoji-picker-item",e},EmojiPicker.prototype.generateEmojiButton=function(e){var t=document.createElement("a");return t.className="jfEmoji-picker-link",t.innerHTML=String.fromCodePoint(e),t},EmojiPicker.prototype.generateEmojiList=function(){var e=this,t=document.createElement("ul");t.className="jfEmoji-picker-list";var i=(0,o.map)(n.default,function(t){var i=e.generateEmojiListItem(),r=e.generateEmojiButton(t);return r.addEventListener("click",e.handleEmojiButtonClick),i.appendChild(r),i});return(0,o.forEach)(i,function(e){return t.appendChild(e)}),t},EmojiPicker.prototype.handleEmojiButtonClick=function(t){this.restoreSelection();var i=e.getSelection(),r=i.focusNode,n=i.anchorOffset,a=i.focusOffset;if(r!==this.editor&&!(0,o.isDescendant)(this.editor,r))return this.emojiPicker.style.display="none",!1;var s=n<a,l=s?n:a,d=s?a:n,c=r.textContent.substring(0,l),u=r.textContent.substring(d),h=t.target.textContent;r.textContent=c+h+u;var p=document.createRange();c.length>0?p.setStart(r,c.length+h.length):p.setStart(r,c.length),p.collapse(!0),i.removeAllRanges(),i.addRange(p),this.emojiPicker.style.display="none"},EmojiPicker.prototype.handleEmojiTriggerClick=function(e){if(e.target===this.triggetButton)if("block"===this.emojiPicker.style.display)this.emojiPicker.style.display="none";else{this.emojiPicker.style.display="block";var t=this.triggetButton.getBoundingClientRect(),i=this.triggetButton.parentNode.getBoundingClientRect(),r=this.emojiPicker.getBoundingClientRect().width,n=t.left-r/2,o=n<0?Math.abs(n):0;this.emojiContainer.style.left=t.left-i.left+40+o}},EmojiPicker}();t.default=a}).call(t,i(6))},5165:function(e,t,i){"use strict";t.__esModule=!0;var r=[128513,128545,128514,128521,128522,128584,128556,128541,128536,128155,128525,128568,128077,128532,128557,128139,128530,128563,128540,128515,128546,128561,128527,128542,128517,128538,128586,128524,128512,128541];t.default=r},5166:function(e,t,i){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},n=i(12),o={creditCard:"creditCard",address:"address",email:"email",paymentType:"type",plaid:"plaid"},a={products:"products",paymentType:"paymentType",creditCard:"creditCard",address:"address",email:"email",plaid:"plaid"},s=["control_2co","control_authnet","control_bluepay","control_bluesnap","control_braintree","control_cardconnect","control_chargify","control_clickbank","control_dwolla","control_echeck","control_eway","control_firstdata","control_paypalInvoicing","control_stripeACHManual","control_gocardless","control_googleco","control_onebip","control_payjunction","control_payment","control_paymentwall","control_paymill","control_paypal","control_paypalexpress","control_paypalpro","control_paypalSPB","control_paypalcomplete","control_square","control_stripe","control_stripeACH","control_wepay","control_worldpay","control_worldpayus","control_payu","control_pagseguro","control_moneris","control_sofort","control_skrill","control_paysafe","control_mollie","control_stripeCheckout","control_payfast"],l=function(e){return e.wrapperContainer.cloneNode(!0)},d=function(e){var t=r({},e),i=l(t);return t.wrapperContainer=i,t.cardContainer=i.querySelector(".jfCard"),t.indexContainer=i.querySelector(".jfCard-index"),t.pressEnterContainer=i.querySelector(".jfPressEnter"),t.actionsButtons={prev:t.cardContainer.querySelector(".jfCard-actions .forPrev"),next:t.cardContainer.querySelector(".jfCard-actions .forNext"),submit:t.cardContainer.querySelector(".jfCard-actions .forSubmit"),mode:"middle"},t},c=function(e){(0,n.forEach)((0,n.map)(e.parentNode.children,function(e){return e}),function(t){t!==e&&t.parentNode.removeChild(t)})},u=function(e,t,i){var r=e,n=t.innerText;t.parentNode.removeChild(t);var o=r.cardContainer.querySelector(".jfQuestion-label");o.childNodes&&o.childNodes.length&&3===o.childNodes[0].nodeType?(o.childNodes[0].nodeValue=n,o.setAttribute("id",o.getAttribute("id")+"_"+i)):o.innerText=n},h=function(e){return e.find(function(e){return s.indexOf(e.question.type)>-1})},p=function(e){var t=d(e);t.type=a.products;var i=t.wrapperContainer.querySelector(".products-container");return c(i),t.question.hideSingleProduct&&(t.isHidden=!0,t.forceHide=!0,t.wrapperContainer.style.display="none"),t},m=function(e){var t=d(e);t.type=a.paymentType;var i=t.wrapperContainer.querySelector(".jfPaymentType");return i?(t.question.hideSingleProduct&&(t.isHidden=!0,t.forceHide=!0,t.wrapperContainer.style.display="none"),c(i),u(t,i.querySelector(".js-header"),o.paymentType),c(i.querySelector(".js-content")),t):null},f=function(e){var t=d(e);t.type=a.creditCard;var i=t.wrapperContainer.querySelector(".jfCreditCardAddress");if(i){var r=i.querySelector(".jfCreditCardAddress-creditCardWrapper");if(r)return"none"===i.style.display&&(t.isHidden=!0,t.forceHide=!0,t.wrapperContainer.style.display="none"),i.removeAttribute("style"),c(i),u(t,r.querySelector(".js-header"),o.creditCard),c(r),t}return null},y=function(e){var t=d(e);t.type=a.address;var i=t.wrapperContainer.querySelector(".jfCreditCardAddress");if(i){var r=i.querySelector(".jfCreditCardAddress-addressWrapper");if(r)return"none"===i.style.display&&(t.isHidden=!0,t.forceHide=!0,t.wrapperContainer.style.display="none"),i.removeAttribute("style"),c(i),u(t,r.querySelector(".js-header"),o.address),c(r),t}return null},v=function(e){var t=d(e);t.type=a.email;var i=t.wrapperContainer.querySelector(".jfCreditCardAddress");if(i){var r=i.querySelector(".jfCreditCardAddress-emailWrapper");if(r)return t.question.hideSingleProduct&&(t.isHidden=!0,t.forceHide=!0,t.wrapperContainer.style.display="none"),c(i),u(t,i.querySelector(".js-header"),o.email),c(i.querySelector(".js-content")),c(r),t}return null},g=function(e){var t="Bank Account Details",i=d(e);i.type=a.plaid;var r=i.wrapperContainer.querySelector(".jfCreditCardAddress");if(r){var n=r.querySelector(".jfCreditCardAddress-plaidWrapper");if(n)return c(r),c(r.querySelector(".js-content")),c(n),i.label=t,i.cardContainer.querySelector(".jsQuestionLabelContainer").innerText=t,i}return null},b=function(e,t,i){var r=d(e);r.type=i;var n=".jfCreditCardAddress-"+i+"Wrapper",o=r.wrapperContainer.querySelector(".jfCreditCardAddress");if(o){var a=o.querySelector(n);if(a)return c(o),c(o.querySelector(".js-content")),c(a),r.label=t,r.cardContainer.querySelector(".jsQuestionLabelContainer").innerText=t,r.cardContainer.querySelector(".jfQuestion-label").style.padding="0",r}return null},C=function(e,t){var i=[].concat(e),r=h(i);if(r){var o=i.indexOf(r),a=r.wrapperContainer,s=r.formLine,l=t.find(function(e){return e.question&&"control_paypalSPB"===e.question.type}),d=[p(r),v(r),m(r),f(r),y(r),g(r),b(r,l?l.label:"Pay with PayPal","paypalSPB")].filter(function(e){return e});d.forEach(function(e,t){var i=e.wrapperContainer.querySelector(".js-productModuleWrapper");i&&(0,n.removeClass)(i,"js-productModuleWrapper"),d[t].questionContainer=e.wrapperContainer.querySelector(".jfCard-question"),d[t].actionButtonsWrapper=e.wrapperContainer.querySelector(".jfCard-actions")});var c=d.map(function(e){return e.wrapperContainer});i.splice.apply(i,[o,1].concat(d)),c.forEach(function(e){s.insertBefore(e,a)}),s.removeChild(a)}return i};t.default={populateCards:C,paymentTypes:s,paymentCards:a}},5167:function(e,t,i){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=i(12),n=function(){function DateHandler(e,t,i,r){_classCallCheck(this,DateHandler),this.hasTouch=t,this.isMobile=i,this.card=e,this.additionalProps=r,this.isCalendarVisible=!1,this.inputType="control_inline"===this.card.question.type?"inline":"date","inline"===this.inputType&&(this.blotId=this.additionalProps.options[0].id),this.updateCalendarPosition=this.updateCalendarPosition.bind(this),this.init()}return DateHandler.prototype.init=function(){this.calendarContainer=this.card.cardContainer.querySelector(".jfCalendar-wrapper"),this.liteModeInput=document.getElementById("lite_mode_"+this.card.question.id),this.dateInput=this.card.cardContainer.querySelector(".jfCardDateInput"),"control_inline"===this.card.question.type&&(this.liteModeInput=this.card.cardContainer.querySelector("#lite_mode_"+this.card.question.id+"-"+this.blotId),this.calendarContainer=document.querySelector("#calendar-container-"+this.card.question.id+"-"+this.blotId).parentNode),this.setCalendarVisibility(this.isCalendarVisible),this.setInputVisibility(),this.bindToggleButton(),this.bindDateInput(),this.moveCalendarToBody(),this.bindCalendarCloseOnDateSelect()},DateHandler.prototype.moveCalendarToBody=function(){this.calendarContainer.parentNode.removeChild(this.calendarContainer),document.body.appendChild(this.calendarContainer),this.calendarContainer.style.position="fixed"},DateHandler.prototype.updateCalendarPosition=function(){var e=((this.isMobile?this.dateInput:this.liteModeInput)||this.liteModeInput).getBoundingClientRect();this.calendarContainer.style.top=e.bottom,this.calendarContainer.style.left=e.left+e.width/2},DateHandler.prototype.setInputType=function(e){this.inputType=e;var t=this.card.cardContainer.querySelectorAll(".jfQuestion-fields .jfField input");(0,r.forEach)(t,function(t){var i=t;i.type=e;var n=(0,r.closest)(i,".jfField");(0,r.addClass)(n,"isFilled")})},DateHandler.prototype.hideDefaultInputFields=function(){var e=this.card.cardContainer.querySelectorAll(".jfField");(0,r.forEach)(e,function(e){(0,r.addClass)(e,"isHidden"),(0,r.addClass)(e,"cf-valid-hidden")})},DateHandler.prototype.bindDateInput=function(){var e=this;this.dateInput&&this.dateInput.addEventListener("change",function(t){e.onLiteInputChange(t.target)})},DateHandler.prototype.setCalendarVisibility=function(e){this.isCalendarVisible=e,e?((0,r.removeClass)(this.calendarContainer,"isHidden"),this.updateCalendarPosition()):(0,r.addClass)(this.calendarContainer,"isHidden")},DateHandler.prototype.setInputVisibility=function(){this.isMobile?((0,r.addClass)(this.liteModeInput,"isHidden"),(0,r.setAttribute)(this.liteModeInput,"tabindex",-1),(0,r.removeClass)(this.dateInput,"isHidden"),(0,r.removeAttribute)(this.dateInput,"tabindex")):((0,r.removeClass)(this.liteModeInput,"isHidden"),(0,r.removeAttribute)(this.liteModeInput,"tabindex"),this.dateInput&&(this.dateInput.style.display="none"))},DateHandler.prototype.bindToggleButton=function(){var e=this,t=(this.blotId?this.card.cardContainer.querySelector("#id_"+this.card.question.id+"-"+this.blotId):this.card.cardContainer).querySelector(".jfField-svgWrapper.forDate");t&&(t.addEventListener("keypress",function(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),e.target.click())}),t.addEventListener("click",function(){e.setCalendarVisibility(!e.isCalendarVisible)}))},DateHandler.prototype.onLiteInputChange=function(e){var t=e.value||"",i=t.split("-"),r=i[0],n=i[1],o=i[2],a=new Date(r,parseInt(n,10)-1,o,0,0,0);isNaN(a)?t?(document.getElementById("year_"+this.card.question.id).value=r,document.getElementById("month_"+this.card.question.id).value=n,document.getElementById("day_"+this.card.question.id).value=o,this.card.validate()):(this.clearDateInputs(),this.card.validate()):(this.calendar.setDate(a||t),this.calendar.selectHandler(this.calendar,t))},DateHandler.prototype.clearDateInputs=function(){document.getElementById("year_"+this.card.question.id).value="",document.getElementById("month_"+this.card.question.id).value="",document.getElementById("day_"+this.card.question.id).value="",this.liteModeInput&&(this.liteModeInput.value="")},DateHandler.prototype.onCalendarSelected=function(e){e&&this.dateInput&&(this.dateInput.value=e,this.dateInput.hasAttribute("data-valid-example")&&this.dateInput.previousSibling.classList.add("calendarSelect"))},DateHandler.prototype.bindCalendarCloseOnDateSelect=function(){var e=this;this.calendarContainer.addEventListener("click",function(t){(0,r.closest)(t.target,"tbody")&&(0,r.closest)(t.target,".jfCalendar-container")&&!(0,r.closest)(t.target,"td.unselectable")&&e.setCalendarVisibility(!1)})},DateHandler}(),o=function(){function Datetime(e){_classCallCheck(this,Datetime),this.init=this.init.bind(this),this.init(e),this.listenCalendarOutsideClick(),this.listenResize()}return Datetime.prototype.init=function(e){var t=this;this.cards=e.cards;var i=e.cards.filter(function(e){return["control_datetime","control_birthdate"].indexOf(e.question.type)>-1}),r=e.cards.filter(function(e){return"control_inline"===e.question.type});this.handlers=i.map(function(t){return new n(t,e.hasTouch,e.isMobile)}),r.forEach(function(i){(Array.isArray(i.question.fields)?i.question.fields:[]).filter(function(e){return"control_datetime"===e.type}).forEach(function(r){t.handlers.push(new n(i,e.hasTouch,e.isMobile,r))})})},Datetime.prototype.closeAllCalendars=function(){this.handlers.forEach(function(e){return e.setCalendarVisibility(!1)})},Datetime.prototype.listenCalendarOutsideClick=function(){var e=this;document.addEventListener("click",function(t){(0,r.closest)(t.target,".jfCalendar-container, .jfDropdown-toggle")||e.handlers.forEach(function(e){e.setCalendarVisibility(!1)})},!0)},Datetime.prototype.listenResize=function(){var e=this;window.addEventListener("resize",function(){e.handlers.forEach(function(e){e.updateCalendarPosition()})}),window.addEventListener("orientationchange",function(){e.handlers.forEach(function(e){e.updateCalendarPosition()})})},Datetime.prototype.onCalendarSelected=function(e,t){this.handlers.find(function(t){return t.card===e}).onCalendarSelected(t)},Datetime.prototype.onCalendarInit=function(e,t){this.handlers.find(function(t){return t.card===e}).calendar=t},Datetime}();t.default=o},5168:function(e,t,i){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=i(12),n=function(){function EmbedOptions(t){_classCallCheck(this,EmbedOptions),this.formID=t.formID,this.layout=t,this.layout="standard",this.listenEmbedOptionsMessage=this.listenEmbedOptionsMessage.bind(this),this.initializeStandardProgress=this.initializeStandardProgress.bind(this),this.initializeModernProgress=this.initializeModernProgress.bind(this),this.calculateFormHeight=this.calculateFormHeight.bind(this),this.handleQuestionChange=this.handleQuestionChange.bind(this),e.parent!==e&&(this.bindIframeMessageListener(),this.handleQuestionChange())}return EmbedOptions.prototype.bindIframeMessageListener=function(){window.addEventListener?window.addEventListener("message",this.listenEmbedOptionsMessage,!1):window.attachEvent&&window.attachEvent("onmessage",this.listenEmbedOptionsMessage)},EmbedOptions.prototype.populateEmbedOptionsButton=function(){var t=this;if(e.parent!==e){var i=document.createElement("img");i.classList.add("embedOptionsButton"),i.src="https://cdn.jotfor.ms/assets/img/cardforms/pencil.svg",i.setStyle({position:"absolute",top:"20px",left:"20px",width:"40px",cursor:"pointer"}),i.addEventListener("click",function(){window.postMessage("embedOptions:toggle:"+t.formID,"*")}),document.body.appendChild(i);var r=document.createElement("div");r.classList.add("toolTip"),r.classList.add("u-neutral"),r.classList.add("u-northWest"),r.classList.add("u-tethered"),r.setStyle({display:"none",visibility:"initial",textAlign:"center",top:"62px",left:"20px",width:"240px",borderRadius:"3px",fontSize:"13px",opacity:"initial"}),r.innerHTML="Only Form owner see this button";var n=document.createElement("span");n.setStyle({display:"block",fontSize:"10px"}),n.innerHTML='Inline Embed Feature by <a style="color: orange; text-decoration: none" href="https://jotform.com" target="_blank">JotForm</a>',r.appendChild(n),i.addEventListener("mouseenter",function(){r.style.display="block"}),i.addEventListener("mouseleave",function(){r.style.display="none"}),document.body.appendChild(r);var o=document.createElement("link");o.setAttribute("rel","stylesheet"),o.setAttribute("href","https://moodular.jotform.com/dist/moodular4/tooltips.css"),document.getElementsByTagName("head")[0].appendChild(o)}},EmbedOptions.prototype.listenEmbedOptionsMessage=function(e){if(e.data)try{if("embedOptions"===e.data.split(":")[0])return;var t=JSON.parse(e.data);if(t.showOwnerButton&&this.populateEmbedOptionsButton(),t.background){document.querySelector(".jfForm-wrapper").setStyle({background:t.background});document.querySelector(".jfForm-backgroundContainer").setStyle({background:t.background});document.querySelector(".jotform-form").setStyle({background:t.background});document.querySelector(".jfProgress").setStyle({background:t.background})}if(t.cardColor&&document.querySelectorAll(".jfCard-actions").forEach(function(e){e.setStyle({background:t.cardColor})}),t.cardBorderColor&&document.querySelectorAll(".jfCard").forEach(function(e){e.setStyle({border:"1px solid "+t.cardBorderColor})}),t.nextButtonColor&&(document.querySelectorAll(".jfInput-button.forNext").forEach(function(e){e.setStyle({background:t.nextButtonColor,"border-color":t.nextButtonColor})}),document.querySelectorAll(".jfProgress-item").forEach(function(e){e.setAttribute("data-color",t.nextButtonColor)})),t.prevButtonColor&&document.querySelectorAll(".jfInput-button.forPrev").forEach(function(e){e.setStyle({background:t.prevButtonColor,"border-color":t.prevButtonColor})}),t.overviewColor){var i=document.querySelector(".jfProgress-infoContent");i&&i.setStyle({background:t.overviewColor})}if(t.progressBackground){var r=document.querySelector(".jfProgress-itemWrapper");r&&r.setStyle({background:t.progressBackground})}if(t.overviewTextColor){document.querySelectorAll(".jfProgress-infoContentText").forEach(function(e){e.setStyle({color:t.overviewTextColor})})}if(t.progressTextColor){document.querySelectorAll(".jfProgress-itemLabel").forEach(function(e){e.setStyle({color:t.progressTextColor})})}if(t.toggleProgress&&document.querySelectorAll(".jfProgress-itemWrapperLine, .jfProgress-itemWrapper").forEach(function(e){e.setStyle({display:"hide"===t.toggleProgress?"none":"block"})}),t.toggleOverview&&document.querySelector(".jfProgress-infoContent").setStyle({display:"hide"===t.toggleOverview?"none":"inline-block"}),t.toggleLogo){var n=document.querySelector(".jfForm-logo");if(n){var o="hide"===t.toggleLogo?0:1;n.style.opacity=o}}if(t.toggleTitle){var a=document.querySelector("#title-toggle"),s=document.createTextNode("\n          .formMode .jfWelcome-header, .formMode .jfWelcome-description {\n            opacity: "+("hide"===t.toggleTitle?0:1)+";\n          }\n        ");for(a||(a=document.createElement("style"),a.type="text/css",a.id="title-toggle",document.head.appendChild(a));a.firstChild;)a.removeChild(a.firstChild);a.appendChild(s)}if(t.headerText&&document.querySelectorAll(".jfWelcome-header, .jfWelcome-description").forEach(function(e){e.setStyle({color:t.headerText})}),t.toggleShadow){var l="hide"!==t.toggleShadow?"0 10px 50px 15px rgba(0, 0, 0, .12)":"0 0px 0px 0px rgba(0, 0, 0, 0)";document.querySelectorAll(".jfCard, .jfProgress.hackweekProgress > .jfProgress-itemWrapper").forEach(function(e){e.setStyle({"box-shadow":l,"-webkit-box-shadow":l})})}if(t.onlyCard){var d=document.querySelector(".jfForm-logo");d&&d.setStyle({visibility:"show"===t.onlyCard?"hidden":"visible"});var c=document.querySelector(".jfWelcome-wrapper");c&&c.setStyle({opacity:"show"===t.onlyCard?0:1}),document.querySelector(".jfProgress-itemWrapperLine").setStyle({display:"show"===t.onlyCard?"none":"inline-block"}),document.querySelector(".jfProgress-itemWrapper").setStyle({display:"show"===t.onlyCard?"none":"inline-block"}),document.querySelector(".jfProgress-info").setStyle({visibility:"show"===t.onlyCard?"hidden":"visible"})}if(t.headerSize){var u=document.querySelector(".jfWelcome-header");u&&u.setStyle({fontSize:t.headerSize})}}catch(e){console.log("Error on embed options: ",e)}},EmbedOptions.prototype.initializeModernProgress=function(){(0,r.addClass)(document.querySelector(".jfProgress"),"hackweekProgress"),document.querySelectorAll(".jfProgress-itemLabel").forEach(function(e){var t=e;t.setAttribute("data-hwOldVal",t.innerHTML),t.innerHTML=parseInt(t.innerHTML,10)})},EmbedOptions.prototype.initializeStandardProgress=function(){(0,r.removeClass)(document.querySelector(".jfProgress"),"hackweekProgress"),document.querySelectorAll(".jfProgress-itemLabel").forEach(function(e){var t=e;t.innerHTML=t.getAttribute("data-hwOldVal"),t.removeAttribute("data-hwOldVal")});var e=document.querySelector(".jfProgress-itemWrapper");(0,r.removeClass)(e,"jfProgress-itemWrapper"),setTimeout(function(){(0,r.addClass)(e,"jfProgress-itemWrapper")},100)},EmbedOptions.prototype.calculateFormHeight=function(){(0,r.addClass)(document.querySelector(".jfForm-wrapper"),"hackweekWrapper");var e=document.getElementById("header_welcomePage").getBoundingClientRect(),t=document.getElementById("subHeader_welcomePage")?document.getElementById("subHeader_welcomePage").getBoundingClientRect():{height:0},i=t.height>2.9*e.height?3.9*e.height:e.height+t.height,n=document.getElementById("cardProgress").getBoundingClientRect(),o=document.querySelector(".formFooter")?document.querySelector(".formFooter").getBoundingClientRect().height:0,a=+window.getComputedStyle(window.CardForm.cards[0].cardContainer).fontSize.slice(0,-2),s=3.5*a+2,l=i+n.height+o+s;if("modern"===this.layout){var d=0;window.CardForm.cards.forEach(function(e){e.cardContainer.clientHeight>d&&(d=e.cardContainer.clientHeight)}),l+=d}else if("bouncy"===this.layout){var c=document.querySelector(".jfCard-wrapper.isVisible > .jfCard").getBoundingClientRect().height;l+=c}"standard"!==this.layout&&(document.querySelector(".jfProgress.hackweekProgress").style=""),window.parent.postMessage("setHeight:"+l,"*")},EmbedOptions.prototype.handleQuestionChange=function(){var e=this;document.querySelectorAll(".jfInput-button.forNext, .jfInput-button.forPrev").forEach(function(t){t.addEventListener("click",function(){"bouncy"===e.layout&&setTimeout(function(){e.calculateFormHeight()},100)})})},EmbedOptions}();t.default=n}).call(t,i(6))},5169:function(e,t,i){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=i(12),n=function(){function CardHint(e){_classCallCheck(this,CardHint);var t=e.timeout,i=e.className;this.layoutParams={timeout:t},this.layoutElements={hintContainer:document.querySelector("."+i)},this.alreadyShown=!1,this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.setTimerForHide=this.setTimerForHide.bind(this)}return CardHint.prototype.show=function(){this.layoutElements.hintContainer&&!this.alreadyShown&&(this.layoutElements.hintContainer.style.display="block",(0,r.removeClass)(this.layoutElements.hintContainer,"isHidden"),this.setTimerForHide())},CardHint.prototype.hide=function(){this.layoutElements.hintContainer.style.display="none",(0,r.addClass)(this.layoutElements.hintContainer,"isHidden"),this.alreadyShown=!0},CardHint.prototype.setTimerForHide=function(){setTimeout(this.hide,this.layoutParams.timeout)},CardHint}();t.default=n},6:function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(i=window)}e.exports=i}})});